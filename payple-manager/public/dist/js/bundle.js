!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(T,R){"use strict";function m(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function M(e){return null!=e&&e===e.window}var t=[],I=Object.getPrototypeOf,a=t.slice,W=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},F=t.push,x=t.indexOf,$={},B=$.toString,_=$.hasOwnProperty,X=_.toString,U=X.call(Object),g={},C=T.document,z={type:!0,src:!0,nonce:!0,noModule:!0};function V(e,t,n){var r,i,o=(n=n||C).createElement("script");if(o.text=e,t)for(r in z)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function G(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[B.call(e)]||"object":typeof e}var e="3.7.0",Y=/HTML$/i,S=function(e,t){return new S.fn.init(e,t)};function Q(e){var t=!!e&&"length"in e&&e.length,n=G(e);return!m(e)&&!M(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function b(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}S.fn=S.prototype={jquery:e,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=S.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:F,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||m(o)||(o={}),s===a&&(o=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(u&&n&&(S.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[t],i=r&&!Array.isArray(i)?[]:r||S.isPlainObject(i)?i:{},r=!1,o[t]=S.extend(u,i,n)):void 0!==n&&(o[t]=n));return o},S.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==B.call(e)||(e=I(e))&&("function"!=typeof(e=_.call(e,"constructor")&&e.constructor)||X.call(e)!==U))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){V(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(Q(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S.text(t);return n},makeArray:function(e,t){t=t||[];return null!=e&&(Q(Object(e))?S.merge(t,"string"==typeof e?[e]:e):F.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:x.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||e&&e.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!=s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(Q(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return W(s)},guid:1,support:g}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});var J=t.pop,K=t.sort,Z=t.splice,n="[\\x20\\t\\r\\n\\f]",ee=new RegExp("^"+n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+n+"+$","g"),te=(S.contains=function(e,t){t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(e.contains?e.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function ne(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}S.escapeSelector=function(e){return(e+"").replace(te,ne)};var re,w,ie,oe,se,E,ae,k,p,ue,r=C,le=F,j=le,A=S.expando,D=0,ce=0,fe=Ne(),pe=Ne(),de=Ne(),he=Ne(),ge=function(e,t){return e===t&&(se=!0),0},ye="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",e="(?:\\\\[\\da-fA-F]{1,6}"+n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",i="\\["+n+"*("+e+")(?:"+n+"*([*^$|!~]?=)"+n+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+e+"))|)"+n+"*\\]",o=":("+e+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+i+")*)|.*)\\)|)",ve=new RegExp(n+"+","g"),me=new RegExp("^"+n+"*,"+n+"*"),xe=new RegExp("^"+n+"*([>+~]|"+n+")"+n+"*"),be=new RegExp(n+"|>"),we=new RegExp(o),Te=new RegExp("^"+e+"$"),Ce={ID:new RegExp("^#("+e+")"),CLASS:new RegExp("^\\.("+e+")"),TAG:new RegExp("^("+e+"|[*])"),ATTR:new RegExp("^"+i),PSEUDO:new RegExp("^"+o),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+n+"*(even|odd|(([+-]|)(\\d*)n|)"+n+"*(?:([+-]|)"+n+"*(\\d+)|))"+n+"*\\)|)","i"),bool:new RegExp("^(?:"+ye+")$","i"),needsContext:new RegExp("^"+n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+n+"*((?:-\\d)?\\d*)"+n+"*\\)|)(?=[^-]|$)","i")},Se=/^(?:input|select|textarea|button)$/i,Ee=/^h\d$/i,ke=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,je=/[+~]/,f=new RegExp("\\\\[\\da-fA-F]{1,6}"+n+"?|\\\\([^\\r\\n\\f])","g"),d=function(e,t){e="0x"+e.slice(1)-65536;return t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))},Ae=function(){Pe()},De=We(function(e){return!0===e.disabled&&b(e,"fieldset")},{dir:"parentNode",next:"legend"});try{j.apply(t=a.call(r.childNodes),r.childNodes),t[r.childNodes.length].nodeType}catch(re){j={apply:function(e,t){le.apply(e,a.call(t))},call:function(e){le.apply(e,a.call(arguments,1))}}}function N(e,t,n,r){var i,o,s,a,u,l,c=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&(Pe(t),t=t||E,k)){if(11!==f&&(a=ke.exec(e)))if(i=a[1]){if(9===f){if(!(l=t.getElementById(i)))return n;if(l.id===i)return j.call(n,l),n}else if(c&&(l=c.getElementById(i))&&N.contains(t,l)&&l.id===i)return j.call(n,l),n}else{if(a[2])return j.apply(n,t.getElementsByTagName(e)),n;if((i=a[3])&&t.getElementsByClassName)return j.apply(n,t.getElementsByClassName(i)),n}if(!(he[e+" "]||p&&p.test(e))){if(l=e,c=t,1===f&&(be.test(e)||xe.test(e))){for((c=je.test(e)&&Oe(t.parentNode)||t)==t&&g.scope||((s=t.getAttribute("id"))?s=S.escapeSelector(s):t.setAttribute("id",s=A)),o=(u=Me(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+Ie(u[o]);l=u.join(",")}try{return j.apply(n,c.querySelectorAll(l)),n}catch(t){he(e,!0)}finally{s===A&&t.removeAttribute("id")}}}return Xe(e.replace(ee,"$1"),t,n,r)}function Ne(){var r=[];return function e(t,n){return r.push(t+" ")>w.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function q(e){return e[A]=!0,e}function qe(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function Le(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&De(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function He(s){return q(function(o){return o=+o,q(function(e,t){for(var n,r=s([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function Oe(e){return e&&void 0!==e.getElementsByTagName&&e}function Pe(e){var e=e?e.ownerDocument||e:r;return e!=E&&9===e.nodeType&&e.documentElement&&(ae=(E=e).documentElement,k=!S.isXMLDoc(E),ue=ae.matches||ae.webkitMatchesSelector||ae.msMatchesSelector,r!=E&&(e=E.defaultView)&&e.top!==e&&e.addEventListener("unload",Ae),g.getById=qe(function(e){return ae.appendChild(e).id=S.expando,!E.getElementsByName||!E.getElementsByName(S.expando).length}),g.disconnectedMatch=qe(function(e){return ue.call(e,"*")}),g.scope=qe(function(){return E.querySelectorAll(":scope")}),g.cssHas=qe(function(){try{return E.querySelector(":has(*,:jqfake)"),0}catch(e){return 1}}),g.getById?(w.filter.ID=function(e){var t=e.replace(f,d);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(t=t.getElementById(e))?[t]:[]}):(w.filter.ID=function(e){var t=e.replace(f,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},w.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},p=[],qe(function(e){var t;ae.appendChild(e).innerHTML="<a id='"+A+"' href='' disabled='disabled'></a><select id='"+A+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||p.push("\\["+n+"*(?:value|"+ye+")"),e.querySelectorAll("[id~="+A+"-]").length||p.push("~="),e.querySelectorAll("a#"+A+"+*").length||p.push(".#.+[+~]"),e.querySelectorAll(":checked").length||p.push(":checked"),(t=E.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),ae.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(t=E.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||p.push("\\["+n+"*name"+n+"*="+n+"*(?:''|\"\")")}),g.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),ge=function(e,t){var n;return e===t?(se=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===E||e.ownerDocument==r&&N.contains(r,e)?-1:t===E||t.ownerDocument==r&&N.contains(r,t)?1:oe?x.call(oe,e)-x.call(oe,t):0:4&n?-1:1)}),E}for(re in N.matches=function(e,t){return N(e,null,null,t)},N.matchesSelector=function(e,t){if(Pe(e),k&&!he[t+" "]&&(!p||!p.test(t)))try{var n=ue.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){he(t,!0)}return 0<N(t,E,null,[e]).length},N.contains=function(e,t){return(e.ownerDocument||e)!=E&&Pe(e),S.contains(e,t)},N.attr=function(e,t){(e.ownerDocument||e)!=E&&Pe(e);var n=w.attrHandle[t.toLowerCase()],n=n&&_.call(w.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==n?n:e.getAttribute(t)},N.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},S.uniqueSort=function(e){var t,n=[],r=0,i=0;if(se=!g.sortStable,oe=!g.sortStable&&a.call(e,0),K.call(e,ge),se){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)Z.call(e,n[r],1)}return oe=null,e},S.fn.uniqueSort=function(){return this.pushStack(S.uniqueSort(a.apply(this)))},(w=S.expr={cacheLength:50,createPseudo:q,match:Ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(f,d),e[3]=(e[3]||e[4]||e[5]||"").replace(f,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||N.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&N.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&we.test(n)&&(t=(t=Me(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(f,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return b(e,t)}},CLASS:function(e){var t=fe[e+" "];return t||(t=new RegExp("(^|"+n+")"+e+"("+n+"|$)"))&&fe(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=N.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(ve," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(d,e,t,h,g){var y="nth"!==d.slice(0,3),v="last"!==d.slice(-4),m="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,s,a,u=y!=v?"nextSibling":"previousSibling",l=e.parentNode,c=m&&e.nodeName.toLowerCase(),f=!n&&!m,p=!1;if(l){if(y){for(;u;){for(o=e;o=o[u];)if(m?b(o,c):1===o.nodeType)return!1;a=u="only"===d&&!a&&"nextSibling"}return!0}if(a=[v?l.firstChild:l.lastChild],v&&f){for(p=(s=(r=(i=l[A]||(l[A]={}))[d]||[])[0]===D&&r[1])&&r[2],o=s&&l.childNodes[s];o=++s&&o&&o[u]||(p=s=0,a.pop());)if(1===o.nodeType&&++p&&o===e){i[d]=[D,s,p];break}}else if(!1===(p=f?s=(r=(i=e[A]||(e[A]={}))[d]||[])[0]===D&&r[1]:p))for(;(o=++s&&o&&o[u]||(p=s=0,a.pop()))&&((m?!b(o,c):1!==o.nodeType)||!++p||(f&&((i=o[A]||(o[A]={}))[d]=[D,p]),o!==e)););return(p-=g)===h||p%h==0&&0<=p/h}}},PSEUDO:function(e,o){var t,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||N.error("unsupported pseudo: "+e);return s[A]?s(o):1<s.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?q(function(e,t){for(var n,r=s(e,o),i=r.length;i--;)e[n=x.call(e,r[i])]=!(t[n]=r[i])}):function(e){return s(e,0,t)}):s}},pseudos:{not:q(function(e){var r=[],i=[],a=_e(e.replace(ee,"$1"));return a[A]?q(function(e,t,n,r){for(var i,o=a(e,null,r,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,t,n){return r[0]=e,a(r,null,n,i),r[0]=null,!i.pop()}}),has:q(function(t){return function(e){return 0<N(t,e).length}}),contains:q(function(t){return t=t.replace(f,d),function(e){return-1<(e.textContent||S.text(e)).indexOf(t)}}),lang:q(function(n){return Te.test(n||"")||N.error("unsupported lang: "+n),n=n.replace(f,d).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=T.location&&T.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ae},focus:function(e){return e===function(){try{return E.activeElement}catch(e){}}()&&E.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:Le(!1),disabled:Le(!0),checked:function(e){return b(e,"input")&&!!e.checked||b(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return Ee.test(e.nodeName)},input:function(e){return Se.test(e.nodeName)},button:function(e){return b(e,"input")&&"button"===e.type||b(e,"button")},text:function(e){return b(e,"input")&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:He(function(){return[0]}),last:He(function(e,t){return[t-1]}),eq:He(function(e,t,n){return[n<0?n+t:n]}),even:He(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:He(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:He(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:He(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[re]=function(t){return function(e){return b(e,"input")&&e.type===t}}(re);for(re in{submit:!0,reset:!0})w.pseudos[re]=function(t){return function(e){return(b(e,"input")||b(e,"button"))&&e.type===t}}(re);function Re(){}function Me(e,t){var n,r,i,o,s,a,u,l=pe[e+" "];if(l)return t?0:l.slice(0);for(s=e,a=[],u=w.preFilter;s;){for(o in n&&!(r=me.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=xe.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ee," ")}),s=s.slice(n.length)),w.filter)!(r=Ce[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?N.error(e):pe(e,a).slice(0)}function Ie(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function We(s,e,t){var a=e.dir,u=e.next,l=u||a,c=t&&"parentNode"===l,f=ce++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||c)return s(e,t,n);return!1}:function(e,t,n){var r,i,o=[D,f];if(n){for(;e=e[a];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||c)if(i=e[A]||(e[A]={}),u&&b(e,u))e=e[a]||e;else{if((r=i[l])&&r[0]===D&&r[1]===f)return o[2]=r[2];if((i[l]=o)[2]=s(e,t,n))return!0}return!1}}function Fe(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function $e(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)!(o=e[a])||n&&!n(o,r,i)||(s.push(o),l&&t.push(a));return s}function Be(e){for(var r,t,n,i=e.length,o=w.relative[e[0].type],s=o||w.relative[" "],a=o?1:0,u=We(function(e){return e===r},s,!0),l=We(function(e){return-1<x.call(r,e)},s,!0),c=[function(e,t,n){e=!o&&(n||t!=ie)||((r=t).nodeType?u:l)(e,t,n);return r=null,e}];a<i;a++)if(t=w.relative[e[a].type])c=[We(Fe(c),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[A]){for(n=++a;n<i&&!w.relative[e[n].type];n++);return function e(d,h,g,y,v,t){return y&&!y[A]&&(y=e(y)),v&&!v[A]&&(v=e(v,t)),q(function(e,t,n,r){var i,o,s,a,u=[],l=[],c=t.length,f=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)N(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),p=!d||!e&&h?f:$e(f,u,d,n,r);if(g?g(p,a=v||(e?d:c||y)?[]:t,n,r):a=p,y)for(i=$e(a,l),y(i,[],n,r),o=i.length;o--;)(s=i[o])&&(a[l[o]]=!(p[l[o]]=s));if(e){if(v||d){if(v){for(i=[],o=a.length;o--;)(s=a[o])&&i.push(p[o]=s);v(null,a=[],i,r)}for(o=a.length;o--;)(s=a[o])&&-1<(i=v?x.call(e,s):u[o])&&(e[i]=!(t[i]=s))}}else a=$e(a===t?a.splice(c,a.length):a),v?v(null,t,a,r):j.apply(t,a)})}(1<a&&Fe(c),1<a&&Ie(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ee,"$1"),t,a<n&&Be(e.slice(a,n)),n<i&&Be(e=e.slice(n)),n<i&&Ie(e))}c.push(t)}return Fe(c)}function _e(e,t){var n,y,v,m,x,r,i=[],o=[],s=de[e+" "];if(!s){for(n=(t=t||Me(e)).length;n--;)((s=Be(t[n]))[A]?i:o).push(s);(s=de(e,(m=0<(v=i).length,x=0<(y=o).length,r=function(e,t,n,r,i){var o,s,a,u=0,l="0",c=e&&[],f=[],p=ie,d=e||x&&w.find.TAG("*",i),h=D+=null==p?1:Math.random()||.1,g=d.length;for(i&&(ie=t==E||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(s=0,t||o.ownerDocument==E||(Pe(o),n=!k);a=y[s++];)if(a(o,t||E,n)){j.call(r,o);break}i&&(D=h)}m&&((o=!a&&o)&&u--,e)&&c.push(o)}if(u+=l,m&&l!==u){for(s=0;a=v[s++];)a(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=J.call(r));f=$e(f)}j.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&S.uniqueSort(r)}return i&&(D=h,ie=p),c},m?q(r):r))).selector=e}return s}function Xe(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,c=!r&&Me(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&k&&w.relative[o[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(f,d),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Ce.needsContext.test(e)?0:o.length;i--&&(s=o[i],!w.relative[a=s.type]);)if((u=w.find[a])&&(r=u(s.matches[0].replace(f,d),je.test(o[0].type)&&Oe(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&Ie(o))break;return j.apply(n,r),n}}return(l||_e(e,c))(r,t,!k,n,!t||je.test(e)&&Oe(t.parentNode)||t),n}Re.prototype=w.filters=w.pseudos,w.setFilters=new Re,g.sortStable=A.split("").sort(ge).join("")===A,Pe(),g.sortDetached=qe(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),S.find=N,S.expr[":"]=S.expr.pseudos,S.unique=S.uniqueSort,N.compile=_e,N.select=Xe,N.setDocument=Pe,N.escape=S.escapeSelector,N.getText=S.text,N.isXML=S.isXMLDoc,N.selectors=S.expr,N.support=S.support,N.uniqueSort=S.uniqueSort;function Ue(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r}function ze(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var Ve=S.expr.match.needsContext,Ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ye(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<x.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(Ye(this,e||[],!1))},not:function(e){return this.pushStack(Ye(this,e||[],!0))},is:function(e){return!!Ye(this,"string"==typeof e&&Ve.test(e)?S(e):e||[],!1).length}});var Qe,Je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ke=((S.fn.init=function(e,t,n){if(e){if(n=n||Qe,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Je.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),Ge.test(r[1])&&S.isPlainObject(t))for(var r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r])}else(n=C.getElementById(r[2]))&&(this[0]=n,this.length=1)}return this}).prototype=S.fn,Qe=S(C),/^(?:parents|prev(?:Until|All))/),Ze={children:!0,contents:!0,next:!0,prev:!0};function et(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&S(e);if(!Ve.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?x.call(S(e),this[0]):x.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return Ue(e,"parentNode")},parentsUntil:function(e,t,n){return Ue(e,"parentNode",n)},next:function(e){return et(e,"nextSibling")},prev:function(e){return et(e,"previousSibling")},nextAll:function(e){return Ue(e,"nextSibling")},prevAll:function(e){return Ue(e,"previousSibling")},nextUntil:function(e,t,n){return Ue(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ue(e,"previousSibling",n)},siblings:function(e){return ze((e.parentNode||{}).firstChild,e)},children:function(e){return ze(e.firstChild)},contents:function(e){return null!=e.contentDocument&&I(e.contentDocument)?e.contentDocument:(b(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(Ze[r]||S.uniqueSort(n),Ke.test(r))&&n.reverse(),this.pushStack(n)}});var L=/[^\x20\t\r\n\f]+/g;function tt(e){return e}function nt(e){throw e}function rt(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(L)||[],function(e,t){n[t]=!0}),n):S.extend({},r);function i(){for(a=a||r.once,s=o=!0;l.length;c=-1)for(t=l.shift();++c<u.length;)!1===u[c].apply(t[0],t[1])&&r.stopOnFalse&&(c=u.length,t=!1);r.memory||(t=!1),o=!1,a&&(u=t?[]:"")}var o,t,s,a,u=[],l=[],c=-1,f={add:function(){return u&&(t&&!o&&(c=u.length-1,l.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||u.push(t):t&&t.length&&"string"!==G(t)&&n(t)})}(arguments),t)&&!o&&i(),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,u,n));)u.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<S.inArray(e,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return a=l=[],u=t="",this},disabled:function(){return!u},lock:function(){return a=l=[],t||o||(u=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o)||i(),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!s}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,s,a){return function(){function e(){var e,t;if(!(i<u)){if((e=s.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?a?t.call(e,l(u,o,tt,a),l(u,o,nt,a)):(u++,t.call(e,l(u,o,tt,a),l(u,o,nt,a),l(u,o,tt,o.notifyWith))):(s!==tt&&(n=void 0,r=[e]),(a||o.resolveWith)(n,r))}}var n=this,r=arguments,t=a?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.error),u<=i+1&&(s!==nt&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getErrorHook?t.error=S.Deferred.getErrorHook():S.Deferred.getStackHook&&(t.error=S.Deferred.getStackHook()),T.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:tt,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:tt)),o[2][3].add(l(0,e,m(n)?n:nt))}).promise()},promise:function(e){return null!=e?S.extend(e,s):s}},a={};return S.each(o,function(e,t){var n=t[2],r=t[5];s[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){i[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--n||s.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=a.call(arguments),s=S.Deferred();if(n<=1&&(rt(e,s.done(t(r)).resolve,s.reject,!n),"pending"===s.state()||m(o[r]&&o[r].then)))return s.then();for(;r--;)rt(o[r],t(r),s.reject);return s.promise()}});var it=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,ot=(S.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&it.test(e.name)&&T.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){T.setTimeout(function(){throw e})},S.Deferred());function st(){C.removeEventListener("DOMContentLoaded",st),T.removeEventListener("load",st),S.ready()}S.fn.ready=function(e){return ot.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||ot.resolveWith(C,[S])}}),S.ready.then=ot.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?T.setTimeout(S.ready):(C.addEventListener("DOMContentLoaded",st),T.addEventListener("load",st));function c(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===G(n))for(a in i=!0,n)c(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,m(r)||(s=!0),t=l?s?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(S(e),n)}):t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o}var at=/^-ms-/,ut=/-([a-z])/g;function lt(e,t){return t.toUpperCase()}function H(e){return e.replace(at,"ms-").replace(ut,lt)}function ct(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function ft(){this.expando=S.expando+ft.uid++}ft.uid=1,ft.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ct(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[H(t)]=n;else for(r in t)i[H(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][H(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(H):(t=H(t))in r?[t]:t.match(L)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!S.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var v=new ft,u=new ft,pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,dt=/[A-Z]/g;function ht(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(dt,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:pt.test(i)?JSON.parse(i):i)}catch(e){}u.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return u.hasData(e)||v.hasData(e)},data:function(e,t,n){return u.access(e,t,n)},removeData:function(e,t){u.remove(e,t)},_data:function(e,t,n){return v.access(e,t,n)},_removeData:function(e,t){v.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){u.set(this,n)}):c(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=u.get(o,n))||void 0!==(t=ht(o,n))?t:void 0;this.each(function(){u.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=u.get(o),1===o.nodeType)&&!v.get(o,"hasDataAttrs")){for(t=s.length;t--;)s[t]&&0===(r=s[t].name).indexOf("data-")&&(r=H(r.slice(5)),ht(o,r,i[r]));v.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){u.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return r=v.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=v.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v.get(e,n)||v.access(e,n,{empty:S.Callbacks("once memory").add(function(){v.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||o.resolveWith(s,[s])}var r,i=1,o=S.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=v.get(s[a],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(t)}});function gt(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&mt(e)&&"none"===S.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,yt=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),h=["Top","Right","Bottom","Left"],vt=C.documentElement,mt=function(e){return S.contains(e.ownerDocument,e)},xt={composed:!0};vt.getRootNode&&(mt=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(xt)===e.ownerDocument});function bt(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=a(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&yt.exec(S.css(e,t));if(c&&c[3]!==l){for(l=l||c[3],c=+(u/=2)||1;s--;)S.style(e,t,c+l),(1-o)*(1-(o=a()/u||.5))<=0&&(s=0),c/=o;S.style(e,t,(c*=2)+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r)&&(r.unit=l,r.start=c,r.end=i),i}var wt={};function Tt(e,t){for(var n,r,i,o,s,a,u=[],l=0,c=e.length;l<c;l++)(r=e[l]).style&&(n=r.style.display,t?("none"===n&&(u[l]=v.get(r,"display")||null,u[l]||(r.style.display="")),""===r.style.display&&gt(r)&&(u[l]=(a=o=i=void 0,o=r.ownerDocument,s=r.nodeName,(a=wt[s])||(i=o.body.appendChild(o.createElement(s)),a=S.css(i,"display"),i.parentNode.removeChild(i),wt[s]=a="none"===a?"block":a)))):"none"!==n&&(u[l]="none",v.set(r,"display",n)));for(l=0;l<c;l++)null!=u[l]&&(e[l].style.display=u[l]);return e}S.fn.extend({show:function(){return Tt(this,!0)},hide:function(){return Tt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){gt(this)?S(this).show():S(this).hide()})}});var Ct=/^(?:checkbox|radio)$/i,St=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Et=/^$|^module$|\/(?:java|ecma)script/i,i=C.createDocumentFragment().appendChild(C.createElement("div")),y=((o=C.createElement("input")).setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),i.appendChild(o),g.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",g.option=!!i.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function O(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&b(e,t)?S.merge([e],n):n}function kt(e,t){for(var n=0,r=e.length;n<r;n++)v.set(e[n],"globalEval",!t||v.get(t[n],"globalEval"))}y.tbody=y.tfoot=y.colgroup=y.caption=y.thead,y.th=y.td,g.option||(y.optgroup=y.option=[1,"<select multiple='multiple'>","</select>"]);var jt=/<|&#?\w+;/;function At(e,t,n,r,i){for(var o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===G(o))S.merge(f,o.nodeType?[o]:o);else if(jt.test(o)){for(s=s||c.appendChild(t.createElement("div")),a=(St.exec(o)||["",""])[1].toLowerCase(),a=y[a]||y._default,s.innerHTML=a[1]+S.htmlPrefilter(o)+a[2],l=a[0];l--;)s=s.lastChild;S.merge(f,s.childNodes),(s=c.firstChild).textContent=""}else f.push(t.createTextNode(o));for(c.textContent="",p=0;o=f[p++];)if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(u=mt(o),s=O(c.appendChild(o),"script"),u&&kt(s),n)for(l=0;o=s[l++];)Et.test(o.type||"")&&n.push(o);return c}var Dt=/^([^.]*)(?:\.(.+)|)/;function Nt(){return!0}function qt(){return!1}function Lt(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Lt(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=qt;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return S().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Ht(e,r,t){t?(v.set(e,r,!1),S.event.add(e,r,{namespace:!1,handler:function(e){var t,n=v.get(this,r);if(1&e.isTrigger&&this[r]){if(n)(S.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),v.set(this,r,n),this[r](),t=v.get(this,r),v.set(this,r,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(v.set(this,r,S.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Nt)}})):void 0===v.get(e,r)&&S.event.add(e,r,Nt)}S.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,l,c,f,p,d,h=v.get(t);if(ct(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(vt,i),n.guid||(n.guid=S.guid++),a=(a=h.events)||(h.events=Object.create(null)),s=(s=h.handle)||(h.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(L)||[""]).length;u--;)f=d=(p=Dt.exec(e[u])||[])[1],p=(p[2]||"").split(".").sort(),f&&(l=S.event.special[f]||{},f=(i?l.delegateType:l.bindType)||f,l=S.event.special[f]||{},d=S.extend({type:f,origType:d,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:p.join(".")},o),(c=a[f])||((c=a[f]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,r,p,s))||t.addEventListener&&t.addEventListener(f,s),l.add&&(l.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?c.splice(c.delegateCount++,0,d):c.push(d),S.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,y=v.hasData(e)&&v.get(e);if(y&&(u=y.events)){for(l=(t=(t||"").match(L)||[""]).length;l--;)if(d=g=(a=Dt.exec(t[l])||[])[1],h=(a[2]||"").split(".").sort(),d){for(f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||S.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&v.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s=new Array(arguments.length),a=S.event.fix(e),e=(v.get(this,"events")||Object.create(null))[a.type]||[],u=S.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(o=S.event.handlers.call(this,a,e),t=0;(r=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==i.namespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(i=((S.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],s={},n=0;n<u;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),s[i]&&o.push(r);o.length&&a.push({elem:l,handlers:o})}return l=this,u<t.length&&a.push({elem:l,handlers:t.slice(u)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return Ct.test(e.type)&&e.click&&b(e,"input")&&Ht(e,"click",!0),!1},trigger:function(e){e=this||e;return Ct.test(e.type)&&e.click&&b(e,"input")&&Ht(e,"click"),!0},_default:function(e){e=e.target;return Ct.test(e.type)&&e.click&&b(e,"input")&&v.get(e,"click")||b(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Nt:qt,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:qt,isPropagationStopped:qt,isImmediatePropagationStopped:qt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Nt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Nt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Nt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(r,i){function o(e){var t,n;C.documentMode?(t=v.get(this,"handle"),(n=S.event.fix(e)).type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)):S.event.simulate(i,e.target,S.event.fix(e))}S.event.special[r]={setup:function(){var e;if(Ht(this,r,!0),!C.documentMode)return!1;(e=v.get(this,i))||this.addEventListener(i,o),v.set(this,i,(e||0)+1)},trigger:function(){return Ht(this,r),!0},teardown:function(){var e;if(!C.documentMode)return!1;(e=v.get(this,i)-1)?v.set(this,i,e):(this.removeEventListener(i,o),v.remove(this,i))},_default:function(e){return v.get(e.target,r)},delegateType:i},S.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=v.get(t,i);n||(C.documentMode?this.addEventListener(i,o):e.addEventListener(r,o,!0)),v.set(t,i,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=C.documentMode?this:e,n=v.get(t,i)-1;n?v.set(t,i,n):(C.documentMode?this.removeEventListener(i,o):e.removeEventListener(r,o,!0),v.remove(t,i))}}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Lt(this,e,t,n,r)},one:function(e,t,n,r){return Lt(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=qt),this.each(function(){S.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i])}return this}});var Ot=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Mt(e,t){return b(e,"table")&&b(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function It(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Wt(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ft(e,t){var n,r,i,o;if(1===t.nodeType){if(v.hasData(e)&&(o=v.get(e).events))for(i in v.remove(t,"handle events"),o)for(n=0,r=o[i].length;n<r;n++)S.event.add(t,i,o[i][n]);u.hasData(e)&&(e=u.access(e),e=S.extend({},e),u.set(t,e))}}function $t(n,r,i,o){r=W(r);var e,t,s,a,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!g.checkClone&&Pt.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),$t(t,r,i,o)});if(f&&(t=(e=At(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(a=(s=S.map(O(e,"script"),It)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),a)&&S.merge(s,O(u,"script")),i.call(n[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,S.map(s,Wt),c=0;c<a;c++)u=s[c],Et.test(u.type||"")&&!v.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):V(u.textContent.replace(Rt,""),u,l))}return n}function Bt(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(O(r)),r.parentNode&&(n&&mt(r)&&kt(O(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a,u,l,c=e.cloneNode(!0),f=mt(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(s=O(c),r=0,i=(o=O(e)).length;r<i;r++)a=o[r],"input"===(l=(u=s[r]).nodeName.toLowerCase())&&Ct.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(t)if(n)for(o=o||O(e),s=s||O(c),r=0,i=o.length;r<i;r++)Ft(o[r],s[r]);else Ft(e,c);return 0<(s=O(c,"script")).length&&kt(s,!f&&O(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(ct(n)){if(t=n[v.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[v.expando]=void 0}n[u.expando]&&(n[u.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Bt(this,e,!0)},remove:function(e){return Bt(this,e)},text:function(e){return c(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return $t(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,e).appendChild(e)})},prepend:function(){return $t(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Mt(this,e)).insertBefore(e,t.firstChild)})},before:function(){return $t(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return $t(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(O(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return c(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ot.test(e)&&!y[(St.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(O(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return $t(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(O(this)),t)&&t.replaceChild(e,this)},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[s](t),F.apply(n,t.get());return this.pushStack(n)}});function _t(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:T).getComputedStyle(e)}function Xt(e,t,n){var r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=i[r];return n}var Ut,zt,Vt,Gt,Yt,Qt,Jt,s,Kt=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Zt=/^--/,en=new RegExp(h.join("|"),"i");function tn(e,t,n){var r,i=Zt.test(t),o=e.style;return(n=n||_t(e))&&(r=n.getPropertyValue(t)||n[t],""!==(r=i?r&&(r.replace(ee,"$1")||void 0):r)||mt(e)||(r=S.style(e,t)),!g.pixelBoxStyles())&&Kt.test(r)&&en.test(t)&&(i=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=e,o.maxWidth=t),void 0!==r?r+"":r}function nn(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function rn(){var e;s&&(Jt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",s.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vt.appendChild(Jt).appendChild(s),e=T.getComputedStyle(s),Ut="1%"!==e.top,Qt=12===on(e.marginLeft),s.style.right="60%",Gt=36===on(e.right),zt=36===on(e.width),s.style.position="absolute",Vt=12===on(s.offsetWidth/3),vt.removeChild(Jt),s=null)}function on(e){return Math.round(parseFloat(e))}Jt=C.createElement("div"),(s=C.createElement("div")).style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===s.style.backgroundClip,S.extend(g,{boxSizingReliable:function(){return rn(),zt},pixelBoxStyles:function(){return rn(),Gt},pixelPosition:function(){return rn(),Ut},reliableMarginLeft:function(){return rn(),Qt},scrollboxSize:function(){return rn(),Vt},reliableTrDimensions:function(){var e,t,n;return null==Yt&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",vt.appendChild(e).appendChild(t).appendChild(n),n=T.getComputedStyle(t),Yt=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,vt.removeChild(e)),Yt}}));var sn=["Webkit","Moz","ms"],an=C.createElement("div").style,un={};function ln(e){return S.cssProps[e]||un[e]||(e in an?e:un[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=sn.length;n--;)if((e=sn[n]+t)in an)return e}(e)||e)}var cn=/^(none|table(?!-c[ea]).+)/,fn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"};function dn(e,t,n){var r=yt.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function hn(e,t,n,r,i,o){var s="width"===t?1:0,a=0,u=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=S.css(e,n+h[s],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+h[s],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+h[s]+"Width",!0,i))):(u+=S.css(e,"padding"+h[s],!0,i),"padding"!==n?u+=S.css(e,"border"+h[s]+"Width",!0,i):a+=S.css(e,"border"+h[s]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-a-.5))||0),u+l}function gn(e,t,n){var r=_t(e),i=(!g.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,s=tn(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Kt.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&b(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),o=a in e)&&(s=e[a]),(s=parseFloat(s)||0)+hn(e,t,n||(i?"border":"content"),o,r,s)+"px"}function l(e,t,n,r,i){return new l.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=tn(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=H(t),u=Zt.test(t),l=e.style;if(u||(t=ln(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=yt.exec(n))&&i[1]&&(n=bt(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o=H(t);return Zt.test(t)||(t=ln(o)),"normal"===(i=void 0===(i=(o=S.cssHooks[t]||S.cssHooks[o])&&"get"in o?o.get(e,!0,n):i)?tn(e,t,r):i)&&t in pn&&(i=pn[t]),(""===n||n)&&(o=parseFloat(i),!0===n||isFinite(o))?o||0:i}}),S.each(["height","width"],function(e,s){S.cssHooks[s]={get:function(e,t,n){if(t)return!cn.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?gn(e,s,n):Xt(e,fn,function(){return gn(e,s,n)})},set:function(e,t,n){var r=_t(e),i=!g.scrollboxSize()&&"absolute"===r.position,o=(i||n)&&"border-box"===S.css(e,"boxSizing",!1,r),n=n?hn(e,s,n,o,r):0;return o&&i&&(n-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(r[s])-hn(e,s,"border",!1,r)-.5)),n&&(o=yt.exec(t))&&"px"!==(o[3]||"px")&&(e.style[s]=t,t=S.css(e,s)),dn(0,t,n)}}}),S.cssHooks.marginLeft=nn(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(tn(e,"marginLeft"))||e.getBoundingClientRect().left-Xt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+h[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=dn)}),S.fn.extend({css:function(e,t){return c(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=_t(e),i=t.length;s<i;s++)o[t[s]]=S.css(e,t[s],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=l).prototype={constructor:l,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=l.propHooks[this.prop];return(e&&e.get?e:l.propHooks._default).get(this)},run:function(e){var t,n=l.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:l.propHooks._default).set(this),this}}).init.prototype=l.prototype,(l.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=S.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ln(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=l.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=l.prototype.init,S.fx.step={};var yn,vn,mn=/^(?:toggle|show|hide)$/,xn=/queueHooks$/;function bn(){vn&&(!1===C.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(bn):T.setTimeout(bn,S.fx.interval),S.fx.tick())}function wn(){return T.setTimeout(function(){yn=void 0}),yn=Date.now()}function Tn(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=h[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Cn(e,t,n){for(var r,i=(P.tweeners[t]||[]).concat(P.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function P(i,e,t){var n,o,r,s,a,u,l,c=0,f=P.prefilters.length,p=S.Deferred().always(function(){delete d.elem}),d=function(){if(o)return!1;for(var e=yn||wn(),e=Math.max(0,h.startTime+h.duration-e),t=1-(e/h.duration||0),n=0,r=h.tweens.length;n<r;n++)h.tweens[n].run(t);return p.notifyWith(i,[h,t,e]),t<1&&r?e:(r||p.notifyWith(i,[h,1,0]),p.resolveWith(i,[h]),!1)},h=p.promise({elem:i,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:yn||wn(),duration:t.duration,tweens:[],createTween:function(e,t){t=S.Tween(i,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(t),t},stop:function(e){var t=0,n=e?h.tweens.length:0;if(!o){for(o=!0;t<n;t++)h.tweens[t].run(1);e?(p.notifyWith(i,[h,1,0]),p.resolveWith(i,[h,e])):p.rejectWith(i,[h,e])}return this}}),g=h.props,y=g,v=h.opts.specialEasing;for(r in y)if(a=v[s=H(r)],u=y[r],Array.isArray(u)&&(a=u[1],u=y[r]=u[0]),r!==s&&(y[s]=u,delete y[r]),(l=S.cssHooks[s])&&"expand"in l)for(r in u=l.expand(u),delete y[s],u)r in y||(y[r]=u[r],v[r]=a);else v[s]=a;for(;c<f;c++)if(n=P.prefilters[c].call(h,i,g,h.opts))return m(n.stop)&&(S._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return S.map(g,Cn,h),m(h.opts.start)&&h.opts.start.call(i,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),S.fx.timer(S.extend(d,{elem:i,anim:h,queue:h.opts.queue})),h}S.Animation=S.extend(P,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return bt(n.elem,e,yt.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=m(e)?(t=e,["*"]):e.match(L)).length;r<i;r++)n=e[r],P.tweeners[n]=P.tweeners[n]||[],P.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,u,l,c="width"in t||"height"in t,f=this,p={},d=e.style,h=e.nodeType&&gt(e),g=v.get(e,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()})})),t)if(i=t[r],mn.test(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(r in c&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=g&&g.display)&&(l=v.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(Tt([e],!0),l=e.style.display||l,c=S.css(e,"display"),Tt([e]))),"inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block"),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,p)u||(g?"hidden"in g&&(h=g.hidden):g=v.access(e,"fxshow",{display:l}),o&&(g.hidden=!h),h&&Tt([e],!0),f.done(function(){for(r in h||Tt([e]),v.remove(e,"fxshow"),p)S.style(e,r,p[r])})),u=Cn(h?g[r]:0,r,f),r in g||(g[r]=u.start,h&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?P.prefilters.unshift(e):P.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=P(this,S.extend({},t),s);(o||v.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),s=S.speed(e,n,r);return i.finish=i,o||!1===s.queue?this.each(i):this.queue(s.queue,i)},stop:function(i,e,o){function s(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=v.get(this);if(t)r[t]&&r[t].stop&&s(r[t]);else for(t in r)r[t]&&r[t].stop&&xn.test(t)&&s(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=v.get(this),n=t[s+"queue"],r=t[s+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===s&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Tn(r,!0),e,t,n)}}),S.each({slideDown:Tn("show"),slideUp:Tn("hide"),slideToggle:Tn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(yn=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),yn=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){vn||(vn=!0,bn())},S.fx.stop=function(){vn=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=T.setTimeout(e,r);t.stop=function(){T.clearTimeout(n)}})},o=C.createElement("input"),i=C.createElement("select").appendChild(C.createElement("option")),o.type="checkbox",g.checkOn=""!==o.value,g.optSelected=i.selected,(o=C.createElement("input")).value="t",o.type="radio",g.radioValue="t"===o.value;var Sn,En=S.expr.attrHandle,kn=(S.fn.extend({attr:function(e,t){return c(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?Sn:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){var n;if(!g.radioValue&&"radio"===t&&b(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(L);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Sn={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var s=En[t]||S.find.attr;En[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=En[o],En[o]=r,r=null!=s(e,t,n)?o:null,En[o]=i),r}}),/^(?:input|select|textarea|button)$/i),jn=/^(?:a|area)$/i;function An(e){return(e.match(L)||[]).join(" ")}function Dn(e){return e.getAttribute&&e.getAttribute("class")||""}function Nn(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(L)||[]}S.fn.extend({prop:function(e,t){return c(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):kn.test(e.nodeName)||jn.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(S.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,s;return m(t)?this.each(function(e){S(this).addClass(t.call(this,e,Dn(this)))}):(e=Nn(t)).length?this.each(function(){if(r=Dn(this),n=1===this.nodeType&&" "+An(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=An(n),r!==s&&this.setAttribute("class",s)}}):this},removeClass:function(t){var e,n,r,i,o,s;return m(t)?this.each(function(e){S(this).removeClass(t.call(this,e,Dn(this)))}):arguments.length?(e=Nn(t)).length?this.each(function(){if(r=Dn(this),n=1===this.nodeType&&" "+An(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];-1<n.indexOf(" "+i+" ");)n=n.replace(" "+i+" "," ");s=An(n),r!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,s=typeof t,a="string"==s||Array.isArray(t);return m(t)?this.each(function(e){S(this).toggleClass(t.call(this,e,Dn(this),n),n)}):"boolean"==typeof n&&a?n?this.addClass(t):this.removeClass(t):(e=Nn(t),this.each(function(){if(a)for(o=S(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!=s||((r=Dn(this))&&v.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",!r&&!1!==t&&v.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+An(Dn(t))+" ").indexOf(r))return!0;return!1}});function qn(e){e.stopPropagation()}var Ln=/\r/g,Hn=(S.fn.extend({val:function(t){var n,e,r,i=this[0];return arguments.length?(r=m(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,S(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=S.map(e,function(e){return null==e?"":e+""})),(n=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):i?(n=S.valHooks[i.type]||S.valHooks[i.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(i,"value"))?e:"string"==typeof(e=i.value)?e.replace(Ln,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:An(S.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,i="select-one"===e.type,o=i?null:[],s=i?r+1:n.length,a=r<0?s:i?r:0;a<s;a++)if(((t=n[a]).selected||a===r)&&!t.disabled&&(!t.parentNode.disabled||!b(t.parentNode,"optgroup"))){if(t=S(t).val(),i)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,o=S.makeArray(t),s=i.length;s--;)((r=i[s]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},g.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),T.location),On={guid:Date.now()},Pn=/\?/,Rn=(S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/^(?:focusinfocus|focusoutblur)$/),Mn=(S.extend(S.event,{trigger:function(e,t,n,r){var i,o,s,a,u,l,c,f=[n||C],p=_.call(e,"type")?e.type:e,d=_.call(e,"namespace")?e.namespace.split("."):[],h=c=o=n=n||C;if(3!==n.nodeType&&8!==n.nodeType&&!Rn.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),a=p.indexOf(":")<0&&"on"+p,(e=e[S.expando]?e:new S.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),l=S.event.special[p]||{},r||!l.trigger||!1!==l.trigger.apply(n,t))){if(!r&&!l.noBubble&&!M(n)){for(s=l.delegateType||p,Rn.test(s+p)||(h=h.parentNode);h;h=h.parentNode)f.push(h),o=h;o===(n.ownerDocument||C)&&f.push(o.defaultView||o.parentWindow||T)}for(i=0;(h=f[i++])&&!e.isPropagationStopped();)c=h,e.type=1<i?s:l.bindType||p,(u=(v.get(h,"events")||Object.create(null))[e.type]&&v.get(h,"handle"))&&u.apply(h,t),(u=a&&h[a])&&u.apply&&ct(h)&&(e.result=u.apply(h,t),!1===e.result)&&e.preventDefault();return e.type=p,r||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),t)||!ct(n)||a&&m(n[p])&&!M(n)&&((o=n[a])&&(n[a]=null),S.event.triggered=p,e.isPropagationStopped()&&c.addEventListener(p,qn),n[p](),e.isPropagationStopped()&&c.removeEventListener(p,qn),S.event.triggered=void 0,o)&&(n[a]=o),e.result}},simulate:function(e,t,n){n=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(n,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),/\[\]$/),In=/\r?\n/g,Wn=/^(?:submit|button|image|reset|file)$/i,Fn=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function n(e,t){t=m(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,i=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,i,o){if(Array.isArray(e))S.each(e,function(e,t){i||Mn.test(r)?o(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,o)});else if(i||"object"!==G(e))o(r,e);else for(var t in e)n(r+"["+t+"]",e[t],i,o)}(r,e[r],t,n);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Fn.test(this.nodeName)&&!Wn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(In,"\r\n")}}):{name:t.name,value:n.replace(In,"\r\n")}}).get()}});var $n=/%20/g,Bn=/#.*$/,_n=/([?&])_=[^&]*/,Xn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Un=/^(?:GET|HEAD)$/,zn=/^\/\//,Vn={},Gn={},Yn="*/".concat("*"),Qn=C.createElement("a");function Jn(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(L)||[];if(m(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Kn(t,r,i,o){var s={},a=t===Gn;function u(e){var n;return s[e]=!0,S.each(t[e]||[],function(e,t){t=t(r,i,o);return"string"!=typeof t||a||s[t]?a?!(n=t):void 0:(r.dataTypes.unshift(t),u(t),!1)}),n}return u(r.dataTypes[0])||!s["*"]&&u("*")}function Zn(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&S.extend(!0,e,r),e}Qn.href=Hn.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Hn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Hn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zn(Zn(e,S.ajaxSettings),t):Zn(S.ajaxSettings,e)},ajaxPrefilter:Jn(Vn),ajaxTransport:Jn(Gn),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var u,l,c,n,f,p,d,r,i,h=S.ajaxSetup({},t=t||{}),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?S(g):S.event,v=S.Deferred(),m=S.Callbacks("once memory"),x=h.statusCode||{},o={},s={},a="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Xn.exec(c);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?c:null},setRequestHeader:function(e,t){return null==p&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==p&&(h.mimeType=e),this},statusCode:function(e){if(e)if(p)b.always(e[b.status]);else for(var t in e)x[t]=[x[t],e[t]];return this},abort:function(e){e=e||a;return u&&u.abort(e),w(0,e),this}};if(v.promise(b),h.url=((e||h.url||Hn.href)+"").replace(zn,Hn.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(L)||[""],null==h.crossDomain){i=C.createElement("a");try{i.href=h.url,i.href=i.href,h.crossDomain=Qn.protocol+"//"+Qn.host!=i.protocol+"//"+i.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),Kn(Vn,h,t,b),!p){for(r in(d=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Un.test(h.type),l=h.url.replace(Bn,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace($n,"+")):(i=h.url.slice(l.length),h.data&&(h.processData||"string"==typeof h.data)&&(l+=(Pn.test(l)?"&":"?")+h.data,delete h.data),!1===h.cache&&(l=l.replace(_n,"$1"),i=(Pn.test(l)?"&":"?")+"_="+On.guid+++i),h.url=l+i),h.ifModified&&(S.lastModified[l]&&b.setRequestHeader("If-Modified-Since",S.lastModified[l]),S.etag[l])&&b.setRequestHeader("If-None-Match",S.etag[l]),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&b.setRequestHeader("Content-Type",h.contentType),b.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Yn+"; q=0.01":""):h.accepts["*"]),h.headers)b.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(!1===h.beforeSend.call(g,b,h)||p))return b.abort();if(a="abort",m.add(h.complete),b.done(h.success),b.fail(h.error),u=Kn(Gn,h,t,b)){if(b.readyState=1,d&&y.trigger("ajaxSend",[b,h]),p)return b;h.async&&0<h.timeout&&(f=T.setTimeout(function(){b.abort("timeout")},h.timeout));try{p=!1,u.send(o,w)}catch(e){if(p)throw e;w(-1,e)}}else w(-1,"No Transport")}return b;function w(e,t,n,r){var i,o,s,a=t;p||(p=!0,f&&T.clearTimeout(f),u=void 0,c=r||"",b.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s=s||i}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,b,n)),!r&&-1<S.inArray("script",h.dataTypes)&&S.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,s,b,r),r?(h.ifModified&&((n=b.getResponseHeader("Last-Modified"))&&(S.lastModified[l]=n),n=b.getResponseHeader("etag"))&&(S.etag[l]=n),204===e||"HEAD"===h.type?a="nocontent":304===e?a="notmodified":(a=s.state,i=s.data,r=!(o=s.error))):(o=a,!e&&a||(a="error",e<0&&(e=0))),b.status=e,b.statusText=(t||a)+"",r?v.resolveWith(g,[i,a,b]):v.rejectWith(g,[b,a,o]),b.statusCode(x),x=void 0,d&&y.trigger(r?"ajaxSuccess":"ajaxError",[b,h,r?i:o]),m.fireWith(g,[b,a]),d&&(y.trigger("ajaxComplete",[b,h]),--S.active||S.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){return this[0]&&(m(e)&&(e=e.call(this[0])),e=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var er={0:200,1223:204},tr=S.ajaxSettings.xhr();g.cors=!!tr&&"withCredentials"in tr,g.ajax=tr=!!tr,S.ajaxTransport(function(i){var o,s;if(g.cors||tr&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(er[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&T.setTimeout(function(){o&&s()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){i&&i()}}});var nr=[],rr=/(=)\?(?=&|$)|\?\?/,ir=(S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=nr.pop()||S.expando+"_"+On.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,s=!1!==e.jsonp&&(rr.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(rr,"$1"+r):!1!==e.jsonp&&(e.url+=(Pn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=T[r],T[r]=function(){o=arguments},n.always(function(){void 0===i?S(T).removeProp(r):T[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,nr.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),g.createHTMLDocument=((e=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),r=!n&&[],(n=Ge.exec(e))?[t.createElement(n[1])]:(n=At([e],t,r),r&&r.length&&S(r).remove(),S.merge([],n.childNodes)));var r},S.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return-1<a&&(r=An(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<s.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,s,a=S.css(e,"position"),u=S(e),l={};"static"===a&&(e.style.position="relative"),o=u.offset(),r=S.css(e,"top"),s=S.css(e,"left"),a=("absolute"===a||"fixed"===a)&&-1<(r+s).indexOf("auto")?(i=(a=u.position()).top,a.left):(i=parseFloat(r)||0,parseFloat(s)||0),null!=(t=m(t)?t.call(e,n,S.extend({},o)):t).top&&(l.top=t.top-o.top+i),null!=t.left&&(l.left=t.left-o.left+a),"using"in t?t.using.call(e,l):u.css(l)}},S.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||vt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return c(this,function(e,t,n){var r;if(M(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=nn(g.pixelPosition,function(e,t){if(t)return t=tn(e,n),Kt.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(s,a){S.each({padding:"inner"+s,content:a,"":"outer"+s},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return c(this,function(e,t,n){var r;return M(e)?0===o.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+s],r["scroll"+s],e.body["offset"+s],r["offset"+s],r["client"+s])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},a,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),or=(S.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),m(e))return n=a.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||S.guid++,r},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=b,S.isFunction=m,S.isWindow=M,S.camelCase=H,S.type=G,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(ir,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S}),T.jQuery),sr=T.$;return S.noConflict=function(e){return T.$===S&&(T.$=sr),e&&T.jQuery===S&&(T.jQuery=or),S},void 0===R&&(T.jQuery=T.$=S),S});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,n){"use strict";function x(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=x(e),q=x(n);function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,n){e&&F(t.prototype,e),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1})}function a(){return(a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function Q(t,e){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}var B="transitionend",c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e,n=t.getAttribute("data-target");n&&"#"!==n||(n=(e=t.getAttribute("href"))&&"#"!==e?e.trim():"");try{return document.querySelector(n)?n:null}catch(t){return null}},getTransitionDurationFromElement:function(t){var e,n,i;return t&&(e=d.default(t).css("transition-duration"),t=d.default(t).css("transition-delay"),n=parseFloat(e),i=parseFloat(t),n||i)?(e=e.split(",")[0],t=t.split(",")[0],1e3*(parseFloat(e)+parseFloat(t))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){d.default(t).trigger(B)},supportsTransitionEnd:function(){return Boolean(B)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],a=e[i],a=a&&c.isElement(a)?"element":null==(a=a)?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}},findShadowRoot:function(t){var e;return document.documentElement.attachShadow?"function"==typeof t.getRootNode?(e=t.getRootNode())instanceof ShadowRoot?e:null:t instanceof ShadowRoot?t:t.parentNode?c.findShadowRoot(t.parentNode):null:null},jQueryDetection:function(){if(void 0===d.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=d.default.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}},H=(c.jQueryDetection(),d.default.fn.emulateTransitionEnd=function(t){var e=this,n=!1;return d.default(this).one(c.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||c.triggerTransitionEnd(e)},t),this},d.default.event.special[c.TRANSITION_END]={bindType:B,delegateType:B,handle:function(t){if(d.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},"bs.alert"),U=d.default.fn.alert,o=((e=s.prototype).close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){d.default.removeData(this._element,H),this._element=null},e._getRootElement=function(t){var e=c.getSelectorFromElement(t),n=!1;return n=(n=e?document.querySelector(e):n)||d.default(t).closest(".alert")[0]},e._triggerCloseEvent=function(t){var e=d.default.Event("close.bs.alert");return d.default(t).trigger(e),e},e._removeElement=function(e){var t,n=this;d.default(e).removeClass("show"),d.default(e).hasClass("fade")?(t=c.getTransitionDurationFromElement(e),d.default(e).one(c.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(t)):this._destroyElement(e)},e._destroyElement=function(t){d.default(t).detach().trigger("closed.bs.alert").remove()},s._jQueryInterface=function(n){return this.each(function(){var t=d.default(this),e=t.data(H);e||(e=new s(this),t.data(H,e)),"close"===n&&e[n](this)})},s._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},i(s,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),s);function s(t){this._element=t}d.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',o._handleDismiss(new o)),d.default.fn.alert=o._jQueryInterface,d.default.fn.alert.Constructor=o,d.default.fn.alert.noConflict=function(){return d.default.fn.alert=U,o._jQueryInterface};var M="bs.button",W=d.default.fn.button,r="active",n='[data-toggle^="button"]',V='input:not([type="hidden"])',z=".btn",l=((e=u.prototype).toggle=function(){var t,e=!0,n=!0,i=d.default(this._element).closest('[data-toggle="buttons"]')[0];i&&(t=this._element.querySelector(V))&&("radio"===t.type&&(t.checked&&this._element.classList.contains(r)?e=!1:(i=i.querySelector(".active"))&&d.default(i).removeClass(r)),e&&("checkbox"!==t.type&&"radio"!==t.type||(t.checked=!this._element.classList.contains(r)),this.shouldAvoidTriggerChange||d.default(t).trigger("change")),t.focus(),n=!1),this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(r)),e&&d.default(this._element).toggleClass(r))},e.dispose=function(){d.default.removeData(this._element,M),this._element=null},u._jQueryInterface=function(n,i){return this.each(function(){var t=d.default(this),e=t.data(M);e||(e=new u(this),t.data(M,e)),e.shouldAvoidTriggerChange=i,"toggle"===n&&e[n]()})},i(u,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),u);function u(t){this._element=t,this.shouldAvoidTriggerChange=!1}d.default(document).on("click.bs.button.data-api",n,function(t){var e,n=t.target,i=n;!(n=d.default(n).hasClass("btn")?n:d.default(n).closest(z)[0])||n.hasAttribute("disabled")||n.classList.contains("disabled")||(e=n.querySelector(V))&&(e.hasAttribute("disabled")||e.classList.contains("disabled"))?t.preventDefault():"INPUT"!==i.tagName&&"LABEL"===n.tagName||l._jQueryInterface.call(d.default(n),"toggle","INPUT"===i.tagName)}).on("focus.bs.button.data-api blur.bs.button.data-api",n,function(t){var e=d.default(t.target).closest(z)[0];d.default(e).toggleClass("focus",/^focus(in)?$/.test(t.type))}),d.default(window).on("load.bs.button.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],o=i.querySelector(V);o.checked||o.hasAttribute("checked")?i.classList.add(r):i.classList.remove(r)}for(var a=0,s=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;a<s;a++){var l=t[a];"true"===l.getAttribute("aria-pressed")?l.classList.add(r):l.classList.remove(r)}}),d.default.fn.button=l._jQueryInterface,d.default.fn.button.Constructor=l,d.default.fn.button.noConflict=function(){return d.default.fn.button=W,l._jQueryInterface};var f="carousel",K="bs.carousel",X=d.default.fn[f],h="active",Y="next",$="prev",J="slid.bs.carousel",G=".active.carousel-item",Z={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},tt={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},et={TOUCH:"touch",PEN:"pen"},g=((e=m.prototype).next=function(){this._isSliding||this._slide(Y)},e.nextWhenVisible=function(){var t=d.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide($)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(c.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this,n=(this._activeElement=this._element.querySelector(G),this._getItemIndex(this._activeElement));t>this._items.length-1||t<0||(this._isSliding?d.default(this._element).one(J,function(){return e.to(t)}):n===t?(this.pause(),this.cycle()):this._slide(n<t?Y:$,this._items[t]))},e.dispose=function(){d.default(this._element).off(".bs.carousel"),d.default.removeData(this._element,K),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=a({},Z,t),c.typeCheckConfig(f,t,tt),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);t<=40||(t=t/this.touchDeltaX,(this.touchDeltaX=0)<t&&this.prev(),t<0&&this.next())},e._addEventListeners=function(){var e=this;this._config.keyboard&&d.default(this._element).on("keydown.bs.carousel",function(t){return e._keydown(t)}),"hover"===this._config.pause&&d.default(this._element).on("mouseenter.bs.carousel",function(t){return e.pause(t)}).on("mouseleave.bs.carousel",function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t,e,n=this;this._touchSupported&&(t=function(t){n._pointerEvent&&et[t.originalEvent.pointerType.toUpperCase()]?n.touchStartX=t.originalEvent.clientX:n._pointerEvent||(n.touchStartX=t.originalEvent.touches[0].clientX)},e=function(t){n._pointerEvent&&et[t.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=t.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(t){return n.cycle(t)},500+n._config.interval))},d.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(t){return t.preventDefault()}),this._pointerEvent?(d.default(this._element).on("pointerdown.bs.carousel",t),d.default(this._element).on("pointerup.bs.carousel",e),this._element.classList.add("pointer-event")):(d.default(this._element).on("touchstart.bs.carousel",t),d.default(this._element).on("touchmove.bs.carousel",function(t){n.touchDeltaX=t.originalEvent.touches&&1<t.originalEvent.touches.length?0:t.originalEvent.touches[0].clientX-n.touchStartX}),d.default(this._element).on("touchend.bs.carousel",e)))},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===Y,i=t===$,o=this._getItemIndex(e),a=this._items.length-1;return(i&&0===o||n&&o===a)&&!this._config.wrap?e:-1==(i=(o+(t===$?-1:1))%this._items.length)?this._items[this._items.length-1]:this._items[i]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(G)),t=d.default.Event("slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n});return d.default(this._element).trigger(t),t},e._setActiveIndicatorElement=function(t){var e;this._indicatorsElement&&(e=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),d.default(e).removeClass(h),e=this._indicatorsElement.children[this._getItemIndex(t)])&&d.default(e).addClass(h)},e._updateInterval=function(){var t=this._activeElement||this._element.querySelector(G);t&&((t=parseInt(t.getAttribute("data-interval"),10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval)},e._slide=function(t,e){var n,i,o,a=this,s=this._element.querySelector(G),l=this._getItemIndex(s),r=e||s&&this._getItemByDirection(t,s),e=this._getItemIndex(r),u=Boolean(this._interval),t=t===Y?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right");r&&d.default(r).hasClass(h)?this._isSliding=!1:!this._triggerSlideEvent(r,t).isDefaultPrevented()&&s&&r&&(this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r,o=d.default.Event(J,{relatedTarget:r,direction:t,from:l,to:e}),d.default(this._element).hasClass("slide")?(d.default(r).addClass(i),c.reflow(r),d.default(s).addClass(n),d.default(r).addClass(n),t=c.getTransitionDurationFromElement(s),d.default(s).one(c.TRANSITION_END,function(){d.default(r).removeClass(n+" "+i).addClass(h),d.default(s).removeClass("active "+i+" "+n),a._isSliding=!1,setTimeout(function(){return d.default(a._element).trigger(o)},0)}).emulateTransitionEnd(t)):(d.default(s).removeClass(h),d.default(r).addClass(h),this._isSliding=!1,d.default(this._element).trigger(o)),u)&&this.cycle()},m._jQueryInterface=function(i){return this.each(function(){var t=d.default(this).data(K),e=a({},Z,d.default(this).data()),n=("object"==typeof i&&(e=a({},e,i)),"string"==typeof i?i:e.slide);if(t||(t=new m(this,e),d.default(this).data(K,t)),"number"==typeof i)t.to(i);else if("string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}else e.interval&&e.ride&&(t.pause(),t.cycle())})},m._dataApiClickHandler=function(t){var e,n,i=c.getSelectorFromElement(this);i&&(i=d.default(i)[0])&&d.default(i).hasClass("carousel")&&(e=a({},d.default(i).data(),d.default(this).data()),(n=this.getAttribute("data-slide-to"))&&(e.interval=!1),m._jQueryInterface.call(d.default(i),e),n&&d.default(i).data(K).to(n),t.preventDefault())},i(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Z}}]),m);function m(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}d.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",g._dataApiClickHandler),d.default(window).on("load.bs.carousel.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,n=t.length;e<n;e++){var i=d.default(t[e]);g._jQueryInterface.call(i,i.data())}}),d.default.fn[f]=g._jQueryInterface,d.default.fn[f].Constructor=g,d.default.fn[f].noConflict=function(){return d.default.fn[f]=X,g._jQueryInterface};var _="collapse",p="bs.collapse",nt=d.default.fn[_],v="show",it="collapse",ot="collapsing",at="collapsed",st="width",lt='[data-toggle="collapse"]',rt={toggle:!0,parent:""},ut={toggle:"boolean",parent:"(string|element)"},y=((n=b.prototype).toggle=function(){d.default(this._element).hasClass(v)?this.hide():this.show()},n.show=function(){var t,e,n,i,o=this;this._isTransitioning||d.default(this._element).hasClass(v)||(t=this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(t){return"string"==typeof o._config.parent?t.getAttribute("data-parent")===o._config.parent:t.classList.contains(it)})).length?null:t)&&(i=d.default(t).not(this._selector).data(p))&&i._isTransitioning||(n=d.default.Event("show.bs.collapse"),d.default(this._element).trigger(n),n.isDefaultPrevented()||(t&&(b._jQueryInterface.call(d.default(t).not(this._selector),"hide"),i||d.default(t).data(p,null)),e=this._getDimension(),d.default(this._element).removeClass(it).addClass(ot),this._element.style[e]=0,this._triggerArray.length&&d.default(this._triggerArray).removeClass(at).attr("aria-expanded",!0),this.setTransitioning(!0),n="scroll"+(e[0].toUpperCase()+e.slice(1)),i=c.getTransitionDurationFromElement(this._element),d.default(this._element).one(c.TRANSITION_END,function(){d.default(o._element).removeClass(ot).addClass("collapse show"),o._element.style[e]="",o.setTransitioning(!1),d.default(o._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(i),this._element.style[e]=this._element[n]+"px"))},n.hide=function(){var t=this;if(!this._isTransitioning&&d.default(this._element).hasClass(v)){var e=d.default.Event("hide.bs.collapse");if(d.default(this._element).trigger(e),!e.isDefaultPrevented()){var e=this._getDimension(),n=(this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",c.reflow(this._element),d.default(this._element).addClass(ot).removeClass("collapse show"),this._triggerArray.length);if(0<n)for(var i=0;i<n;i++){var o=this._triggerArray[i],a=c.getSelectorFromElement(o);null===a||d.default([].slice.call(document.querySelectorAll(a))).hasClass(v)||d.default(o).addClass(at).attr("aria-expanded",!1)}this.setTransitioning(!0),this._element.style[e]="";e=c.getTransitionDurationFromElement(this._element);d.default(this._element).one(c.TRANSITION_END,function(){t.setTransitioning(!1),d.default(t._element).removeClass(ot).addClass(it).trigger("hidden.bs.collapse")}).emulateTransitionEnd(e)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){d.default.removeData(this._element,p),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=a({},rt,t)).toggle=Boolean(t.toggle),c.typeCheckConfig(_,t,ut),t},n._getDimension=function(){return d.default(this._element).hasClass(st)?st:"height"},n._getParent=function(){var t,n=this,e=(c.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent),'[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'),e=[].slice.call(t.querySelectorAll(e));return d.default(e).each(function(t,e){n._addAriaAndCollapsedClass(b._getTargetFromElement(e),[e])}),t},n._addAriaAndCollapsedClass=function(t,e){t=d.default(t).hasClass(v);e.length&&d.default(e).toggleClass(at,!t).attr("aria-expanded",t)},b._getTargetFromElement=function(t){t=c.getSelectorFromElement(t);return t?document.querySelector(t):null},b._jQueryInterface=function(i){return this.each(function(){var t=d.default(this),e=t.data(p),n=a({},rt,t.data(),"object"==typeof i&&i?i:{});if(!e&&n.toggle&&"string"==typeof i&&/show|hide/.test(i)&&(n.toggle=!1),e||(e=new b(this,n),t.data(p,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},i(b,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return rt}}]),b);function b(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(lt)),i=0,o=n.length;i<o;i++){var a=n[i],s=c.getSelectorFromElement(a),l=[].slice.call(document.querySelectorAll(s)).filter(function(t){return t===e});null!==s&&0<l.length&&(this._selector=s,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}d.default(document).on("click.bs.collapse.data-api",lt,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=d.default(this),t=c.getSelectorFromElement(this),t=[].slice.call(document.querySelectorAll(t));d.default(t).each(function(){var t=d.default(this),e=t.data(p)?"toggle":n.data();y._jQueryInterface.call(t,e)})}),d.default.fn[_]=y._jQueryInterface,d.default.fn[_].Constructor=y,d.default.fn[_].noConflict=function(){return d.default.fn[_]=nt,y._jQueryInterface};var E="dropdown",dt="bs.dropdown",ct=d.default.fn[E],ft=new RegExp("38|40|27"),ht="disabled",T="show",gt="dropdown-menu-right",mt="hide.bs.dropdown",_t="hidden.bs.dropdown",e="click.bs.dropdown.data-api",n="keydown.bs.dropdown.data-api",pt='[data-toggle="dropdown"]',vt=".dropdown-menu",yt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},bt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},w=((R=C.prototype).toggle=function(){var t;this._element.disabled||d.default(this._element).hasClass(ht)||(t=d.default(this._menu).hasClass(T),C._clearMenus(),t)||this.show(!0)},R.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||d.default(this._element).hasClass(ht)||d.default(this._menu).hasClass(T))){var e={relatedTarget:this._element},n=d.default.Event("show.bs.dropdown",e),i=C._getParentFromElement(this._element);if(d.default(i).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===q.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");n=this._element;"parent"===this._config.reference?n=i:c.isElement(this._config.reference)&&(n=this._config.reference,void 0!==this._config.reference.jquery)&&(n=this._config.reference[0]),"scrollParent"!==this._config.boundary&&d.default(i).addClass("position-static"),this._popper=new q.default(n,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===d.default(i).closest(".navbar-nav").length&&d.default(document.body).children().on("mouseover",null,d.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),d.default(this._menu).toggleClass(T),d.default(i).toggleClass(T).trigger(d.default.Event("shown.bs.dropdown",e))}}},R.hide=function(){var t,e,n;this._element.disabled||d.default(this._element).hasClass(ht)||!d.default(this._menu).hasClass(T)||(t={relatedTarget:this._element},e=d.default.Event(mt,t),n=C._getParentFromElement(this._element),d.default(n).trigger(e),e.isDefaultPrevented())||(this._popper&&this._popper.destroy(),d.default(this._menu).toggleClass(T),d.default(n).toggleClass(T).trigger(d.default.Event(_t,t)))},R.dispose=function(){d.default.removeData(this._element,dt),d.default(this._element).off(".bs.dropdown"),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},R.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},R._addEventListeners=function(){var e=this;d.default(this._element).on("click.bs.dropdown",function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},R._getConfig=function(t){return t=a({},this.constructor.Default,d.default(this._element).data(),t),c.typeCheckConfig(E,t,this.constructor.DefaultType),t},R._getMenuElement=function(){var t;return this._menu||(t=C._getParentFromElement(this._element))&&(this._menu=t.querySelector(vt)),this._menu},R._getPlacement=function(){var t=d.default(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=d.default(this._menu).hasClass(gt)?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":d.default(this._menu).hasClass(gt)&&(e="bottom-end"),e},R._detectNavbar=function(){return 0<d.default(this._element).closest(".navbar").length},R._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets,e._element)),t}:t.offset=this._config.offset,t},R._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),a({},t,this._config.popperConfig)},C._jQueryInterface=function(e){return this.each(function(){var t=d.default(this).data(dt);if(t||(t=new C(this,"object"==typeof e?e:null),d.default(this).data(dt,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},C._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(pt)),n=0,i=e.length;n<i;n++){var o,a,s=C._getParentFromElement(e[n]),l=d.default(e[n]).data(dt),r={relatedTarget:e[n]};t&&"click"===t.type&&(r.clickEvent=t),l&&(o=l._menu,!d.default(s).hasClass(T)||t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&d.default.contains(s,t.target)||(a=d.default.Event(mt,r),d.default(s).trigger(a),a.isDefaultPrevented())||("ontouchstart"in document.documentElement&&d.default(document.body).children().off("mouseover",null,d.default.noop),e[n].setAttribute("aria-expanded","false"),l._popper&&l._popper.destroy(),d.default(o).removeClass(T),d.default(s).removeClass(T).trigger(d.default.Event(_t,r))))}},C._getParentFromElement=function(t){var e,n=c.getSelectorFromElement(t);return(e=n?document.querySelector(n):e)||t.parentNode},C._dataApiKeydownHandler=function(t){var e,n,i;(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||d.default(t.target).closest(vt).length):!ft.test(t.which))||this.disabled||d.default(this).hasClass(ht)||(e=C._getParentFromElement(this),!(n=d.default(e).hasClass(T))&&27===t.which)||(t.preventDefault(),t.stopPropagation(),n&&27!==t.which&&32!==t.which?0!==(n=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(t){return d.default(t).is(":visible")})).length&&(i=n.indexOf(t.target),38===t.which&&0<i&&i--,40===t.which&&i<n.length-1&&i++,n[i=i<0?0:i].focus()):(27===t.which&&d.default(e.querySelector(pt)).trigger("focus"),d.default(this).trigger("click")))},i(C,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return yt}},{key:"DefaultType",get:function(){return bt}}]),C);function C(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}d.default(document).on(n,pt,w._dataApiKeydownHandler).on(n,vt,w._dataApiKeydownHandler).on(e+" keyup.bs.dropdown.data-api",w._clearMenus).on(e,pt,function(t){t.preventDefault(),t.stopPropagation(),w._jQueryInterface.call(d.default(this),"toggle")}).on(e,".dropdown form",function(t){t.stopPropagation()}),d.default.fn[E]=w._jQueryInterface,d.default.fn[E].Constructor=w,d.default.fn[E].noConflict=function(){return d.default.fn[E]=ct,w._jQueryInterface};var Et="bs.modal",Tt=d.default.fn.modal,wt="modal-open",S="fade",Ct="show",St="modal-static",Nt="hidden.bs.modal",Dt="show.bs.modal",At="focusin.bs.modal",It="resize.bs.modal",kt="click.dismiss.bs.modal",Ot="keydown.dismiss.bs.modal",jt="mousedown.dismiss.bs.modal",Pt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Lt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Rt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},N=((R=D.prototype).toggle=function(t){return this._isShown?this.hide():this.show(t)},R.show=function(t){var e,n=this;this._isShown||this._isTransitioning||(e=d.default.Event(Dt,{relatedTarget:t}),d.default(this._element).trigger(e),e.isDefaultPrevented())||(this._isShown=!0,d.default(this._element).hasClass(S)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),d.default(this._element).on(kt,'[data-dismiss="modal"]',function(t){return n.hide(t)}),d.default(this._dialog).on(jt,function(){d.default(n._element).one("mouseup.dismiss.bs.modal",function(t){d.default(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))},R.hide=function(t){var e=this;t&&t.preventDefault(),this._isShown&&!this._isTransitioning&&(t=d.default.Event("hide.bs.modal"),d.default(this._element).trigger(t),this._isShown)&&!t.isDefaultPrevented()&&(this._isShown=!1,(t=d.default(this._element).hasClass(S))&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),d.default(document).off(At),d.default(this._element).removeClass(Ct),d.default(this._element).off(kt),d.default(this._dialog).off(jt),t?(t=c.getTransitionDurationFromElement(this._element),d.default(this._element).one(c.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(t)):this._hideModal())},R.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return d.default(t).off(".bs.modal")}),d.default(document).off(At),d.default.removeData(this._element,Et),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},R.handleUpdate=function(){this._adjustDialog()},R._getConfig=function(t){return t=a({},Lt,t),c.typeCheckConfig("modal",t,Rt),t},R._triggerBackdropTransition=function(){var t,e,n=this,i=d.default.Event("hidePrevented.bs.modal");d.default(this._element).trigger(i),i.isDefaultPrevented()||((t=this._element.scrollHeight>document.documentElement.clientHeight)||(this._element.style.overflowY="hidden"),this._element.classList.add(St),e=c.getTransitionDurationFromElement(this._dialog),d.default(this._element).off(c.TRANSITION_END),d.default(this._element).one(c.TRANSITION_END,function(){n._element.classList.remove(St),t||d.default(n._element).one(c.TRANSITION_END,function(){n._element.style.overflowY=""}).emulateTransitionEnd(n._element,e)}).emulateTransitionEnd(e),this._element.focus())},R._showElement=function(t){function e(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,d.default(n._element).trigger(a)}var n=this,i=d.default(this._element).hasClass(S),o=this._dialog?this._dialog.querySelector(".modal-body"):null,a=(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),d.default(this._dialog).hasClass("modal-dialog-scrollable")&&o?o.scrollTop=0:this._element.scrollTop=0,i&&c.reflow(this._element),d.default(this._element).addClass(Ct),this._config.focus&&this._enforceFocus(),d.default.Event("shown.bs.modal",{relatedTarget:t}));i?(o=c.getTransitionDurationFromElement(this._dialog),d.default(this._dialog).one(c.TRANSITION_END,e).emulateTransitionEnd(o)):e()},R._enforceFocus=function(){var e=this;d.default(document).off(At).on(At,function(t){document!==t.target&&e._element!==t.target&&0===d.default(e._element).has(t.target).length&&e._element.focus()})},R._setEscapeEvent=function(){var e=this;this._isShown?d.default(this._element).on(Ot,function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()}):this._isShown||d.default(this._element).off(Ot)},R._setResizeEvent=function(){var e=this;this._isShown?d.default(window).on(It,function(t){return e.handleUpdate(t)}):d.default(window).off(It)},R._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){d.default(document.body).removeClass(wt),t._resetAdjustments(),t._resetScrollbar(),d.default(t._element).trigger(Nt)})},R._removeBackdrop=function(){this._backdrop&&(d.default(this._backdrop).remove(),this._backdrop=null)},R._showBackdrop=function(t){var e,n=this,i=d.default(this._element).hasClass(S)?S:"";this._isShown&&this._config.backdrop?(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),d.default(this._backdrop).appendTo(document.body),d.default(this._element).on(kt,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._triggerBackdropTransition():n.hide())}),i&&c.reflow(this._backdrop),d.default(this._backdrop).addClass(Ct),t&&(i?(i=c.getTransitionDurationFromElement(this._backdrop),d.default(this._backdrop).one(c.TRANSITION_END,t).emulateTransitionEnd(i)):t())):!this._isShown&&this._backdrop?(d.default(this._backdrop).removeClass(Ct),i=function(){n._removeBackdrop(),t&&t()},d.default(this._element).hasClass(S)?(e=c.getTransitionDurationFromElement(this._backdrop),d.default(this._backdrop).one(c.TRANSITION_END,i).emulateTransitionEnd(e)):i()):t&&t()},R._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},R._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},R._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},R._setScrollbar=function(){var t,e,o=this;this._isBodyOverflowing&&(t=[].slice.call(document.querySelectorAll(Pt)),e=[].slice.call(document.querySelectorAll(".sticky-top")),d.default(t).each(function(t,e){var n=e.style.paddingRight,i=d.default(e).css("padding-right");d.default(e).data("padding-right",n).css("padding-right",parseFloat(i)+o._scrollbarWidth+"px")}),d.default(e).each(function(t,e){var n=e.style.marginRight,i=d.default(e).css("margin-right");d.default(e).data("margin-right",n).css("margin-right",parseFloat(i)-o._scrollbarWidth+"px")}),t=document.body.style.paddingRight,e=d.default(document.body).css("padding-right"),d.default(document.body).data("padding-right",t).css("padding-right",parseFloat(e)+this._scrollbarWidth+"px")),d.default(document.body).addClass(wt)},R._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(Pt)),t=(d.default(t).each(function(t,e){var n=d.default(e).data("padding-right");d.default(e).removeData("padding-right"),e.style.paddingRight=n||""}),[].slice.call(document.querySelectorAll(".sticky-top"))),t=(d.default(t).each(function(t,e){var n=d.default(e).data("margin-right");void 0!==n&&d.default(e).css("margin-right",n).removeData("margin-right")}),d.default(document.body).data("padding-right"));d.default(document.body).removeData("padding-right"),document.body.style.paddingRight=t||""},R._getScrollbarWidth=function(){var t=document.createElement("div"),e=(t.className="modal-scrollbar-measure",document.body.appendChild(t),t.getBoundingClientRect().width-t.clientWidth);return document.body.removeChild(t),e},D._jQueryInterface=function(n,i){return this.each(function(){var t=d.default(this).data(Et),e=a({},Lt,d.default(this).data(),"object"==typeof n&&n?n:{});if(t||(t=new D(this,e),d.default(this).data(Et,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},i(D,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Lt}}]),D);function D(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}d.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e,n=this,i=c.getSelectorFromElement(this),i=(i&&(e=document.querySelector(i)),d.default(e).data(Et)?"toggle":a({},d.default(e).data(),d.default(this).data())),o=("A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),d.default(e).one(Dt,function(t){t.isDefaultPrevented()||o.one(Nt,function(){d.default(n).is(":visible")&&n.focus()})}));N._jQueryInterface.call(d.default(e),i,this)}),d.default.fn.modal=N._jQueryInterface,d.default.fn.modal.Constructor=N,d.default.fn.modal.noConflict=function(){return d.default.fn.modal=Tt,N._jQueryInterface};var xt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],qt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ft=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Qt(t,o,e){if(0===t.length)return t;if(e&&"function"==typeof e)return e(t);for(var e=(new window.DOMParser).parseFromString(t,"text/html"),a=Object.keys(o),s=[].slice.call(e.body.querySelectorAll("*")),n=0,i=s.length;n<i;n++)!function(t){var e=s[t],t=e.nodeName.toLowerCase();if(-1===a.indexOf(e.nodeName.toLowerCase()))return e.parentNode.removeChild(e);var n=[].slice.call(e.attributes),i=[].concat(o["*"]||[],o[t]||[]);n.forEach(function(t){!function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===xt.indexOf(n)||Boolean(qt.test(t.nodeValue)||Ft.test(t.nodeValue));for(var i=e.filter(function(t){return t instanceof RegExp}),o=0,a=i.length;o<a;o++)if(i[o].test(n))return 1}(t,i)&&e.removeAttribute(t.nodeName)})}(n);return e.body.innerHTML}var Bt="tooltip",Ht="bs.tooltip",Ut=d.default.fn.tooltip,Mt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Wt=["sanitize","whiteList","sanitizeFn"],Vt="fade",zt="show",A="show",Kt="hover",Xt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Yt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},$t={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Jt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},I=((n=k.prototype).enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){var e,n;this._isEnabled&&(t?(e=this.constructor.DATA_KEY,(n=d.default(t.currentTarget).data(e))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),d.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)):d.default(this.getTipElement()).hasClass(zt)?this._leave(null,this):this._enter(null,this))},n.dispose=function(){clearTimeout(this._timeout),d.default.removeData(this.element,this.constructor.DATA_KEY),d.default(this.element).off(this.constructor.EVENT_KEY),d.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&d.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var e=this;if("none"===d.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t,n,i=d.default.Event(this.constructor.Event.SHOW);this.isWithContent()&&this._isEnabled&&(d.default(this.element).trigger(i),n=c.findShadowRoot(this.element),n=d.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element),!i.isDefaultPrevented())&&n&&(i=this.getTipElement(),n=c.getUID(this.constructor.NAME),i.setAttribute("id",n),this.element.setAttribute("aria-describedby",n),this.setContent(),this.config.animation&&d.default(i).addClass(Vt),n="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,n=this._getAttachment(n),this.addAttachmentClass(n),t=this._getContainer(),d.default(i).data(this.constructor.DATA_KEY,this),d.default.contains(this.element.ownerDocument.documentElement,this.tip)||d.default(i).appendTo(t),d.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new q.default(this.element,i,this._getPopperConfig(n)),d.default(i).addClass(zt),d.default(i).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&d.default(document.body).children().on("mouseover",null,d.default.noop),t=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,d.default(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)},d.default(this.tip).hasClass(Vt)?(n=c.getTransitionDurationFromElement(this.tip),d.default(this.tip).one(c.TRANSITION_END,t).emulateTransitionEnd(n)):t())},n.hide=function(t){function e(){n._hoverState!==A&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),d.default(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()}var n=this,i=this.getTipElement(),o=d.default.Event(this.constructor.Event.HIDE);d.default(this.element).trigger(o),o.isDefaultPrevented()||(d.default(i).removeClass(zt),"ontouchstart"in document.documentElement&&d.default(document.body).children().off("mouseover",null,d.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,d.default(this.tip).hasClass(Vt)?(o=c.getTransitionDurationFromElement(i),d.default(i).one(c.TRANSITION_END,e).emulateTransitionEnd(o)):e(),this._hoverState="")},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(t){d.default(this.getTipElement()).addClass("bs-tooltip-"+t)},n.getTipElement=function(){return this.tip=this.tip||d.default(this.config.template)[0],this.tip},n.setContent=function(){var t=this.getTipElement();this.setElementContent(d.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),d.default(t).removeClass("fade show")},n.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=Qt(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?d.default(e).parent().is(t)||t.empty().append(e):t.text(d.default(e).text())},n.getTitle=function(){return this.element.getAttribute("data-original-title")||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},n._getPopperConfig=function(t){var e=this;return a({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},n._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e.config.offset(t.offsets,e.element)),t}:t.offset=this.config.offset,t},n._getContainer=function(){return!1===this.config.container?document.body:c.isElement(this.config.container)?d.default(this.config.container):d.default(document).find(this.config.container)},n._getAttachment=function(t){return Xt[t.toUpperCase()]},n._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(t){var e;"click"===t?d.default(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)}):"manual"!==t&&(e=t===Kt?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,t=t===Kt?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT,d.default(n.element).on(e,n.config.selector,function(t){return n._enter(t)}).on(t,n.config.selector,function(t){return n._leave(t)}))}),this._hideModalHandler=function(){n.element&&n.hide()},d.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||d.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),d.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":Kt]=!0),d.default(e.getTipElement()).hasClass(zt)||e._hoverState===A?e._hoverState=A:(clearTimeout(e._timeout),e._hoverState=A,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===A&&e.show()},e.config.delay.show):e.show())},n._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||d.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),d.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":Kt]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){var e=d.default(this.element).data();return Object.keys(e).forEach(function(t){-1!==Wt.indexOf(t)&&delete e[t]}),"number"==typeof(t=a({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),c.typeCheckConfig(Bt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Qt(t.template,t.whiteList,t.sanitizeFn)),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=d.default(this.getTipElement()),e=t.attr("class").match(Mt);null!==e&&e.length&&t.removeClass(e.join(""))},n._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},n._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(d.default(t).removeClass(Vt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},k._jQueryInterface=function(i){return this.each(function(){var t=d.default(this),e=t.data(Ht),n="object"==typeof i&&i;if((e||!/dispose|hide/.test(i))&&(e||(e=new k(this,n),t.data(Ht,e)),"string"==typeof i)){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},i(k,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Yt}},{key:"NAME",get:function(){return Bt}},{key:"DATA_KEY",get:function(){return Ht}},{key:"Event",get:function(){return Jt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return $t}}]),k);function k(t,e){if(void 0===q.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}d.default.fn.tooltip=I._jQueryInterface,d.default.fn.tooltip.Constructor=I,d.default.fn.tooltip.noConflict=function(){return d.default.fn.tooltip=Ut,I._jQueryInterface};var Gt,Zt="bs.popover",te=d.default.fn.popover,ee=new RegExp("(^|\\s)bs-popover\\S+","g"),ne=a({},I.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ie=a({},I.DefaultType,{content:"(string|element|function)"}),oe={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},ae=(e=Gt=I,(R=O).prototype=Object.create(e.prototype),Q(R.prototype.constructor=R,e),(R=O.prototype).isWithContent=function(){return this.getTitle()||this._getContent()},R.addAttachmentClass=function(t){d.default(this.getTipElement()).addClass("bs-popover-"+t)},R.getTipElement=function(){return this.tip=this.tip||d.default(this.config.template)[0],this.tip},R.setContent=function(){var t=d.default(this.getTipElement()),e=(this.setElementContent(t.find(".popover-header"),this.getTitle()),this._getContent());"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},R._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},R._cleanTipClass=function(){var t=d.default(this.getTipElement()),e=t.attr("class").match(ee);null!==e&&0<e.length&&t.removeClass(e.join(""))},O._jQueryInterface=function(n){return this.each(function(){var t=d.default(this).data(Zt),e="object"==typeof n?n:null;if((t||!/dispose|hide/.test(n))&&(t||(t=new O(this,e),d.default(this).data(Zt,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},i(O,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ne}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return Zt}},{key:"Event",get:function(){return oe}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return ie}}]),O);function O(){return Gt.apply(this,arguments)||this}d.default.fn.popover=ae._jQueryInterface,d.default.fn.popover.Constructor=ae,d.default.fn.popover.noConflict=function(){return d.default.fn.popover=te,ae._jQueryInterface};var j="scrollspy",se="bs.scrollspy",le=d.default.fn[j],P="active",re="position",ue=".nav, .list-group",de={offset:10,method:"auto",target:""},ce={offset:"number",method:"string",target:"(string|element)"},L=((n=fe.prototype).refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":re,i="auto"===this._config.method?t:this._config.method,o=i===re?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,t=c.getSelectorFromElement(t);if(e=t?document.querySelector(t):e){var n=e.getBoundingClientRect();if(n.width||n.height)return[d.default(e)[i]().top+o,t]}return null}).filter(Boolean).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},n.dispose=function(){d.default.removeData(this._element,se),d.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){var e;return"string"!=typeof(t=a({},de,"object"==typeof t&&t?t:{})).target&&c.isElement(t.target)&&((e=d.default(t.target).attr("id"))||(e=c.getUID(j),d.default(t.target).attr("id",e)),t.target="#"+e),c.typeCheckConfig(j,t,ce),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){e=this._targets[this._targets.length-1];this._activeTarget!==e&&this._activate(e)}else if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(var i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])},n._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),t=d.default([].slice.call(document.querySelectorAll(t.join(","))));(t.hasClass("dropdown-item")?(t.closest(".dropdown").find(".dropdown-toggle").addClass(P),t):(t.addClass(P),t.parents(ue).prev(".nav-link, .list-group-item").addClass(P),t.parents(ue).prev(".nav-item").children(".nav-link"))).addClass(P),d.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(P)}).forEach(function(t){return t.classList.remove(P)})},fe._jQueryInterface=function(e){return this.each(function(){var t=d.default(this).data(se);if(t||(t=new fe(this,"object"==typeof e&&e),d.default(this).data(se,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},i(fe,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return de}}]),fe);function fe(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,d.default(this._scrollElement).on("scroll.bs.scrollspy",function(t){return n._process(t)}),this.refresh(),this._process()}d.default(window).on("load.bs.scrollspy.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var n=d.default(t[e]);L._jQueryInterface.call(n,n.data())}}),d.default.fn[j]=L._jQueryInterface,d.default.fn[j].Constructor=L,d.default.fn[j].noConflict=function(){return d.default.fn[j]=le,L._jQueryInterface};var he="bs.tab",ge=d.default.fn.tab,me="active",_e=".active",pe="> li > .active",ve=((e=ye.prototype).show=function(){var t,e,n,i,o,a,s=this;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&d.default(this._element).hasClass(me)||d.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled")||(e=d.default(this._element).closest(".nav, .list-group")[0],n=c.getSelectorFromElement(this._element),e&&(o="UL"===e.nodeName||"OL"===e.nodeName?pe:_e,i=(i=d.default.makeArray(d.default(e).find(o)))[i.length-1]),o=d.default.Event("hide.bs.tab",{relatedTarget:this._element}),a=d.default.Event("show.bs.tab",{relatedTarget:i}),i&&d.default(i).trigger(o),d.default(this._element).trigger(a),a.isDefaultPrevented())||o.isDefaultPrevented()||(n&&(t=document.querySelector(n)),this._activate(this._element,e),a=function(){var t=d.default.Event("hidden.bs.tab",{relatedTarget:s._element}),e=d.default.Event("shown.bs.tab",{relatedTarget:i});d.default(i).trigger(t),d.default(s._element).trigger(e)},t?this._activate(t,t.parentNode,a):a())},e.dispose=function(){d.default.removeData(this._element,he),this._element=null},e._activate=function(t,e,n){function i(){return o._transitionComplete(t,a,n)}var o=this,a=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?d.default(e).children(_e):d.default(e).find(pe))[0],e=n&&a&&d.default(a).hasClass("fade");a&&e?(e=c.getTransitionDurationFromElement(a),d.default(a).removeClass("show").one(c.TRANSITION_END,i).emulateTransitionEnd(e)):i()},e._transitionComplete=function(t,e,n){e&&(d.default(e).removeClass(me),(i=d.default(e.parentNode).find("> .dropdown-menu .active")[0])&&d.default(i).removeClass(me),"tab"===e.getAttribute("role"))&&e.setAttribute("aria-selected",!1),d.default(t).addClass(me),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),c.reflow(t),t.classList.contains("fade")&&t.classList.add("show");var i=t.parentNode;(i=i&&"LI"===i.nodeName?i.parentNode:i)&&d.default(i).hasClass("dropdown-menu")&&((e=d.default(t).closest(".dropdown")[0])&&(i=[].slice.call(e.querySelectorAll(".dropdown-toggle")),d.default(i).addClass(me)),t.setAttribute("aria-expanded",!0)),n&&n()},ye._jQueryInterface=function(n){return this.each(function(){var t=d.default(this),e=t.data(he);if(e||(e=new ye(this),t.data(he,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},i(ye,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),ye);function ye(t){this._element=t}d.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),ve._jQueryInterface.call(d.default(this),"show")}),d.default.fn.tab=ve._jQueryInterface,d.default.fn.tab.Constructor=ve,d.default.fn.tab.noConflict=function(){return d.default.fn.tab=ge,ve._jQueryInterface};var R,be="bs.toast",Ee=d.default.fn.toast,Te="show",we="showing",Ce="click.dismiss.bs.toast",Se={animation:!0,autohide:!0,delay:500},Ne={animation:"boolean",autohide:"boolean",delay:"number"},De=((R=Ae.prototype).show=function(){var t,e=this,n=d.default.Event("show.bs.toast");d.default(this._element).trigger(n),n.isDefaultPrevented()||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),n=function(){e._element.classList.remove(we),e._element.classList.add(Te),d.default(e._element).trigger("shown.bs.toast"),e._config.autohide&&(e._timeout=setTimeout(function(){e.hide()},e._config.delay))},this._element.classList.remove("hide"),c.reflow(this._element),this._element.classList.add(we),this._config.animation?(t=c.getTransitionDurationFromElement(this._element),d.default(this._element).one(c.TRANSITION_END,n).emulateTransitionEnd(t)):n())},R.hide=function(){var t;this._element.classList.contains(Te)&&(t=d.default.Event("hide.bs.toast"),d.default(this._element).trigger(t),t.isDefaultPrevented()||this._close())},R.dispose=function(){this._clearTimeout(),this._element.classList.contains(Te)&&this._element.classList.remove(Te),d.default(this._element).off(Ce),d.default.removeData(this._element,be),this._element=null,this._config=null},R._getConfig=function(t){return t=a({},Se,d.default(this._element).data(),"object"==typeof t&&t?t:{}),c.typeCheckConfig("toast",t,this.constructor.DefaultType),t},R._setListeners=function(){var t=this;d.default(this._element).on(Ce,'[data-dismiss="toast"]',function(){return t.hide()})},R._close=function(){function t(){n._element.classList.add("hide"),d.default(n._element).trigger("hidden.bs.toast")}var e,n=this;this._element.classList.remove(Te),this._config.animation?(e=c.getTransitionDurationFromElement(this._element),d.default(this._element).one(c.TRANSITION_END,t).emulateTransitionEnd(e)):t()},R._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},Ae._jQueryInterface=function(n){return this.each(function(){var t=d.default(this),e=t.data(be);if(e||(e=new Ae(this,"object"==typeof n&&n),t.data(be,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](this)}})},i(Ae,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return Ne}},{key:"Default",get:function(){return Se}}]),Ae);function Ae(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}d.default.fn.toast=De._jQueryInterface,d.default.fn.toast.Constructor=De,d.default.fn.toast.noConflict=function(){return d.default.fn.toast=Ee,De._jQueryInterface},t.Alert=o,t.Button=l,t.Carousel=g,t.Collapse=y,t.Dropdown=w,t.Modal=N,t.Popover=ae,t.Scrollspy=L,t.Tab=ve,t.Toast=De,t.Tooltip=I,t.Util=c,Object.defineProperty(t,"__esModule",{value:!0})});
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function f(){return lt.apply(null,arguments)}function u(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function H(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e){return void 0===e}function L(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function G(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function V(e,t){for(var n=[],s=0;s<e.length;++s)n.push(t(e[s],s));return n}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return Re(e,t,n,s,!0).utc()}function _(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function N(e){if(null==e._isValid){var t=_(e),n=dt.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function j(e){var t=l(NaN);return null!=e?o(_(t),e):_(t).userInvalidated=!0,t}function E(e,t){var n,s,i;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=_(t)),r(t._locale)||(e._locale=t._locale),0<ht.length)for(n=0;n<ht.length;n++)r(i=t[s=ht[n]])||(e[s]=i);return e}function A(e){E(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ct&&(ct=!0,f.updateOffset(this),ct=!1)}function a(e){return e instanceof A||null!=e&&null!=e._isAMomentObject}function d(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function h(e){var e=+e,t=0;return t=0!=e&&isFinite(e)?d(e):t}function I(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&h(e[a])!==h(t[a]))&&r++;return r+i}function Z(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(i,r){var a=!0;return o(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var s in e+="\n["+n+"] ",arguments[0])e+=s+": "+arguments[0][s]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}Z(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}function z(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),ft[e]||(Z(t),ft[e]=!0)}function c(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function $(e,t){var n,s=o({},e);for(n in t)m(t,n)&&(H(e[n])&&H(t[n])?(s[n]={},o(s[n],e[n]),o(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)m(e,n)&&!m(t,n)&&H(e[n])&&(s[n]=o({},s[n]));return s}function q(e){null!=e&&this.set(e)}function t(e,t){var n=e.toLowerCase();_t[n]=_t[n+"s"]=_t[t]=e}function y(e){return"string"==typeof e?_t[e]||_t[e.toLowerCase()]:void 0}function J(e){var t,n,s={};for(n in e)m(e,n)&&(t=y(n),t)&&(s[t]=e[n]);return s}function n(e,t){yt[e]=t}function B(t,n){return function(e){return null!=e?(X(this,t,e),f.updateOffset(this,n),this):Q(this,t)}}function Q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function g(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}function s(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(Mt[e]=i),t&&(Mt[t[0]]=function(){return g(i.apply(this,arguments),t[1],t[2])}),n&&(Mt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function K(e,t){return e.isValid()?(t=ee(t,e.localeData()),wt[t]=wt[t]||function(s){for(var e,i=s.match(gt),t=0,r=i.length;t<r;t++)Mt[i[t]]?i[t]=Mt[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=c(i[n])?i[n].call(e,s):i[n];return t}}(t),wt[t](e)):e.localeData().invalidDate()}function ee(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(pt.lastIndex=0;0<=s&&pt.test(e);)e=e.replace(pt,n),pt.lastIndex=0,--s;return e}function i(e,n,s){Ct[e]=c(n)?n:function(e,t){return e&&s?s:n}}function te(e,t){return m(Ct,e)?Ct[e](t._strict,t._locale):new RegExp(ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function p(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),L(n)&&(s=function(e,t){t[n]=h(e)}),t=0;t<e.length;t++)Ft[e[t]]=s}function se(e,i){p(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function re(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=h(t);else if(!L(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function ae(e){return null!=e?(re(this,e),f.updateOffset(this,!0),this):Q(this,"Month")}function oe(){function e(e,t){return t.length-e.length}for(var t,n=[],s=[],i=[],r=0;r<12;r++)t=l([2e3,r]),n.push(this.monthsShort(t,"")),s.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),s.sort(e),i.sort(e),r=0;r<12;r++)n[r]=ne(n[r]),s[r]=ne(s[r]);for(r=0;r<24;r++)i[r]=ne(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function ue(e){return le(e)?366:365}function le(e){return e%4==0&&e%100!=0||e%400==0}function de(e,t,n,s,i,r,a){t=new Date(e,t,n,s,i,r,a);return e<100&&0<=e&&isFinite(t.getFullYear())&&t.setFullYear(e),t}function he(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ce(e,t,n){n=7+t-n;return n-(7+he(e,0,n).getUTCDay()-t)%7-1}function fe(e,t,n,s,i){var r,t=1+7*(t-1)+(7+n-s)%7+ce(e,s,i),n=t<=0?ue(r=e-1)+t:t>ue(e)?(r=e+1,t-ue(e)):(r=e,t);return{year:r,dayOfYear:n}}function me(e,t,n){var s,i,r=ce(e.year(),t,n),r=Math.floor((e.dayOfYear()-r-1)/7)+1;return r<1?s=r+_e(i=e.year()-1,t,n):r>_e(e.year(),t,n)?(s=r-_e(e.year(),t,n),i=e.year()+1):(i=e.year(),s=r),{week:s,year:i}}function _e(e,t,n){var s=ce(e,t,n),t=ce(e+1,t,n);return(ue(e)-s+t)/7}function ye(){function e(e,t){return t.length-e.length}for(var t,n,s,i=[],r=[],a=[],o=[],u=0;u<7;u++)s=l([2e3,1]).day(u),t=this.weekdaysMin(s,""),n=this.weekdaysShort(s,""),s=this.weekdays(s,""),i.push(t),r.push(n),a.push(s),o.push(t),o.push(n),o.push(s);for(i.sort(e),r.sort(e),a.sort(e),o.sort(e),u=0;u<7;u++)r[u]=ne(r[u]),a[u]=ne(a[u]),o[u]=ne(o[u]);this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(){return this.hours()%12||12}function pe(e,t){s(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function we(e,t){return t._meridiemParse}function Me(e){return e&&e.toLowerCase().replace("_","-")}function Se(e){var t;if(!R[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Bt._abbr,require("./locale/"+e),ke(t)}catch(e){}return R[e]}function ke(e,t){return(Bt=e&&(e=r(t)?ve(e):De(e,t))?e:Bt)._abbr}function De(e,t){if(null===t)return delete R[e],null;var n=Xt;if(t.abbr=e,null!=R[e])z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=R[e]._config;else if(null!=t.parentLocale){if(null==R[t.parentLocale])return Kt[t.parentLocale]||(Kt[t.parentLocale]=[]),Kt[t.parentLocale].push({name:e,config:t}),null;n=R[t.parentLocale]._config}return R[e]=new q($(n,t)),Kt[e]&&Kt[e].forEach(function(e){De(e.name,e.config)}),ke(e),R[e]}function ve(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return Bt;if(!u(e)){if(t=Se(e))return t;e=[e]}for(var n,s,i,r,a=e,o=0;o<a.length;){for(n=(r=Me(a[o]).split("-")).length,s=(s=Me(a[o+1]))?s.split("-"):null;0<n;){if(i=Se(r.slice(0,n).join("-")))return i;if(s&&s.length>=n&&I(r,s,!0)>=n-1)break;n--}o++}return null}function Ye(e){var t=e._a;return t&&-2===_(e).overflow&&(t=t[O]<0||11<t[O]?O:t[x]<1||t[x]>ie(t[Y],t[O])?x:t[T]<0||24<t[T]||24===t[T]&&(0!==t[b]||0!==t[P]||0!==t[Ut])?T:t[b]<0||59<t[b]?b:t[P]<0||59<t[P]?P:t[Ut]<0||999<t[Ut]?Ut:-1,_(e)._overflowDayOfYear&&(t<Y||x<t)&&(t=x),_(e)._overflowWeeks&&-1===t&&(t=Ht),_(e)._overflowWeekday&&-1===t&&(t=Lt),_(e).overflow=t),e}function Oe(e){var t,n,s,i,r,a,o=e._i,u=en.exec(o)||tn.exec(o);if(u){for(_(e).iso=!0,t=0,n=sn.length;t<n;t++)if(sn[t][1].exec(u[1])){i=sn[t][0],s=!1!==sn[t][2];break}if(null==i)e._isValid=!1;else{if(u[3]){for(t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(u[3])){r=(u[2]||" ")+rn[t][0];break}if(null==r)return void(e._isValid=!1)}if(s||null==r){if(u[4]){if(!nn.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Pe(e)}else e._isValid=!1}}else e._isValid=!1}function xe(e){var t,n,s,i,r,a={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},o=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");if(t=on.exec(o)){if(o=t[1]?"ddd"+(5===t[1].length?", ":" "):"",n="D MMM "+(10<t[2].length?"YYYY ":"YY "),s="HH:mm"+(t[4]?":ss":""),t[1]){var u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(t[2]).getDay()];if(t[1].substr(0,3)!==u)return _(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(t[5].length){case 2:i=0===r?" +0000":((r="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(t[5][1].toUpperCase())-12)<0?" -":" +")+(""+r).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:i=a[t[5]];break;default:i=a[" GMT"]}t[5]=i,e._i=t.splice(1).join(""),e._f=o+n+s+" ZZ",Pe(e),_(e).rfc2822=!0}else e._isValid=!1}function Te(e,t,n){return null!=e?e:null!=t?t:n}function be(e){var t,n,s,i,r,a,o,u,l,d,h=[];if(!e._d){if(c=e,d=new Date(f.now()),n=c._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()],e._w&&null==e._a[x]&&null==e._a[O]){var c=e;null!=(d=c._w).GG||null!=d.W||null!=d.E?(a=1,o=4,s=Te(d.GG,c._a[Y],me(w(),1,4).year),i=Te(d.W,1),((r=Te(d.E,1))<1||7<r)&&(u=!0)):(a=c._locale._week.dow,o=c._locale._week.doy,l=me(w(),a,o),s=Te(d.gg,c._a[Y],l.year),i=Te(d.w,l.week),null!=d.d?((r=d.d)<0||6<r)&&(u=!0):null!=d.e?(r=d.e+a,(d.e<0||6<d.e)&&(u=!0)):r=a);i<1||i>_e(s,a,o)?_(c)._overflowWeeks=!0:null!=u?_(c)._overflowWeekday=!0:(l=fe(s,i,r,a,o),c._a[Y]=l.year,c._dayOfYear=l.dayOfYear)}for(null!=e._dayOfYear&&(d=Te(e._a[Y],n[Y]),(e._dayOfYear>ue(d)||0===e._dayOfYear)&&(_(e)._overflowDayOfYear=!0),u=he(d,0,e._dayOfYear),e._a[O]=u.getUTCMonth(),e._a[x]=u.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=h[t]=n[t];for(;t<7;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[T]&&0===e._a[b]&&0===e._a[P]&&0===e._a[Ut]&&(e._nextDay=!0,e._a[T]=0),e._d=(e._useUTC?he:de).apply(null,h),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[T]=24)}}function Pe(e){if(e._f===f.ISO_8601)return Oe(e);if(e._f===f.RFC_2822)return xe(e);e._a=[],_(e).empty=!0;for(var t,n,s,i,r,a,o,u=""+e._i,l=u.length,d=0,h=ee(e._f,e._locale).match(gt)||[],c=0;c<h.length;c++)n=h[c],(t=(u.match(te(n,e))||[])[0])&&(0<(s=u.substr(0,u.indexOf(t))).length&&_(e).unusedInput.push(s),u=u.slice(u.indexOf(t)+t.length),d+=t.length),Mt[n]?(t?_(e).empty=!1:_(e).unusedTokens.push(n),s=n,r=e,null!=(i=t)&&m(Ft,s)&&Ft[s](i,r._a,r,s)):e._strict&&!t&&_(e).unusedTokens.push(n);_(e).charsLeftOver=l-d,0<u.length&&_(e).unusedInput.push(u),e._a[T]<=12&&!0===_(e).bigHour&&0<e._a[T]&&(_(e).bigHour=void 0),_(e).parsedDateParts=e._a.slice(0),_(e).meridiem=e._meridiem,e._a[T]=(l=e._locale,a=e._a[T],null==(o=e._meridiem)?a:null!=l.meridiemHour?l.meridiemHour(a,o):null!=l.isPM?((l=l.isPM(o))&&a<12&&(a+=12),a=l||12!==a?a:0):a),be(e),Ye(e)}function We(e){var t=e._i,n=e._f;{var s,i;return(e._locale=e._locale||ve(e._l),null===t||void 0===n&&""===t)?j({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),a(t)?new A(Ye(t)):(G(t)?e._d=t:u(n)?function(e){var t,n,s,i,r;if(0===e._f.length)return _(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=E({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Pe(t),N(t)&&(r=(r+=_(t).charsLeftOver)+10*_(t).unusedTokens.length,_(t).score=r,null==s||r<s)&&(s=r,n=t);o(e,n||t)}(e):n?Pe(e):r(n=(t=e)._i)?t._d=new Date(f.now()):G(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null!==(i=an.exec(s._i))?s._d=new Date(+i[1]):(Oe(s),!1===s._isValid&&(delete s._isValid,xe(s),!1===s._isValid)&&(delete s._isValid,f.createFromInputFallback(s)))):u(n)?(t._a=V(n.slice(0),function(e){return parseInt(e,10)}),be(t)):H(n)?(i=t)._d||(s=J(i._i),i._a=V([s.year,s.month,s.day||s.date,s.hour,s.minute,s.second,s.millisecond],function(e){return e&&parseInt(e,10)}),be(i)):L(n)?t._d=new Date(n):f.createFromInputFallback(t),N(e)||(e._d=null),e))}}function Re(e,t,n,s,i){var r={};return!0!==n&&!1!==n||(s=n,n=void 0),(H(e)&&function(e){for(var t in e)return;return 1}(e)||u(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=e,r._f=t,r._strict=s,(i=new A(Ye(We(i=r))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function w(e,t,n,s){return Re(e,t,n,s,!1)}function Ce(e,t){var n,s;if(!(t=1===t.length&&u(t[0])?t[0]:t).length)return w();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}function Fe(e){var e=J(e),t=e.year||0,n=e.quarter||0,s=e.month||0,i=e.week||0,r=e.day||0,a=e.hour||0,o=e.minute||0,u=e.second||0,l=e.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===un.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<un.length;++s)if(e[un[s]]){if(n)return!1;parseFloat(e[un[s]])!==h(e[un[s]])&&(n=!0)}return!0}(e),this._milliseconds=+l+1e3*u+6e4*o+1e3*a*60*60,this._days=+r+7*i,this._months=+s+3*n+12*t,this._data={},this._locale=ve(),this._bubble()}function Ue(e){return e instanceof Fe}function He(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Le(e,n){s(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+g(~~(e/60),2)+n+g(~~e%60,2)})}function Ge(e,t){var t=(t||"").match(e);return null===t?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(ln)||["-",0,0])[1]+h(e[2]))?0:"+"===e[0]?t:-t}function Ve(e,t){var n;return t._isUTC?(t=t.clone(),n=(a(e)||G(e)?e:w(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),f.updateOffset(t,!1),t):w(e).local()}function Ne(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function je(){return!!this.isValid()&&this._isUTC&&0===this._offset}function M(e,t){var n,s,i=e;return Ue(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:L(e)?(i={},t?i[t]=e:i.milliseconds=e):(t=dn.exec(e))?(n="-"===t[1]?-1:1,i={y:0,d:h(t[x])*n,h:h(t[T])*n,m:h(t[b])*n,s:h(t[P])*n,ms:h(He(1e3*t[Ut]))*n}):(t=hn.exec(e))?(n="-"===t[1]?-1:1,i={y:Ee(t[2],n),M:Ee(t[3],n),w:Ee(t[4],n),d:Ee(t[5],n),h:Ee(t[6],n),m:Ee(t[7],n),s:Ee(t[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(t=w(i.from),n=w(i.to),t=t.isValid()&&n.isValid()?(n=Ve(n,t),t.isBefore(n)?s=Ae(t,n):((s=Ae(n,t)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(i={}).ms=t.milliseconds,i.M=t.months),s=new Fe(i),Ue(e)&&m(e,"_locale")&&(s._locale=e._locale),s}function Ee(e,t){e=e&&parseFloat(e.replace(",","."));return(isNaN(e)?0:e)*t}function Ae(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ie(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(z(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Ze(this,M(e="string"==typeof e?+e:e,t),s),this}}function Ze(e,t,n,s){var i=t._milliseconds,r=He(t._days),t=He(t._months);e.isValid()&&(s=null==s||s,i&&e._d.setTime(e._d.valueOf()+i*n),r&&X(e,"Date",Q(e,"Date")+r*n),t&&re(e,Q(e,"Month")+t*n),s)&&f.updateOffset(e,r||t)}function ze(e){return void 0===e?this._locale._abbr:(null!=(e=ve(e))&&(this._locale=e),this)}function $e(){return this._locale}function qe(e,t){s(0,[e,e.length],0,t)}function Je(e,t,n,s,i){var r;return null==e?me(this,s,i).year:(r=_e(e,s,i),function(e,t,n,s,i){e=fe(e,t,n,s,i),t=he(e.year,0,e.dayOfYear);return this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=r<t?r:t,n,s,i))}function Be(e,t){t[Ut]=h(1e3*("0."+e))}function Qe(e){return e}function Xe(e,t,n,s){var i=ve(),s=l().set(s,t);return i[n](s,e)}function Ke(e,t,n){if(L(e)&&(t=e,e=void 0),e=e||"",null!=t)return Xe(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=Xe(e,i,n,"month");return s}function et(e,t,n,s){t=("boolean"==typeof e||(n=t=e,e=!1),L(t)&&(n=t,t=void 0),t||"");var i=ve(),r=e?i._week.dow:0;if(null!=n)return Xe(t,(n+r)%7,s,"day");for(var a=[],o=0;o<7;o++)a[o]=Xe(t,(o+r)%7,s,"day");return a}function tt(e,t,n,s){t=M(t,n);return e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function nt(e){return e<0?Math.floor(e):Math.ceil(e)}function st(e){return 4800*e/146097}function it(e){return 146097*e/4800}function rt(e){return function(){return this.as(e)}}function at(e){return function(){return this.isValid()?this._data[e]:NaN}}function ot(e,t,n){var s=M(e).abs(),i=cn(s.as("s")),r=cn(s.as("m")),a=cn(s.as("h")),o=cn(s.as("d")),u=cn(s.as("M")),s=cn(s.as("y")),i=(i<=F.ss?["s",i]:i<F.s&&["ss",i])||(r<=1?["m"]:r<F.m&&["mm",r])||(a<=1?["h"]:a<F.h&&["hh",a])||(o<=1?["d"]:o<F.d&&["dd",o])||(u<=1?["M"]:u<F.M&&["MM",u])||(s<=1?["y"]:["yy",s]);return i[2]=t,i[3]=0<+e,i[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,i)}function ut(){var e,t,n,s,i,r,a;return this.isValid()?(r=fn(this._milliseconds)/1e3,n=fn(this._days),t=fn(this._months),i=d(r/60),s=d(i/60),r%=60,i%=60,e=d(t/12),t=t%=12,n=n,s=s,i=i,r=r,(a=this.asSeconds())?(a<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(s||i||r?"T":"")+(s?s+"H":"")+(i?i+"M":"")+(r?r+"S":""):"P0D"):this.localeData().invalidDate()}var lt,dt=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},ht=f.momentProperties=[],ct=!1,ft={};f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var mt=Object.keys||function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n},_t={},yt={},gt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,wt={},Mt={},St=/\d/,S=/\d\d/,kt=/\d{3}/,Dt=/\d{4}/,k=/[+-]?\d{6}/,D=/\d\d?/,vt=/\d\d\d\d?/,Yt=/\d\d\d\d\d\d?/,Ot=/\d{1,3}/,xt=/\d{1,4}/,v=/[+-]?\d{1,6}/,Tt=/\d+/,bt=/[+-]?\d+/,Pt=/Z|[+-]\d\d:?\d\d/gi,Wt=/Z|[+-]\d\d(?::?\d\d)?/gi,Rt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ct={},Ft={},Y=0,O=1,x=2,T=3,b=4,P=5,Ut=6,Ht=7,Lt=8,W=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Gt=(s("M",["MM",2],"Mo",function(){return this.month()+1}),s("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),s("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),i("M",D),i("MM",D,S),i("MMM",function(e,t){return t.monthsShortRegex(e)}),i("MMMM",function(e,t){return t.monthsRegex(e)}),p(["M","MM"],function(e,t){t[O]=h(e)-1}),p(["MMM","MMMM"],function(e,t,n,s){s=n._locale.monthsParse(e,s,n._strict);null!=s?t[O]=s:_(n).invalidMonth=e}),/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/),Vt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jt=Rt,Et=Rt,At=(s("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),s(0,["YY",2],0,function(){return this.year()%100}),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),i("Y",bt),i("YY",D,S),i("YYYY",xt,Dt),i("YYYYY",v,k),i("YYYYYY",v,k),p(["YYYYY","YYYYYY"],Y),p("YYYY",function(e,t){t[Y]=2===e.length?f.parseTwoDigitYear(e):h(e)}),p("YY",function(e,t){t[Y]=f.parseTwoDigitYear(e)}),p("Y",function(e,t){t[Y]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return h(e)+(68<h(e)?1900:2e3)},B("FullYear",!0)),It=(s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),i("w",D),i("ww",D,S),i("W",D),i("WW",D,S),se(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=h(e)}),s("d",0,"do","day"),s("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),s("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),s("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),i("d",D),i("e",D),i("E",D),i("dd",function(e,t){return t.weekdaysMinRegex(e)}),i("ddd",function(e,t){return t.weekdaysShortRegex(e)}),i("dddd",function(e,t){return t.weekdaysRegex(e)}),se(["dd","ddd","dddd"],function(e,t,n,s){s=n._locale.weekdaysParse(e,s,n._strict);null!=s?t.d=s:_(n).invalidWeekday=e}),se(["d","e","E"],function(e,t,n,s){t[s]=h(e)}),"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_")),Zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$t=Rt,qt=Rt,Jt=Rt;s("H",["HH",2],0,"hour"),s("h",["hh",2],0,ge),s("k",["kk",2],0,function(){return this.hours()||24}),s("hmm",0,0,function(){return""+ge.apply(this)+g(this.minutes(),2)}),s("hmmss",0,0,function(){return""+ge.apply(this)+g(this.minutes(),2)+g(this.seconds(),2)}),s("Hmm",0,0,function(){return""+this.hours()+g(this.minutes(),2)}),s("Hmmss",0,0,function(){return""+this.hours()+g(this.minutes(),2)+g(this.seconds(),2)}),pe("a",!0),pe("A",!1),t("hour","h"),n("hour",13),i("a",we),i("A",we),i("H",D),i("h",D),i("k",D),i("HH",D,S),i("hh",D,S),i("kk",D,S),i("hmm",vt),i("hmmss",Yt),i("Hmm",vt),i("Hmmss",Yt),p(["H","HH"],T),p(["k","kk"],function(e,t,n){e=h(e);t[T]=24===e?0:e}),p(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),p(["h","hh"],function(e,t,n){t[T]=h(e),_(n).bigHour=!0}),p("hmm",function(e,t,n){var s=e.length-2;t[T]=h(e.substr(0,s)),t[b]=h(e.substr(s)),_(n).bigHour=!0}),p("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[T]=h(e.substr(0,s)),t[b]=h(e.substr(s,2)),t[P]=h(e.substr(i)),_(n).bigHour=!0}),p("Hmm",function(e,t,n){var s=e.length-2;t[T]=h(e.substr(0,s)),t[b]=h(e.substr(s))}),p("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[T]=h(e.substr(0,s)),t[b]=h(e.substr(s,2)),t[P]=h(e.substr(i))});var Bt,Qt,Rt=B("Hours",!0),Xt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Vt,monthsShort:Nt,week:{dow:0,doy:6},weekdays:It,weekdaysMin:zt,weekdaysShort:Zt,meridiemParse:/[ap]\.?m?\.?/i},R={},Kt={},en=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nn=/Z|[+-]\d\d(?::?\d\d)?/,sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],rn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],an=/^\/?Date\((\-?\d+)/i,on=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/,vt=(f.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){},e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=w.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:j()})),Yt=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=w.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:j()}),un=["year","quarter","month","week","day","hour","minute","second","millisecond"],ln=(Le("Z",":"),Le("ZZ",""),i("Z",Wt),i("ZZ",Wt),p(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ge(Wt,e)}),/([\+\-]|\d\d)/gi),dn=(f.updateOffset=function(){},/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/),hn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/,Vt=(M.fn=Fe.prototype,M.invalid=function(){return M(NaN)},Ie(1,"add")),Nt=Ie(-1,"subtract"),It=(f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)})),zt=(s(0,["gg",2],0,function(){return this.weekYear()%100}),s(0,["GG",2],0,function(){return this.isoWeekYear()%100}),qe("gggg","weekYear"),qe("ggggg","weekYear"),qe("GGGG","isoWeekYear"),qe("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),i("G",bt),i("g",bt),i("GG",D,S),i("gg",D,S),i("GGGG",xt,Dt),i("gggg",xt,Dt),i("GGGGG",v,k),i("ggggg",v,k),se(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=h(e)}),se(["gg","GG"],function(e,t,n,s){t[s]=f.parseTwoDigitYear(e)}),s("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),i("Q",St),p("Q",function(e,t){t[O]=3*(h(e)-1)}),s("D",["DD",2],"Do","date"),t("date","D"),n("date",9),i("D",D),i("DD",D,S),i("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),p(["D","DD"],x),p("Do",function(e,t){t[x]=h(e.match(D)[0])}),B("Date",!0)),Zt=(s("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),i("DDD",Ot),i("DDDD",kt),p(["DDD","DDDD"],function(e,t,n){n._dayOfYear=h(e)}),s("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),i("m",D),i("mm",D,S),p(["m","mm"],b),B("Minutes",!1)),xt=(s("s",["ss",2],0,"second"),t("second","s"),n("second",15),i("s",D),i("ss",D,S),p(["s","ss"],P),B("Seconds",!1));for(s("S",0,0,function(){return~~(this.millisecond()/100)}),s(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,function(){return 10*this.millisecond()}),s(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),s(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),s(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),s(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),s(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),i("S",Ot,St),i("SS",Ot,S),i("SSS",Ot,kt),Qt="SSSS";Qt.length<=9;Qt+="S")i(Qt,Tt);for(Qt="S";Qt.length<=9;Qt+="S")p(Qt,Be);var Dt=B("Milliseconds",!1),v=(s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName"),A.prototype),k=(v.add=Vt,v.calendar=function(e,t){var n=Ve(e=e||w(),this).startOf("day"),n=f.calendarFormat(this,n)||"sameElse",t=t&&(c(t[n])?t[n].call(this,e):t[n]);return this.format(t||this.localeData().calendar(n,this,w(e)))},v.clone=function(){return new A(this)},v.diff=function(e,t,n){var s,i,r,a,o,u;return this.isValid()&&(e=Ve(e,this)).isValid()?(s=6e4*(e.utcOffset()-this.utcOffset()),"year"===(t=y(t))||"month"===t||"quarter"===t?(i=this,o=12*((r=e).year()-i.year())+(r.month()-i.month()),u=i.clone().add(o,"months"),i=r-u<0?(a=i.clone().add(o-1,"months"),(r-u)/(u-a)):(a=i.clone().add(1+o,"months"),(r-u)/(a-u)),r=-(o+i)||0,"quarter"===t?r/=3:"year"===t&&(r/=12)):(a=this-e,r="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-s)/864e5:"week"===t?(a-s)/6048e5:a),n?r:d(r)):NaN},v.endOf=function(e){return void 0===(e=y(e))||"millisecond"===e?this:this.startOf(e="date"===e?"day":e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},v.format=function(e){return e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat),e=K(this,e),this.localeData().postformat(e)},v.from=function(e,t){return this.isValid()&&(a(e)&&e.isValid()||w(e).isValid())?M({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},v.fromNow=function(e){return this.from(w(),e)},v.to=function(e,t){return this.isValid()&&(a(e)&&e.isValid()||w(e).isValid())?M({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},v.toNow=function(e){return this.to(w(),e)},v.get=function(e){return c(this[e=y(e)])?this[e]():this},v.invalidAt=function(){return _(this).overflow},v.isAfter=function(e,t){return e=a(e)?e:w(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=y(r(t)?"millisecond":t))?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},v.isBefore=function(e,t){return e=a(e)?e:w(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=y(r(t)?"millisecond":t))?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},v.isBetween=function(e,t,n,s){return("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},v.isSame=function(e,t){var e=a(e)?e:w(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=y(t||"millisecond"))?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},v.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},v.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},v.isValid=function(){return N(this)},v.lang=It,v.locale=ze,v.localeData=$e,v.max=Yt,v.min=vt,v.parsingFlags=function(){return o({},_(this))},v.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)n.push({unit:t,priority:yt[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=J(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(c(this[e=y(e)]))return this[e](t);return this},v.startOf=function(e){switch(e=y(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},v.subtract=Nt,v.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},v.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},v.toDate=function(){return new Date(this.valueOf())},v.toISOString=function(){var e;return this.isValid()?(e=this.clone().utc()).year()<0||9999<e.year()?K(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):c(Date.prototype.toISOString)?this.toDate().toISOString():K(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):null},v.inspect=function(){var e,t,n;return this.isValid()?(t="moment",e="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))):"moment.invalid(/* "+this._i+" */)"},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},v.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},v.year=At,v.isLeapYear=function(){return le(this.year())},v.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},v.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},v.quarter=v.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},v.month=ae,v.daysInMonth=function(){return ie(this.year(),this.month())},v.week=v.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},v.isoWeek=v.isoWeeks=function(e){var t=me(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},v.weeksInYear=function(){var e=this.localeData()._week;return _e(this.year(),e.dow,e.doy)},v.isoWeeksInYear=function(){return _e(this.year(),1,4)},v.date=zt,v.day=v.days=function(e){var t,n,s;return this.isValid()?(t=this._isUTC?this._d.getUTCDay():this._d.getDay(),null!=e?(n=e,s=this.localeData(),e="string"!=typeof n?n:isNaN(n)?"number"==typeof(n=s.weekdaysParse(n))?n:null:parseInt(n,10),this.add(e-t,"d")):t):null!=e?this:NaN},v.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},v.isoWeekday=function(e){var t,n;return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN},v.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},v.hour=v.hours=Rt,v.minute=v.minutes=Zt,v.second=v.seconds=xt,v.millisecond=v.milliseconds=Dt,v.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Ne(this);if("string"==typeof e){if(null===(e=Ge(Wt,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Ne(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?Ze(this,M(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},v.utc=function(e){return this.utcOffset(0,e)},v.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(Ne(this),"m"),this},v.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Ge(Pt,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},v.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?w(e).utcOffset():0,(this.utcOffset()-e)%60==0)},v.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},v.isLocal=function(){return!!this.isValid()&&!this._isUTC},v.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},v.isUtc=je,v.isUTC=je,v.zoneAbbr=function(){return this._isUTC?"UTC":""},v.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},v.dates=e("dates accessor is deprecated. Use date instead.",zt),v.months=e("months accessor is deprecated. Use month instead",ae),v.years=e("years accessor is deprecated. Use year instead",At),v.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),v.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return r(this._isDSTShifted)&&(E(e={},this),(e=We(e))._a?(t=(e._isUTC?l:w)(e._a),this._isDSTShifted=this.isValid()&&0<I(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted}),q.prototype),C=(k.calendar=function(e,t,n){return c(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},k.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},k.invalidDate=function(){return this._invalidDate},k.ordinal=function(e){return this._ordinal.replace("%d",e)},k.preparse=Qe,k.postformat=Qe,k.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return c(i)?i(e,t,n,s):i.replace(/%d/i,e)},k.pastFuture=function(e,t){return c(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},k.set=function(e){var t,n;for(n in e)t=e[n],c(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},k.months=function(e,t){return e?(u(this._months)?this._months:this._months[(this._months.isFormat||Gt).test(t)?"format":"standalone"])[e.month()]:u(this._months)?this._months:this._months.standalone},k.monthsShort=function(e,t){return e?(u(this._monthsShort)?this._monthsShort:this._monthsShort[Gt.test(t)?"format":"standalone"])[e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},k.monthsParse=function(e,t,n){var s,i;if(this._monthsParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?-1!==(i="MMM"===t?W.call(this._shortMonthsParse,e):W.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=W.call(this._shortMonthsParse,e))||-1!==(i=W.call(this._longMonthsParse,e))?i:null:-1!==(i=W.call(this._longMonthsParse,e))||-1!==(i=W.call(this._shortMonthsParse,e))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},k.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Et),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},k.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=jt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},k.week=function(e){return me(e,this._week.dow,this._week.doy).week},k.firstDayOfYear=function(){return this._week.doy},k.firstDayOfWeek=function(){return this._week.dow},k.weekdays=function(e,t){return e?(u(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"])[e.day()]:u(this._weekdays)?this._weekdays:this._weekdays.standalone},k.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},k.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},k.weekdaysParse=function(e,t,n){var s,i;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?-1!==(i="dddd"===t?W.call(this._weekdaysParse,e):"ddd"===t?W.call(this._shortWeekdaysParse,e):W.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=W.call(this._weekdaysParse,e))||-1!==(i=W.call(this._shortWeekdaysParse,e))||-1!==(i=W.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=W.call(this._shortWeekdaysParse,e))||-1!==(i=W.call(this._weekdaysParse,e))||-1!==(i=W.call(this._minWeekdaysParse,e))?i:null:-1!==(i=W.call(this._minWeekdaysParse,e))||-1!==(i=W.call(this._weekdaysParse,e))||-1!==(i=W.call(this._shortWeekdaysParse,e))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},k.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||ye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},k.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||ye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},k.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||ye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},k.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},k.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ke("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===h(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=e("moment.lang is deprecated. Use moment.locale instead.",ke),f.langData=e("moment.langData is deprecated. Use moment.localeData instead.",ve),Math.abs),St=rt("ms"),S=rt("s"),Ot=rt("m"),kt=rt("h"),Vt=rt("d"),Yt=rt("w"),vt=rt("M"),Nt=rt("y"),Rt=at("milliseconds"),Zt=at("seconds"),xt=at("minutes"),Dt=at("hours"),zt=at("days"),At=at("months"),k=at("years"),cn=Math.round,F={ss:44,s:45,m:45,h:22,d:26,M:11},fn=Math.abs,U=Fe.prototype;return U.isValid=function(){return this._isValid},U.abs=function(){var e=this._data;return this._milliseconds=C(this._milliseconds),this._days=C(this._days),this._months=C(this._months),e.milliseconds=C(e.milliseconds),e.seconds=C(e.seconds),e.minutes=C(e.minutes),e.hours=C(e.hours),e.months=C(e.months),e.years=C(e.years),this},U.add=function(e,t){return tt(this,e,t,1)},U.subtract=function(e,t){return tt(this,e,t,-1)},U.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=y(e))||"year"===e)return t=this._days+s/864e5,n=this._months+st(t),"month"===e?n:n/12;switch(t=this._days+Math.round(it(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},U.asMilliseconds=St,U.asSeconds=S,U.asMinutes=Ot,U.asHours=kt,U.asDays=Vt,U.asWeeks=Yt,U.asMonths=vt,U.asYears=Nt,U.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*h(this._months/12):NaN},U._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*nt(it(n)+t),n=t=0),s.milliseconds=e%1e3,e=d(e/1e3),s.seconds=e%60,e=d(e/60),s.minutes=e%60,e=d(e/60),s.hours=e%24,t+=d(e/24),n+=e=d(st(t)),t-=nt(it(e)),e=d(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},U.get=function(e){return e=y(e),this.isValid()?this[e+"s"]():NaN},U.milliseconds=Rt,U.seconds=Zt,U.minutes=xt,U.hours=Dt,U.days=zt,U.weeks=function(){return d(this.days()/7)},U.months=At,U.years=k,U.humanize=function(e){var t,n;return this.isValid()?(t=this.localeData(),n=ot(this,!e,t),e&&(n=t.pastFuture(+this,n)),t.postformat(n)):this.localeData().invalidDate()},U.toISOString=ut,U.toString=ut,U.toJSON=ut,U.locale=ze,U.localeData=$e,U.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ut),U.lang=It,s("X",0,0,"unix"),s("x",0,0,"valueOf"),i("x",bt),i("X",/[+-]?\d+(\.\d{1,3})?/),p("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),p("x",function(e,t,n){n._d=new Date(h(e))}),f.version="2.18.1",lt=w,f.fn=v,f.min=function(){return Ce("isBefore",[].slice.call(arguments,0))},f.max=function(){return Ce("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=l,f.unix=function(e){return w(1e3*e)},f.months=function(e,t){return Ke(e,t,"months")},f.isDate=G,f.locale=ke,f.invalid=j,f.duration=M,f.isMoment=a,f.weekdays=function(e,t,n){return et(e,t,n,"weekdays")},f.parseZone=function(){return w.apply(null,arguments).parseZone()},f.localeData=ve,f.isDuration=Ue,f.monthsShort=function(e,t){return Ke(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return et(e,t,n,"weekdaysMin")},f.defineLocale=De,f.updateLocale=function(e,t){var n;return null!=t?(n=Xt,(n=new q(t=$(n=null!=R[e]?R[e]._config:n,t))).parentLocale=R[e],R[e]=n,ke(e)):null!=R[e]&&(null!=R[e].parentLocale?R[e]=R[e].parentLocale:null!=R[e]&&delete R[e]),R[e]},f.locales=function(){return mt(R)},f.weekdaysShort=function(e,t,n){return et(e,t,n,"weekdaysShort")},f.normalizeUnits=y,f.relativeTimeRounding=function(e){return void 0===e?cn:"function"==typeof e&&(cn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==F[e]&&(void 0===t?F[e]:(F[e]=t,"s"===e&&(F.ss=t-1),!0))},f.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=v,f});
!function(t,a){var e,i;"function"==typeof define&&define.amd?define(["moment","jquery"],function(t,e){return e.fn||(e.fn={}),"function"!=typeof t&&t.hasOwnProperty("default")&&(t=t.default),a(t,e)}):"object"==typeof module&&module.exports?((e="undefined"!=typeof window?window.jQuery:void 0)||(e=require("jquery")).fn||(e.fn={}),i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=a(i,e)):t.daterangepicker=a(t.moment,t.jQuery)}(this,function(A,L){function i(t,e,a){var i,s,n,r,o;if(this.parentEl="body",this.element=L(t),this.startDate=A().startOf("day"),this.endDate=A().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=A().subtract(100,"year").format("YYYY"),this.maxYear=A().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:A.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:A.weekdaysMin(),monthNames:A.monthsShort(),firstDay:A.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof e&&null!==e||(e={}),"string"==typeof(e=L.extend(this.element.data(),e)).template||e.template instanceof L||(e.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=e.parentEl&&L(e.parentEl).length?L(e.parentEl):L(this.parentEl),this.container=L(e.template).appendTo(this.parentEl),"object"==typeof e.locale&&("string"==typeof e.locale.direction&&(this.locale.direction=e.locale.direction),"string"==typeof e.locale.format&&(this.locale.format=e.locale.format),"string"==typeof e.locale.separator&&(this.locale.separator=e.locale.separator),"object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel)&&((l=document.createElement("textarea")).innerHTML=e.locale.customRangeLabel,i=l.value,this.locale.customRangeLabel=i),this.container.addClass(this.locale.direction),"string"==typeof e.startDate&&(this.startDate=A(e.startDate,this.locale.format)),"string"==typeof e.endDate&&(this.endDate=A(e.endDate,this.locale.format)),"string"==typeof e.minDate&&(this.minDate=A(e.minDate,this.locale.format)),"string"==typeof e.maxDate&&(this.maxDate=A(e.maxDate,this.locale.format)),"object"==typeof e.startDate&&(this.startDate=A(e.startDate)),"object"==typeof e.endDate&&(this.endDate=A(e.endDate)),"object"==typeof e.minDate&&(this.minDate=A(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=A(e.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof e.applyButtonClasses&&(this.applyButtonClasses=e.applyButtonClasses),"string"==typeof e.applyClass&&(this.applyButtonClasses=e.applyClass),"string"==typeof e.cancelButtonClasses&&(this.cancelButtonClasses=e.cancelButtonClasses),"string"==typeof e.cancelClass&&(this.cancelButtonClasses=e.cancelClass),"object"==typeof e.maxSpan&&(this.maxSpan=e.maxSpan),"object"==typeof e.dateLimit&&(this.maxSpan=e.dateLimit),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"boolean"==typeof e.showISOWeekNumbers&&(this.showISOWeekNumbers=e.showISOWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses.join(" ")),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"number"==typeof e.minYear&&(this.minYear=e.minYear),"number"==typeof e.maxYear&&(this.maxYear=e.maxYear),"boolean"==typeof e.showCustomRangeLabel&&(this.showCustomRangeLabel=e.showCustomRangeLabel),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker)&&(this.endDate=this.startDate.clone()),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker24Hour&&(this.timePicker24Hour=e.timePicker24Hour),"boolean"==typeof e.autoApply&&(this.autoApply=e.autoApply),"boolean"==typeof e.autoUpdateInput&&(this.autoUpdateInput=e.autoUpdateInput),"boolean"==typeof e.linkedCalendars&&(this.linkedCalendars=e.linkedCalendars),"function"==typeof e.isInvalidDate&&(this.isInvalidDate=e.isInvalidDate),"function"==typeof e.isCustomDate&&(this.isCustomDate=e.isCustomDate),"boolean"==typeof e.alwaysShowCalendars&&(this.alwaysShowCalendars=e.alwaysShowCalendars),0!=this.locale.firstDay)for(var h=this.locale.firstDay;0<h;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),h--;if(void 0===e.startDate&&void 0===e.endDate&&L(this.element).is(":text")&&(o=s=null,2==(r=(t=L(this.element).val()).split(this.locale.separator)).length?(o=A(r[0],this.locale.format),s=A(r[1],this.locale.format)):this.singleDatePicker&&""!==t&&(o=A(t,this.locale.format),s=A(t,this.locale.format)),null!==o)&&null!==s&&(this.setStartDate(o),this.setEndDate(s)),"object"==typeof e.ranges){for(n in e.ranges){o="string"==typeof e.ranges[n][0]?A(e.ranges[n][0],this.locale.format):A(e.ranges[n][0]),s="string"==typeof e.ranges[n][1]?A(e.ranges[n][1],this.locale.format):A(e.ranges[n][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var l,c=this.maxDate;(c=this.maxSpan&&c&&o.clone().add(this.maxSpan).isAfter(c)?o.clone().add(this.maxSpan):c)&&s.isAfter(c)&&(s=c.clone()),this.minDate&&s.isBefore(this.minDate,this.timepicker?"minute":"day")||c&&o.isAfter(c,this.timepicker?"minute":"day")||((l=document.createElement("textarea")).innerHTML=n,i=l.value,this.ranges[i]=[o,s])}var d="<ul>";for(n in this.ranges)d+='<li data-range-key="'+n+'">'+n+"</li>";this.showCustomRangeLabel&&(d+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),d+="</ul>",this.container.find(".ranges").prepend(d)}"function"==typeof a&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof e.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker)&&this.autoApply&&this.container.addClass("auto-apply"),(void 0===e.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",L.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",L.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",L.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",L.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",L.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",L.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",L.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",L.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",L.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",L.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":L.proxy(this.show,this),"focus.daterangepicker":L.proxy(this.show,this),"keyup.daterangepicker":L.proxy(this.elementChanged,this),"keydown.daterangepicker":L.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",L.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",L.proxy(this.toggle,this))),this.updateElement()}return i.prototype={constructor:i,setStartDate:function(t){"string"==typeof t&&(this.startDate=A(t,this.locale.format)),"object"==typeof t&&(this.startDate=A(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker)&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker)&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=A(t,this.locale.format)),"object"==typeof t&&(this.endDate=A(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var t,e,a,i;this.timePicker&&(this.endDate?(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))):(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),a=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0))),this.leftCalendar.month.hour(t).minute(e).second(a),this.rightCalendar.month.hour(t).minute(e).second(a)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(t){var e,a=(e="left"==t?this.leftCalendar:this.rightCalendar).month.month(),i=e.month.year(),s=e.month.hour(),n=e.month.minute(),r=e.month.second(),o=A([i,a]).daysInMonth(),h=A([i,a,1]),i=A([i,a,o]),a=A(h).subtract(1,"month").month(),o=A(h).subtract(1,"month").year(),l=A([o,a]).daysInMonth(),c=h.day();(e=[]).firstDay=h,e.lastDay=i;for(var d=0;d<6;d++)e[d]=[];h=l-c+this.locale.firstDay+1;l<h&&(h-=7),c==this.locale.firstDay&&(h=l-6);for(var m=A([o,a,h,12,n,r]),p=d=0,f=0;d<42;d++,p++,m=A(m).add(24,"hour"))0<d&&p%7==0&&(p=0,f++),e[f][p]=m.clone().hour(s).minute(n).second(r),m.hour(12),this.minDate&&e[f][p].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[f][p].isBefore(this.minDate)&&"left"==t&&(e[f][p]=this.minDate.clone()),this.maxDate&&e[f][p].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[f][p].isAfter(this.maxDate)&&"right"==t&&(e[f][p]=this.maxDate.clone());"left"==t?this.leftCalendar.calendar=e:this.rightCalendar.calendar=e;var u="left"==t?this.minDate:this.startDate,D=this.maxDate,g=("left"==t?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">'),i=(g=g+"<thead>"+"<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(g+="<th></th>"),u&&!u.isBefore(e.firstDay)||this.linkedCalendars&&"left"!=t?g+="<th></th>":g+='<th class="prev available"><span></span></th>',this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY"));if(this.showDropdowns){for(var y=e[1][1].month(),k=e[1][1].year(),b=D&&D.year()||this.maxYear,c=u&&u.year()||this.minYear,C=k==c,v=k==b,Y='<select class="monthselect">',w=0;w<12;w++)(!C||u&&w>=u.month())&&(!v||D&&w<=D.month())?Y+="<option value='"+w+"'"+(w===y?" selected='selected'":"")+">"+this.locale.monthNames[w]+"</option>":Y+="<option value='"+w+"'"+(w===y?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[w]+"</option>";Y+="</select>";for(var P='<select class="yearselect">',x=c;x<=b;x++)P+='<option value="'+x+'"'+(x===k?' selected="selected"':"")+">"+x+"</option>";i=Y+(P+="</select>")}for(g+='<th colspan="5" class="month">'+i+"</th>",D&&!D.isAfter(e.lastDay)||this.linkedCalendars&&"right"!=t&&!this.singleDatePicker?g+="<th></th>":g+='<th class="next available"><span></span></th>',g+="</tr><tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(g+='<th class="week">'+this.locale.weekLabel+"</th>"),L.each(this.locale.daysOfWeek,function(t,e){g+="<th>"+e+"</th>"}),g+="</tr></thead><tbody>",null==this.endDate&&this.maxSpan&&(l=this.startDate.clone().add(this.maxSpan).endOf("day"),D&&!l.isBefore(D)||(D=l)),f=0;f<6;f++){for(g+="<tr>",this.showWeekNumbers?g+='<td class="week">'+e[f][0].week()+"</td>":this.showISOWeekNumbers&&(g+='<td class="week">'+e[f][0].isoWeek()+"</td>"),p=0;p<7;p++){for(var M=[],I=(e[f][p].isSame(new Date,"day")&&M.push("today"),5<e[f][p].isoWeekday()&&M.push("weekend"),e[f][p].month()!=e[1][1].month()&&M.push("off","ends"),this.minDate&&e[f][p].isBefore(this.minDate,"day")&&M.push("off","disabled"),D&&e[f][p].isAfter(D,"day")&&M.push("off","disabled"),this.isInvalidDate(e[f][p])&&M.push("off","disabled"),e[f][p].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&M.push("active","start-date"),null!=this.endDate&&e[f][p].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&M.push("active","end-date"),null!=this.endDate&&e[f][p]>this.startDate&&e[f][p]<this.endDate&&M.push("in-range"),this.isCustomDate(e[f][p])),S=(!1!==I&&("string"==typeof I?M.push(I):Array.prototype.push.apply(M,I)),""),B=!1,d=0;d<M.length;d++)S+=M[d]+" ","disabled"==M[d]&&(B=!0);B||(S+="available"),g+='<td class="'+S.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+p+'">'+e[f][p].date()+"</td>"}g+="</tr>"}g+="</tbody></table>",this.container.find(".drp-calendar."+t+" .calendar-table").html(g)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,a,i=this.maxDate;!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(i=this.startDate.clone().add(this.maxSpan)),"left"==t?(e=this.startDate.clone(),a=this.minDate):"right"==t&&(e=this.endDate.clone(),a=this.startDate,""==(r=this.container.find(".drp-calendar.right .calendar-time")).html()||(e.hour(isNaN(e.hour())?r.find(".hourselect option:selected").val():e.hour()),e.minute(isNaN(e.minute())?r.find(".minuteselect option:selected").val():e.minute()),e.second(isNaN(e.second())?r.find(".secondselect option:selected").val():e.second()),this.timePicker24Hour)||("PM"===(r=r.find(".ampmselect option:selected").val())&&e.hour()<12&&e.hour(e.hour()+12),"AM"===r&&12===e.hour()&&e.hour(0)),e.isBefore(this.startDate)&&(e=this.startDate.clone()),i)&&e.isAfter(i)&&(e=i.clone());for(var s,n='<select class="hourselect">',r=this.timePicker24Hour?0:1,o=this.timePicker24Hour?23:12,h=r;h<=o;h++){var l=h,c=(this.timePicker24Hour||(l=12<=e.hour()?12==h?12:h+12:12==h?0:h),e.clone().hour(l)),d=!1;a&&c.minute(59).isBefore(a)&&(d=!0),i&&c.minute(0).isAfter(i)&&(d=!0),l!=e.hour()||d?n+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":n+='<option value="'+h+'" selected="selected">'+h+"</option>"}for(n=n+"</select> "+': <select class="minuteselect">',h=0;h<60;h+=this.timePickerIncrement){var m=h<10?"0"+h:h,c=e.clone().minute(h),d=!1;a&&c.second(59).isBefore(a)&&(d=!0),i&&c.second(0).isAfter(i)&&(d=!0),e.minute()!=h||d?n+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+h+'">'+m+"</option>":n+='<option value="'+h+'" selected="selected">'+m+"</option>"}if(n+="</select> ",this.timePickerSeconds){for(n+=': <select class="secondselect">',h=0;h<60;h++)m=h<10?"0"+h:h,c=e.clone().second(h),d=!1,a&&c.isBefore(a)&&(d=!0),i&&c.isAfter(i)&&(d=!0),e.second()!=h||d?n+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+m+"</option>":'<option value="'+h+'">'+m+"</option>":n+='<option value="'+h+'" selected="selected">'+m+"</option>";n+="</select> "}this.timePicker24Hour||(n+='<select class="ampmselect">',s=r="",a&&e.clone().hour(12).minute(0).second(0).isBefore(a)&&(r=' disabled="disabled" class="disabled"'),i&&e.clone().hour(0).minute(0).second(0).isAfter(i)&&(s=' disabled="disabled" class="disabled"'),12<=e.hour()?n+='<option value="AM"'+r+'>AM</option><option value="PM" selected="selected"'+s+">PM</option>":n+='<option value="AM" selected="selected"'+r+'>AM</option><option value="PM"'+s+">PM</option>",n+="</select>"),this.container.find(".drp-calendar."+t+" .calendar-time").html(n)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,e={top:0,left:0},a=this.drops,i=L(window).width();switch(this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),a){case"auto":(t=this.element.offset().top+this.element.outerHeight()-e.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(t=this.element.offset().top-this.container.outerHeight()-e.top,a="up");break;case"up":t=this.element.offset().top-this.container.outerHeight()-e.top;break;default:t=this.element.offset().top+this.element.outerHeight()-e.top}this.container.css({top:0,left:0,right:"auto"});var s,n=this.container.outerWidth();this.container.toggleClass("drop-up","up"==a),"left"==this.opens?n+(i=i-this.element.offset().left-this.element.outerWidth())>L(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:i,left:"auto"}):"center"==this.opens?(s=this.element.offset().left-e.left+this.element.outerWidth()/2-n/2)<0?this.container.css({top:t,right:"auto",left:9}):s+n>L(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"}):(s=this.element.offset().left-e.left)+n>L(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"})},show:function(t){this.isShowing||(this._outsideClickProxy=L.proxy(function(t){this.outsideClick(t)},this),L(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),L(window).on("resize.daterangepicker",L.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),L(document).off(".daterangepicker"),L(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var e=L(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var t=t.target.getAttribute("data-range-key");(this.chosenLabel=t)==this.locale.customRangeLabel?this.showCalendars():(t=this.ranges[t],this.startDate=t[0],this.endDate=t[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(t){L(t.target).parents(".drp-calendar").hasClass("left")&&(this.leftCalendar.month.subtract(1,"month"),!this.linkedCalendars)||this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){(L(t.target).parents(".drp-calendar").hasClass("left")||(this.rightCalendar.month.add(1,"month"),this.linkedCalendars))&&this.leftCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e,a,s,n,r,o;L(t.target).hasClass("available")&&(e=(a=L(t.target).attr("data-title")).substr(1,1),a=a.substr(3,1),s=(L(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).calendar[e][a],n=this.leftCalendar,r=this.rightCalendar,o=this.startDate,this.endDate||this.container.find(".drp-calendar tbody td").each(function(t,e){var a,i;L(e).hasClass("week")||(i=(a=L(e).attr("data-title")).substr(1,1),a=a.substr(3,1),(i=(L(e).parents(".drp-calendar").hasClass("left")?n:r).calendar[i][a]).isAfter(o)&&i.isBefore(s)||i.isSame(s,"day")?L(e).addClass("in-range"):L(e).removeClass("in-range"))}))},clickDate:function(t){var e,a,i,s,n,r;L(t.target).hasClass("available")&&(s=(e=L(t.target).attr("data-title")).substr(1,1),e=e.substr(3,1),s=(L(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar:this.rightCalendar).calendar[s][e],this.endDate||s.isBefore(this.startDate,"day")?(this.timePicker&&(r=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(n=this.container.find(".left .ampmselect").val())&&r<12&&(r+=12),"AM"===n&&12===r&&(r=0)),a=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,s=s.clone().hour(r).minute(a).second(i)),this.endDate=null,this.setStartDate(s.clone())):!this.endDate&&s.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(r=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(n=this.container.find(".right .ampmselect").val())&&r<12&&(r+=12),"AM"===n&&12===r&&(r=0)),a=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(a)&&(a=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,s=s.clone().hour(r).minute(a).second(i)),this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker)&&this.autoApply&&this.clickApply(),this.updateView(),t.stopPropagation())},calculateChosenLabel:function(){var t,e=!0,a=0;for(t in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[t][0].format(i)&&this.endDate.format(i)==this.ranges[t][1].format(i)){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+a+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[t][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[t][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+a+")").addClass("active").attr("data-range-key");break}a++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var t=L(t.target).closest(".drp-calendar").hasClass("left"),e=this.container.find(".drp-calendar."+(t?"left":"right")),a=parseInt(e.find(".monthselect").val(),10),e=e.find(".yearselect").val();t||(e<this.startDate.year()||e==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),e=this.startDate.year()),this.minDate&&(e<this.minDate.year()||e==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),e=this.minDate.year()),this.maxDate&&(e>this.maxDate.year()||e==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),e=this.maxDate.year()),t?(this.leftCalendar.month.month(a).year(e),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(e),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var t=L(t.target).closest(".drp-calendar"),e=t.hasClass("left"),a=parseInt(t.find(".hourselect").val(),10),i=parseInt(t.find(".minuteselect").val(),10),s=(isNaN(i)&&(i=parseInt(t.find(".minuteselect option:last").val(),10)),this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0);this.timePicker24Hour||("PM"===(t=t.find(".ampmselect").val())&&a<12&&(a+=12),"AM"===t&&12===a&&(a=0)),e?((t=this.startDate.clone()).hour(a),t.minute(i),t.second(s),this.setStartDate(t),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==t.format("YYYY-MM-DD")&&this.endDate.isBefore(t)&&this.setEndDate(t.clone())):this.endDate&&((e=this.endDate.clone()).hour(a),e.minute(i),e.second(s),this.setEndDate(e)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){var t,e,a;this.element.is("input")&&this.element.val().length&&(a=e=null,2===(t=this.element.val().split(this.locale.separator)).length&&(e=A(t[0],this.locale.format),a=A(t[1],this.locale.format)),!this.singleDatePicker&&null!==e&&null!==a||(a=e=A(this.element.val(),this.locale.format)),e.isValid())&&a.isValid()&&(this.setStartDate(e),this.setEndDate(a),this.updateView())},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){var t;this.element.is("input")&&this.autoUpdateInput&&(t=this.startDate.format(this.locale.format),this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val())&&this.element.val(t).trigger("change")},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},L.fn.daterangepicker=function(t,e){var a=L.extend(!0,{},L.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=L(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,a,e))}),this},i});
var FullCalendar=function(e){"use strict";var W,R,D,B,j,z={},L=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function G(e,t){for(var n in t)e[n]=t[n];return e}function F(e){var t=e.parentNode;t&&t.removeChild(e)}function S(e,t,n){var r,i,s,o={};for(s in t)"key"==s?r=t[s]:"ref"==s?i=t[s]:o[s]=t[s];if(2<arguments.length&&(o.children=3<arguments.length?W.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===o[s]&&(o[s]=e.defaultProps[s]);return V(e,o,r,i,null)}function V(e,t,n,r,i){e={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++D:i};return null==i&&null!=R.vnode&&R.vnode(e),e}function A(e){return e.children}function q(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||U.test(t)?n:n+"px"}function Y(e,t,n,r,i){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||q(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||q(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=(t.toLowerCase()in e?t.toLowerCase():t).slice(2),e.l||(e.l={}),(e.l[t+s]=n)?r||e.addEventListener(t,s?Z:Q,s):e.removeEventListener(t,s?Z:Q,s);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"!=typeof n&&(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function Q(e){B=!0;try{return this.l[e.type+!1](R.event?R.event(e):e)}finally{B=!1}}function Z(e){B=!0;try{return this.l[e.type+!0](R.event?R.event(e):e)}finally{B=!1}}function x(e,t){this.props=e,this.context=t}function X(e,t){if(null==t)return e.__?X(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?X(e):null}function J(e){(B?setTimeout:ue)(e)}function K(e){(e.__d||(e.__d=!0,!de.push(e))||$.__r++)&&j===R.debounceRendering||((j=R.debounceRendering)||J)($)}function $(){var e,t,n,r,i,s,o;for(de.sort(function(e,t){return e.__v.__b-t.__v.__b});t=de.shift();)t.__d&&(e=de.length,r=void 0,s=(i=(t=t).__v).__e,(o=t.__P)&&(n=[],(r=G({},i)).__v=i.__v+1,re(o,i,r,t.__n,void 0!==o.ownerSVGElement,null!=i.__h?[s]:null,n,null==s?X(i):s,i.__h),ie(n,i),i.__e!=s)&&function e(t){var n,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,n=0;n<t.__k.length;n++)if(null!=(r=t.__k[n])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return e(t)}}(i),de.length>e)&&de.sort(function(e,t){return e.__v.__b-t.__v.__b});$.__r=0}function ee(e,t,n,r,i,s,o,a,l,c){var d,u,h,f,p,g,m,v=r&&r.__k||L,y=v.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(f=n.__k[d]=null==(f=t[d])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?V(null,f,null,null,f):Array.isArray(f)?V(A,{children:f},null,null,null):0<f.__b?V(f.type,f.props,f.key,f.ref||null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(h=v[d])||h&&f.key==h.key&&f.type===h.type)v[d]=void 0;else for(u=0;u<y;u++){if((h=v[u])&&f.key==h.key&&f.type===h.type){v[u]=void 0;break}h=null}re(e,f,h=h||z,i,s,o,a,l,c),p=f.__e,(u=f.ref)&&h.ref!=u&&(m=m||[],h.ref&&m.push(h.ref,null,f),m.push(u,f.__c||p,f)),null!=p?(null==g&&(g=p),"function"==typeof f.type&&f.__k===h.__k?f.__d=l=function e(t,n,r){for(var i,s=t.__k,o=0;s&&o<s.length;o++)(i=s[o])&&(i.__=t,n="function"==typeof i.type?e(i,n,r):ne(r,i,i,s,i.__e,n));return n}(f,l,e):l=ne(e,f,h,v,p,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=X(h))}for(n.__e=g,d=y;d--;)null!=v[d]&&("function"==typeof n.type&&null!=v[d].__e&&v[d].__e==n.__d&&(n.__d=function e(t){var n,r;if(null==t.type||"string"==typeof t.type)return t.__e;if(t.__k)for(n=t.__k.length-1;0<=n;n--)if((r=t.__k[n])&&(r=e(r)))return r;return null}(r).nextSibling),function e(t,n,r){var i,s;if(R.unmount&&R.unmount(t),!(i=t.ref)||i.current&&i.current!==t.__e||se(i,null,n),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){R.__e(t,n)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&e(i[s],n,r||"function"!=typeof t.type);r||null==t.__e||F(t.__e),t.__=t.__e=t.__d=void 0}(v[d],v[d]));if(m)for(d=0;d<m.length;d++)se(m[d],m[++d],m[++d])}function te(e,t){return t=t||[],null!=e&&"boolean"!=typeof e&&(Array.isArray(e)?e.some(function(e){te(e,t)}):t.push(e)),t}function ne(e,t,n,r,i,s){var o,a,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==n||i!=s||null==i.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;e.insertBefore(i,s),o=s}return void 0!==o?o:i.nextSibling}function re(e,t,n,r,i,s,o,a,l){var c,d,u,h,f,p,g,m,v,y,b,S,E,C,D,w=t.type;if(void 0===t.constructor){null!=n.__h&&(l=n.__h,a=t.__e=n.__e,t.__h=null,s=[a]),(c=R.__b)&&c(t);try{e:if("function"==typeof w){if(m=t.props,v=(c=w.contextType)&&r[c.__c],y=c?v?v.props.value:c.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in w&&w.prototype.render?t.__c=d=new w(m,y):(t.__c=d=new x(m,y),d.constructor=w,d.render=oe),v&&v.sub(d),d.props=m,d.state||(d.state={}),d.context=y,d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=w.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=G({},d.__s)),G(d.__s,w.getDerivedStateFromProps(m,d.__s))),h=d.props,f=d.state,d.__v=t,u)null==w.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==w.getDerivedStateFromProps&&m!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(m,y),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(m,d.__s,y)||t.__v===n.__v){for(t.__v!==n.__v&&(d.props=m,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(m,d.__s,y),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,p)})}if(d.context=y,d.props=m,d.__P=e,S=R.__r,E=0,"prototype"in w&&w.prototype.render){for(d.state=d.__s,d.__d=!1,S&&S(t),c=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else for(;d.__d=!1,S&&S(t),c=d.render(d.props,d.state,d.context),d.state=d.__s,d.__d&&++E<25;);d.state=d.__s,null!=d.getChildContext&&(r=G(G({},r),d.getChildContext())),u||null==d.getSnapshotBeforeUpdate||(p=d.getSnapshotBeforeUpdate(h,f)),D=null!=c&&c.type===A&&null==c.key?c.props.children:c,ee(e,Array.isArray(D)?D:[D],t,n,r,i,s,o,a,l),d.base=t.__e,t.__h=null,d.__h.length&&o.push(d),g&&(d.__E=d.__=null),d.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,s,o,a){var l,c,d,u=n.props,h=t.props,f=t.type,p=0;if("svg"===f&&(i=!0),null!=s)for(;p<s.length;p++)if((l=s[p])&&"setAttribute"in l==!!f&&(f?l.localName===f:3===l.nodeType)){e=l,s[p]=null;break}if(null==e){if(null===f)return document.createTextNode(h);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,h.is&&h),s=null,a=!1}if(null===f)u===h||a&&e.data===h||(e.data=h);else{if(s=s&&W.call(e.childNodes),c=(u=n.props||z).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!a){if(null!=s)for(u={},p=0;p<e.attributes.length;p++)u[e.attributes[p].name]=e.attributes[p].value;!d&&!c||d&&(c&&d.__html==c.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||"")}if(function(e,t,n,r,i){for(var s in n)"children"===s||"key"===s||s in t||Y(e,s,null,n[s],r);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||Y(e,s,t[s],n[s],r)}(e,h,u,i,a),d)t.__k=[];else if(p=t.props.children,ee(e,Array.isArray(p)?p:[p],t,n,r,i&&"foreignObject"!==f,s,o,s?s[0]:n.__k&&X(n,0),a),null!=s)for(p=s.length;p--;)null!=s[p]&&F(s[p]);a||("value"in h&&void 0!==(p=h.value)&&(p!==e.value||"progress"===f&&!p||"option"===f&&p!==u.value)&&Y(e,"value",p,u.value,!1),"checked"in h&&void 0!==(p=h.checked)&&p!==e.checked&&Y(e,"checked",p,u.checked,!1))}return e}(n.__e,t,n,r,i,s,o,l);(c=R.diffed)&&c(t)}catch(e){t.__v=null,!l&&null==s||(t.__e=a,t.__h=!!l,s[s.indexOf(a)]=null),R.__e(e,t,n)}}}function ie(e,t){R.__c&&R.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){R.__e(e,t.__v)}})}function se(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){R.__e(e,n)}}function oe(e,t,n){return this.constructor(e,n)}function ae(e,t,n){var r,i,s;R.__&&R.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,s=[],re(t,e=(!r&&n||t).__k=S(A,null,[e]),i||z,z,void 0!==t.ownerSVGElement,!r&&n?[n]:!i&&t.firstChild?W.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r),ie(s,e)}W=L.slice,D=0,B=!(R={__e:function(e,t,n,r){for(var i,s,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&null!=s.getDerivedStateFromError&&(i.setState(s.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}}),x.prototype.setState=function(e,t){var n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=G({},this.state);(e="function"==typeof e?e(G({},n),this.props):e)&&G(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),K(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),K(this))},x.prototype.render=A;var r,le,ce,de=[],ue="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,he=$.__r=0,fe=[],pe=[],ge=R.__b,me=R.__r,ve=R.diffed,ye=R.__c,be=R.unmount;function Se(){for(var t;t=fe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ce),t.__H.__h.forEach(De),t.__H.__h=[]}catch(e){t.__H.__h=[],R.__e(e,t.__v)}}R.__b=function(e){r=null,ge&&ge(e)},R.__r=function(e){me&&me(e);e=(r=e.__c).__H;e&&(le===r?(e.__h=[],r.__h=[],e.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=pe,e.__N=e.i=void 0})):(e.__h.forEach(Ce),e.__h.forEach(De),e.__h=[])),le=r},R.diffed=function(e){ve&&ve(e);e=e.__c;e&&e.__H&&(!e.__H.__h.length||1!==fe.push(e)&&ce===R.requestAnimationFrame||((ce=R.requestAnimationFrame)||function(e){function t(){clearTimeout(r),Ee&&cancelAnimationFrame(n),setTimeout(e)}var n,r=setTimeout(t,100);Ee&&(n=requestAnimationFrame(t))})(Se),e.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==pe&&(e.__=e.__V),e.i=void 0,e.__V=pe})),le=r=null},R.__c=function(e,n){n.some(function(t){try{t.__h.forEach(Ce),t.__h=t.__h.filter(function(e){return!e.__||De(e)})}catch(e){n.some(function(e){e.__h&&(e.__h=[])}),n=[],R.__e(e,t.__v)}}),ye&&ye(e,n)},R.unmount=function(e){be&&be(e);var t,e=e.__c;e&&e.__H&&(e.__H.__.forEach(function(e){try{Ce(e)}catch(e){t=e}}),e.__H=void 0,t)&&R.__e(t,e.__v)};var Ee="function"==typeof requestAnimationFrame;function Ce(e){var t=r,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),r=t}function De(e){var t=r;e.__c=e.__(),r=t}(new x).isPureReactComponent=!0;var we=R.__b,Re=(R.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),we&&we(e)},R.__e),Ae=(R.__e=function(e,t,n,r){if(e.then)for(var i,s=t;s=s.__;)if((i=s.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);Re(e,t,n,r)},R.unmount);function xe(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}R.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),Ae&&Ae(e)},(new x).__c=function(e,t){function n(){o||(o=!0,r.__R=null,s?s(a):a())}var r=t.__c,i=this,s=(null==i.t&&(i.t=[]),i.t.push(r),xe(i.__v)),o=!1,a=(r.__R=n,function(){var e,t;if(!--i.__u)for(i.state.__a&&(e=i.state.__a,i.__v.__k[0]=function t(e,n,r){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return t(e,n,r)}),e.__c)&&e.__c.__P===n&&(e.__e&&r.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=r),e}(e,e.__c.__P,e.__c.__O)),i.setState({__a:i.__b=null});t=i.t.pop();)t.forceUpdate()}),t=!0===t.__h;i.__u++||t||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(n,n)};function Te(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;3<n.length;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}}function ke(e){return this.getChildContext=function(){return e.context},e.children}function Me(e){var n=this,t=e.i;n.componentWillUnmount=function(){ae(null,n.l),n.l=null,n.i=null},n.i&&n.i!==t&&n.componentWillUnmount(),e.__v?(n.l||(n.i=t,n.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(e){this.childNodes.push(e),n.i.appendChild(e)},insertBefore:function(e,t){this.childNodes.push(e),n.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),n.i.removeChild(e)}}),ae(S(ke,{context:n.context},e.__v),n.l)):n.l&&n.componentWillUnmount()}(new x).__a=function(n){var r=this,i=xe(r.__v),s=r.o.get(n);return s[0]++,function(e){function t(){r.props.revealOrder?(s.push(e),Te(r,n,s)):e()}i?i(t):t()}};var _e="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Oe="undefined"!=typeof document,Ne=(x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(x.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}),R.event);function Pe(){}function He(){return this.cancelBubble}function We(){return this.defaultPrevented}R.event=function(e){return(e=Ne?Ne(e):e).persist=Pe,e.isPropagationStopped=He,e.isDefaultPrevented=We,e.nativeEvent=e};var Be={configurable:!0,get:function(){return this.class}},je=R.vnode,ze=(R.vnode=function(e){var t,n=e.type,r=e.props,i=r;if("string"==typeof n){var s,o=-1===n.indexOf("-"),i={};for(s in r){var a=r[s];Oe&&"children"===s&&"noscript"===n||"value"===s&&"defaultValue"in r&&null==a||("defaultValue"===s&&"value"in r&&null==r.value?s="value":"download"===s&&!0===a?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+n)&&(t=r.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t))?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():o&&Ie.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),i[s])&&(s="oninputCapture"),i[s]=a)}"select"==n&&i.multiple&&Array.isArray(i.value)&&(i.value=te(r.children).forEach(function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)})),"select"==n&&null!=i.defaultValue&&(i.value=te(r.children).forEach(function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value})),e.props=i,r.class!=r.className&&(Be.enumerable="className"in r,null!=r.className&&(i.class=r.className),Object.defineProperty(i,"className",Be))}e.$$typeof=_e,je&&je(e)},R.__r);R.__r=function(e){ze&&ze(e),e.__c};const Le=[],Ue=new Map;function Ge(t){Le.push(t),Ue.forEach(e=>{Ve(e,t)})}function Fe(e){let t=Ue.get(e);if(!t||!t.isConnected){(t=e.querySelector("style[data-fullcalendar]"))||((t=document.createElement("style")).setAttribute("data-fullcalendar",""),(s=qe=void 0===qe?(s=document.querySelector('meta[name="csp-nonce"]'))&&s.hasAttribute("content")?s.getAttribute("content"):(s=document.querySelector("script[nonce]"))&&s.nonce||"":qe)&&(t.nonce=s),n=e===document?document.head:e,r=e===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild,n.insertBefore(t,r)),Ue.set(e,t);var n,r,i=t;for(const o of Le)Ve(i,o)}var s}function Ve(e,t){const n=e["sheet"],r=n.cssRules.length;t.split("}").forEach((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)})}let qe;function Ye(e){e.parentNode&&e.parentNode.removeChild(e)}function l(e,t){if(e.closest)return e.closest(t);if(document.documentElement.contains(e))do{if(Qe(e,t))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType);return null}function Qe(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function Ze(e,t){var n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){var i=n[e].querySelectorAll(t);for(let e=0;e<i.length;e+=1)r.push(i[e])}return r}function Xe(e,t){var n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){var i=n[e].children;for(let e=0;e<i.length;e+=1){var s=i[e];t&&!Qe(s,t)||r.push(s)}}return r}"undefined"!=typeof document&&Fe(document),Ge(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const Je=/(top|left|right|bottom|width|height)$/i;function Ke(e,t){for(var n in t)$e(e,n,t[n])}function $e(e,t,n){null==n?e.style[t]="":"number"==typeof n&&Je.test(t)?e.style[t]=n+"px":e.style[t]=n}function et(e){var t;return null!=(t=null==(t=e.composedPath)?void 0:t.call(e)[0])?t:e.target}let tt=0;function t(){return"fc-dom-"+(tt+=1)}function nt(e){e.preventDefault()}function rt(e,t,n,r){s=n,o=r;let i=e=>{var t=l(e.target,s);t&&o.call(t,e,t)};var s,o;return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}const it=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function st(t,n){let r=e=>{n(e),it.forEach(e=>{t.removeEventListener(e,r)})};it.forEach(e=>{t.addEventListener(e,r)})}function ot(e){return Object.assign({onClick:e},at(e))}function at(t){return{tabIndex:0,onKeyDown(e){"Enter"!==e.key&&" "!==e.key||(t(e),e.preventDefault())}}}let lt=0;function c(){return lt+=1,String(lt)}function ct(){document.body.classList.add("fc-not-allowed")}function dt(){document.body.classList.remove("fc-not-allowed")}function ut(e){e.style.userSelect="none",e.addEventListener("selectstart",nt)}function ht(e){e.style.userSelect="",e.removeEventListener("selectstart",nt)}function ft(e){e.addEventListener("contextmenu",nt)}function pt(e){e.removeEventListener("contextmenu",nt)}function gt(e){let t,n,r=[],i=[];for("string"==typeof e?i=e.split(/\s*,\s*/):"function"==typeof e?i=[e]:Array.isArray(e)&&(i=e),t=0;t<i.length;t+=1)"string"==typeof(n=i[t])?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r}function mt(e,t,n){let r,i;for(r=0;r<n.length;r+=1)if(s=e,o=t,i=(a=n[r]).func?a.func(s,o):vt(s[a.field],o[a.field])*(a.order||1))return i;var s,o,a;return 0}function vt(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function T(e,t){e=String(e);return"000".substr(0,t-e.length)+e}function yt(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce((e,t,n)=>e.replace("$"+n,t||""),e):n}function bt(e,t){return e-t}function St(e){return e%1==0}const Et=["years","months","days","milliseconds"],Ct=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function k(e,t){return"string"==typeof e?(n=e,(n=Ct.exec(n))?{years:0,months:0,days:(r=n[1]?-1:1)*(n[2]?parseInt(n[2],10):0),milliseconds:r*(60*(n[3]?parseInt(n[3],10):0)*60*1e3+60*(n[4]?parseInt(n[4],10):0)*1e3+1e3*(n[5]?parseInt(n[5],10):0)+(n[6]?parseInt(n[6],10):0))}:null):"object"==typeof e&&e?Dt(e):"number"==typeof e?Dt({[t||"milliseconds"]:e}):null;var n,r}function Dt(e){var t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},e=e.weeks||e.week;return e&&(t.days+=7*e,t.specifiedWeeks=!0),t}function wt(e){return e.years||e.months||e.milliseconds?0:e.days}function Rt(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function At(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function xt(e){return M(e)/864e5}function Tt(e){return M(e)/6e4}function kt(e){return M(e)/1e3}function M(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Mt(t,n){let r=null;for(let e=0;e<Et.length;e+=1){var i=Et[e];if(n[i]){var s=t[i]/n[i];if(!St(s)||null!==r&&r!==s)return null;r=s}else if(t[i])return null}return r}function _t(e){var t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}const It=Object.prototype["hasOwnProperty"];function Ot(t,e){var n={};if(e)for(var r in e)if(e[r]===Tn){var i=[];for(let e=t.length-1;0<=e;--e){var s=t[e][r];if("object"==typeof s&&s)i.unshift(s);else if(void 0!==s){n[r]=s;break}}i.length&&(n[r]=Ot(i))}for(let e=t.length-1;0<=e;--e){var o,a=t[e];for(o in a)o in n||(n[o]=a[o])}return n}function _(e,t){var n,r={};for(n in e)t(e[n],n)&&(r[n]=e[n]);return r}function I(e,t){var n,r={};for(n in e)r[n]=t(e[n],n);return r}function Nt(e){var t,n={};for(t of e)n[t]=!0;return n}function Pt(e){var t,n=[];for(t in e)n.push(e[t]);return n}function g(e,t){if(e!==t){for(var n in e)if(It.call(e,n)&&!(n in t))return!1;for(var r in t)if(It.call(t,r)&&e[r]!==t[r])return!1}return!0}const Ht=/^on[A-Z]/;function Wt(e,t){var n,r,i=[];for(n in e)!It.call(e,n)||n in t||i.push(n);for(r in t)It.call(t,r)&&e[r]!==t[r]&&i.push(r);return i}function Bt(e,t,n={}){if(e!==t){for(var r in t)if(!(r in e&&(i=e[r],s=t[r],r=n[r],i===s||!0===r||r&&r(i,s))))return!1;var i,s,o;for(o in e)if(!(o in t))return!1}return!0}function jt(t,n=0,r,i=1){var s=[];null==r&&(r=Object.keys(t).length);for(let e=n;e<r;e+=i){var o=t[e];void 0!==o&&s.push(o)}return s}function zt(e,t){let n=0,r=0;for(;r<e.length;)e[r]===t?(e.splice(r,1),n+=1):r+=1;return n}function d(n,r,i){if(n!==r){let e,t=n.length;if(t!==r.length)return!1;for(e=0;e<t;e+=1)if(!(i?i(n[e],r[e]):n[e]===r[e]))return!1}return!0}const Lt=["sun","mon","tue","wed","thu","fri","sat"];function Ut(e,t){e=Kt(e);return e[2]+=7*t,i(e)}function O(e,t){e=Kt(e);return e[2]+=t,i(e)}function Gt(e,t){e=Kt(e);return e[6]+=t,i(e)}function Ft(e,t){return Vt(e,t)/7}function Vt(e,t){return(t.valueOf()-e.valueOf())/864e5}function qt(e,t){var n=v(e),r=v(t);return{years:0,months:0,days:Math.round(Vt(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function Yt(e,t){e=Qt(e,t);return null!==e&&e%7==0?e/7:null}function Qt(e,t){return en(e)===en(t)?Math.round(Vt(e,t)):null}function v(e){return i([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function Zt(e,t,n,r){t=i([t,0,1+function(e,t,n){n=7+t-n;return-(7+i([e,0,n]).getUTCDay()-t)%7+n-1}(t,n,r)]),n=v(e),r=Math.round(Vt(t,n));return Math.floor(r/7)+1}function Xt(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function Jt(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function Kt(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function i(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function $t(e){return!isNaN(e.valueOf())}function en(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function tn(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),10<(r=n?r.replace("T00:00:00Z",""):r).length&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",on(t,!0)))),r}function nn(e){return e.toISOString().replace(/T.*$/,"")}function rn(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function sn(e){return T(e.getUTCHours(),2)+":"+T(e.getUTCMinutes(),2)+":"+T(e.getUTCSeconds(),2)}function on(e,t=!1){var n=e<0?"-":"+",e=Math.abs(e),r=Math.floor(e/60),e=Math.round(e%60);return t?n+T(r,2)+":"+T(e,2):"GMT"+n+r+(e?":"+T(e,2):"")}function m(n,r,i){let s,o;return function(...e){var t;return s?d(s,e)||(i&&i(o),t=n.apply(this,e),r&&r(t,o))||(o=t):o=n.apply(this,e),s=e,o}}function an(n,r,i){let s,o;return e=>{var t;return s?g(s,e)||(i&&i(o),t=n.call(this,e),r&&r(t,o))||(o=t):o=n.call(this,e),s=e,o}}function ln(s,o,a){let l=[],c=[];return e=>{let t=l.length,n=e.length,r=0;for(;r<t;r+=1){var i;e[r]?d(l[r],e[r])||(a&&a(c[r]),i=s.apply(this,e[r]),o&&o(i,c[r]))||(c[r]=i):a&&a(c[r])}for(;r<n;r+=1)c[r]=s.apply(this,e[r]);return l=e,c.splice(n),c}}function cn(i,s,o){let a={},l={};return e=>{var t,n,r={};for(t in e)l[t]?d(a[t],e[t])?r[t]=l[t]:(o&&o(l[t]),n=i.apply(this,e[t]),r[t]=s&&s(n,l[t])?l[t]:n):r[t]=i.apply(this,e[t]);return a=e,l=r}}const dn={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},un={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},hn=/\s*([ap])\.?m\.?/i,fn=/,/g,pn=/\s+/g,gn=/\u200e/g,mn=/UTC|GMT/;class vn{constructor(e){let t={},n={},r=0;for(var i in e)i in dn?(n[i]=e[i],r=Math.max(dn[i],r)):(t[i]=e[i],i in un&&(r=Math.max(un[i],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=m(yn)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){var{standardDateProps:i,extendedSettings:s}=this,o=(l=e.marker,c=t.marker,(o=n.calendarSystem).getMarkerYear(l)!==o.getMarkerYear(c)?5:o.getMarkerMonth(l)!==o.getMarkerMonth(c)?4:o.getMarkerDay(l)!==o.getMarkerDay(c)?2:en(l)!==en(c)?1:0);if(!o)return this.format(e,n);let a=o;!(1<a)||"numeric"!==i.year&&"2-digit"!==i.year||"numeric"!==i.month&&"2-digit"!==i.month||"numeric"!==i.day&&"2-digit"!==i.day||(a=1);var l=this.format(e,n),c=this.format(t,n);return l===c?l:(o=function(n,r,i,s){let o=0;for(;o<n.length;){var a=n.indexOf(r,o);if(-1===a)break;var l=n.substr(0,a);o=a+r.length;let e=n.substr(o),t=0;for(;t<i.length;){var c=i.indexOf(s,t);if(-1===c)break;var d=i.substr(0,c),c=(t=c+s.length,i.substr(t));if(l===d&&e===c)return{before:l,after:e}}}return null}(l,i=(o=yn(function(e,t){var n,r={};for(n in e)n in un&&!(un[n]<=t)||(r[n]=e[n]);return r}(i,a),s,n))(e),c,e=o(t)),t=s.separator||r||n.defaultSeparator||"",o?o.before+i+t+e+o.after:l+t+c)}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function yn(e,a,l){var t=Object.keys(e).length;{if(1===t&&"short"===e.timeZoneName)return e=>on(e.timeZoneOffset);if(0===t&&a.week)return e=>{return e=l.computeWeekNumber(e.marker),t=l.weekText,n=l.weekTextLong,r=l.locale,i=a.week,s=[],"long"===i?s.push(n):"short"!==i&&"narrow"!==i||s.push(t),"long"!==i&&"short"!==i||s.push(" "),s.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&s.reverse(),s.join("");var t,n,r,i,s};{var c=e,d=a,u=l;c=Object.assign({},c),d=Object.assign({},d),t=d,(e=c).timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute,c.timeZone="UTC";let s,o=new Intl.DateTimeFormat(u.locale.codes,c);return d.omitZeroMinute&&(delete(e=Object.assign({},c)).minute,s=new Intl.DateTimeFormat(u.locale.codes,e)),e=>{var t,n,r=e["marker"],i=s&&!r.getUTCMinutes()?s:o;return i=i.format(r),r=e,e=c,t=d,n=u,i=i.replace(gn,""),"short"===e.timeZoneName&&(i=function(e,t){let n=!1;return e=e.replace(mn,()=>(n=!0,t)),n||(e+=" "+t),e}(i,"UTC"===n.timeZone||null==r.timeZoneOffset?"UTC":on(r.timeZoneOffset))),t.omitCommas&&(i=i.replace(fn,"").trim()),t.omitZeroMinute&&(i=i.replace(":00","")),!1===t.meridiem?i=i.replace(hn,"").trim():"narrow"===t.meridiem?i=i.replace(hn,(e,t)=>t.toLocaleLowerCase()):"short"===t.meridiem?i=i.replace(hn,(e,t)=>t.toLocaleLowerCase()+"m"):"lowercase"===t.meridiem&&(i=i.replace(hn,e=>e.toLocaleLowerCase())),(i=i.replace(pn," ")).trim()}}}}function bn(e,t){t=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Sn(e,t,n,r){e=bn(e,n.calendarSystem);return{date:e,start:e,end:t?bn(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class En{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,Sn(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,Sn(e,t,n,r))}}class Cn{constructor(e){this.func=e}format(e,t,n){return this.func(Sn(e,null,t,n))}formatRange(e,t,n,r){return this.func(Sn(e,t,n,r))}}function N(e){return"object"==typeof e&&e?new vn(e):"string"==typeof e?new En(e):"function"==typeof e?new Cn(e):null}const Dn={navLinkDayClick:n,navLinkWeekClick:n,duration:k,bootstrapFontAwesome:n,buttonIcons:n,customButtons:n,defaultAllDayEventDuration:k,defaultTimedEventDuration:k,nextDayThreshold:k,scrollTime:k,scrollTimeReset:Boolean,slotMinTime:k,slotMaxTime:k,dayPopoverFormat:N,slotDuration:k,snapDuration:k,headerToolbar:n,footerToolbar:n,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:N,dayHeaderClassNames:n,dayHeaderContent:n,dayHeaderDidMount:n,dayHeaderWillUnmount:n,dayCellClassNames:n,dayCellContent:n,dayCellDidMount:n,dayCellWillUnmount:n,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:n,weekNumbers:Boolean,weekNumberClassNames:n,weekNumberContent:n,weekNumberDidMount:n,weekNumberWillUnmount:n,editable:Boolean,viewClassNames:n,viewDidMount:n,viewWillUnmount:n,nowIndicator:Boolean,nowIndicatorClassNames:n,nowIndicatorContent:n,nowIndicatorDidMount:n,nowIndicatorWillUnmount:n,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:n,locale:n,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:n,eventOrder:gt,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:n,contentHeight:n,direction:String,weekNumberFormat:N,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:n,initialDate:n,now:n,eventDataTransform:n,stickyHeaderDates:n,stickyFooterScrollbar:n,viewHeight:n,defaultAllDay:Boolean,eventSourceFailure:n,eventSourceSuccess:n,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:n,eventConstraint:n,eventAllow:n,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:n,eventContent:n,eventDidMount:n,eventWillUnmount:n,selectConstraint:n,selectOverlap:n,selectAllow:n,droppable:Boolean,unselectCancel:String,slotLabelFormat:n,slotLaneClassNames:n,slotLaneContent:n,slotLaneDidMount:n,slotLaneWillUnmount:n,slotLabelClassNames:n,slotLabelContent:n,slotLabelDidMount:n,slotLabelWillUnmount:n,dayMaxEvents:n,dayMaxEventRows:n,dayMinWidth:Number,slotLabelInterval:k,allDayText:String,allDayClassNames:n,allDayContent:n,allDayDidMount:n,allDayWillUnmount:n,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:N,rerenderDelay:Number,moreLinkText:n,moreLinkHint:n,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:n,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:k,hiddenDays:n,fixedWeekCount:Boolean,validRange:n,visibleRange:n,titleFormat:n,eventInteractive:Boolean,noEventsText:String,viewHint:n,navLinkHint:n,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:n,moreLinkClassNames:n,moreLinkContent:n,moreLinkDidMount:n,moreLinkWillUnmount:n,monthStartFormat:N,handleCustomRendering:n,customRenderingMetaMap:n,customRenderingReplacesEl:Boolean},wn={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" â ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Rn={datesSet:n,eventsSet:n,eventAdd:n,eventChange:n,eventRemove:n,windowResize:n,eventClick:n,eventMouseEnter:n,eventMouseLeave:n,select:n,unselect:n,loading:n,_unmount:n,_beforeprint:n,_afterprint:n,_noEventDrop:n,_noEventResize:n,_resize:n,_scrollRequest:n},An={buttonText:n,buttonHints:n,views:n,plugins:n,initialEvents:n,events:n,eventSources:n},xn={headerToolbar:Tn,footerToolbar:Tn,buttonText:Tn,buttonHints:Tn,buttonIcons:Tn,dateIncrement:Tn,plugins:kn,events:kn,eventSources:kn,resources:kn};function Tn(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?g(e,t):e===t}function kn(e,t){return Array.isArray(e)&&Array.isArray(t)?d(e,t):e===t}const Mn={type:String,component:n,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:n,usesMinMaxTime:Boolean,classNames:n,content:n,didMount:n,willUnmount:n};function _n(e){return Ot(e,xn)}function In(e,t){var n,r,i={},s={};for(n in t)n in e&&(i[n]=t[n](e[n]));for(r in e)r in t||(s[r]=e[r]);return{refined:i,extra:s}}function n(e){return e}function On(e,t,n,r){return{instanceId:c(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function Nn(e,t,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=e;for(var l in a=_(a,e=>!o[e.defId].recurringDef),o){var c,d=o[l];if(d.recurringDef){let e=d.recurringDef["duration"];for(c of function(e,t,n,r,i){let s=i[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return s=e.allDay?s.map(v):s}(d,e=e||(d.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),t,r,i.recurringTypes)){var u=On(l,{start:c,end:r.add(c,e)});a[u.instanceId]=u}}}return{defs:o,instances:a}}function Pn(e,t,n,r,i,s){var o,a={defs:{},instances:{}},l=Jn(n);for(o of e){var c=Zn(o,t,n,r,l,i,s);c&&Hn(c,a)}return a}function Hn(e,t={defs:{},instances:{}}){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function Wn(t,r){r=t.instances[r];if(r){let n=t.defs[r.defId],e=jn(t,e=>{return t=n,Boolean(t.groupId&&t.groupId===e.groupId);var t});return e.defs[n.defId]=n,e.instances[r.instanceId]=r,e}return{defs:{},instances:{}}}function Bn(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function jn(e,t){let n=_(e.defs,t),r=_(e.instances,e=>n[e.defId]);return{defs:n,instances:r}}function zn(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const Ln={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:n,overlap:n,allow:n,className:zn,classNames:zn,color:String,backgroundColor:String,borderColor:String,textColor:String},Un={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Gn(e,t){n=e.constraint,t=t;var n,t=Array.isArray(n)?Pn(n,null,t,!0):"object"==typeof n&&n?Pn([n],null,t,!0):null!=n?String(n):null;return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=t?[t]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Fn(e){return e.reduce(Vn,Un)}function Vn(e,t){return{display:(null!=t.display?t:e).display,startEditable:(null!=t.startEditable?t:e).startEditable,durationEditable:(null!=t.durationEditable?t:e).durationEditable,constraints:e.constraints.concat(t.constraints),overlap:("boolean"==typeof t.overlap?t:e).overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const qn={id:String,groupId:String,title:String,url:String,interactive:Boolean},Yn={start:n,end:n,date:n,allDay:Boolean},Qn=Object.assign(Object.assign(Object.assign({},qn),Yn),{extendedProps:n});function Zn(e,t,n,r,i=Jn(n),s,o){var a,{refined:e,extra:i}=Xn(e,n,i),l=function(){let e=null;return e=null==(e=t?t.defaultAllDay:e)?n.options.defaultAllDay:e}(),c=function(n,r,e,i){for(let t=0;t<i.length;t+=1){var s=i[t].parse(n,e);if(s){let e=n["allDay"];return{allDay:e=null==e&&null==(e=r)&&null==(e=s.allDayGuess)?!1:e,duration:s.duration,typeData:s.typeData,typeId:t}}}return null}(e,l,n.dateEnv,n.pluginHooks.recurringTypes);return c?((a=Kn(e,i,t?t.sourceId:"",c.allDay,Boolean(c.duration),n,s)).recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:a,instance:null}):(c=function(e,t,n,r){let i,s,o=e["allDay"],a=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(i=n.dateEnv.createMarkerMeta(d))a=i.marker;else if(!r)return null;return null!=e.end&&(s=n.dateEnv.createMarkerMeta(e.end)),(o=null==o?null!=t?t:(!i||i.isTimeUnspecified)&&(!s||s.isTimeUnspecified):o)&&(a=a&&v(a)),(c=s&&(c=s.marker,o&&(c=v(c)),a)&&c<=a?null:c)?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(a,o?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:o,hasEnd:l,range:{start:a,end:c},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:s?s.forcedTzo:null}}(e,l,n,r))?(l=On((a=Kn(e,i,t?t.sourceId:"",c.allDay,c.hasEnd,n,s)).defId,c.range,c.forcedStartTzo,c.forcedEndTzo),o&&a.publicId&&o[a.publicId]&&(l.instanceId=o[a.publicId]),{def:a,instance:l}):null}function Xn(e,t,n=Jn(t)){return In(e,n)}function Jn(e){return Object.assign(Object.assign(Object.assign({},Ln),Qn),e.pluginHooks.eventRefiners)}function Kn(e,t,n,r,i,s,o){var a,l={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(o&&e.id?o[e.id]:"")||c(),sourceId:n,allDay:r,hasEnd:i,interactive:e.interactive,ui:Gn(e,s),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(a of s.pluginHooks.eventDefMemberAdders)Object.assign(l,a(e));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}const $n={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function er(e,t){return Pn(function(e){let t;return t=(t=!0===e?[{}]:Array.isArray(e)?e.filter(e=>e.daysOfWeek):"object"==typeof e&&e?[e]:[]).map(e=>Object.assign(Object.assign({},$n),e))}(e),null,t)}function tr(e){var t=Math.floor(Vt(e.start,e.end))||1,e=v(e.start);return{start:e,end:O(e,t)}}function nr(e,t=k(0)){let n=null,r=null;var i;return e.end&&(r=v(e.end),i=e.end.valueOf()-r.valueOf())&&i>=M(t)&&(r=O(r,1)),e.start&&(n=v(e.start),r)&&r<=n&&(r=O(n,1)),{start:n,end:r}}function rr(e){e=nr(e);return 1<Vt(e.start,e.end)}function ir(e,t,n,r){return"year"===r?k(n.diffWholeYears(e,t),"year"):"month"===r?k(n.diffWholeMonths(e,t),"month"):qt(e,t)}function sr(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function or(e,t){e={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return e.left<e.right&&e.top<e.bottom&&e}function ar(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}function lr(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function cr(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function dr(e,t){return{left:e.left-t.left,top:e.top-t.top}}let ur;function hr(){return ur=null==ur?"undefined"==typeof document||((e=document.createElement("div")).style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e),t=0<e.querySelector("div").offsetHeight,document.body.removeChild(e),t):ur;var e,t}const fr={defs:{},instances:{}};class pr{constructor(){this.getKeysForEventDefs=m(this._getKeysForEventDefs),this.splitDateSelection=m(this._splitDateSpan),this.splitEventStore=m(this._splitEventStore),this.splitIndividualUi=m(this._splitIndividualUi),this.splitEventDrag=m(this._splitInteraction),this.splitEventResize=m(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){var t,n=this.getKeyInfo(e),r=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,r),o=this.splitEventStore(e.eventStore,r),a=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};for(t in this.eventUiBuilders=I(n,(e,t)=>this.eventUiBuilders[t]||m(gr)),n){var d=n[t],u=o[t]||fr,h=this.eventUiBuilders[t];c[t]={businessHours:d.businessHours||e.businessHours,dateSelection:i[t]||null,eventStore:u,eventUiBases:h(e.eventUiBases[""],d.ui,s[t]),eventSelection:u.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[t]||null,eventResize:l[t]||null}}return c}_splitDateSpan(e){var t,n={};if(e)for(t of this.getKeysForDateSpan(e))n[t]=e;return n}_getKeysForEventDefs(e){return I(e.defs,e=>this.getKeysForEventDef(e))}_splitEventStore(e,t){var n,r,{defs:i,instances:s}=e,o={};for(n in i)for(var a of t[n])o[a]||(o[a]={defs:{},instances:{}}),o[a].defs[n]=i[n];for(r in s){var l,c=s[r];for(l of t[c.defId])o[l]&&(o[l].instances[r]=c)}return o}_splitIndividualUi(e,t){var n,r={};for(n in e)if(n)for(var i of t[n])r[i]||(r[i]={}),r[i][n]=e[n];return r}_splitInteraction(i){let s={};if(i){let t=this._splitEventStore(i.affectedEvents,this._getKeysForEventDefs(i.affectedEvents)),e=this._getKeysForEventDefs(i.mutatedEvents),n=this._splitEventStore(i.mutatedEvents,e),r=e=>{s[e]||(s[e]={affectedEvents:t[e]||fr,mutatedEvents:n[e]||fr,isEvent:i.isEvent})};for(var o in t)r(o);for(var a in n)r(a)}return s}}function gr(e,t,n){var r=[],e=(e&&r.push(e),t&&r.push(t),{"":Fn(r)});return n&&Object.assign(e,n),e}function mr(e,t){let n,r,i=[],s=t["start"];for(e.sort(vr),n=0;n<e.length;n+=1)(r=e[n]).start>s&&i.push({start:s,end:r.start}),r.end>s&&(s=r.end);return s<t.end&&i.push({start:s,end:t.end}),i}function vr(e,t){return e.start.valueOf()-t.start.valueOf()}function w(e,t){let{start:n,end:r}=e,i=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),i=null===n||null===r||n<r?{start:n,end:r}:i}function yr(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function br(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function Sr(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function b(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Er(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&!b(r.activeRange,e)),isOther:Boolean(r&&!b(r.currentRange,e)),isToday:Boolean(t&&b(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?n<e:!!t&&e>=t.end)}}function Cr(e,t){var n=["fc-day","fc-day-"+Lt[e.dow]];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}function Dr(e,t){var n=["fc-slot","fc-slot-"+Lt[e.dow]];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n}const wr=N({year:"numeric",month:"long",day:"numeric"}),Rr=N({week:"long"});function Ar(e,n,r="day",t=!0){const{dateEnv:i,options:s,calendarApi:o}=e;var a,l,e=i.format(n,"week"===r?Rr:wr);return s.navLinks?(a=i.toDate(n),l=e=>{var t="day"===r?s.navLinkDayClick:"week"===r?s.navLinkWeekClick:null;"function"==typeof t?t.call(o,i.toDate(n),e):("string"==typeof t&&(r=t),o.zoomTo(n,r))},Object.assign({title:yt(s.navLinkHint,[e,a],e),"data-navlink":""},t?ot(l):{onClick:l})):{"aria-label":e}}let xr,Tr=null;function kr(){return Tr=null===Tr?(Ke(e=document.createElement("div"),{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e),t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left,Ye(e),t):Tr;var e,t}function Mr(){return xr=xr||((e=document.createElement("div")).style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e),t=_r(e),document.body.removeChild(e),t);var e,t}function _r(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Ir(e,t=!1){var n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,e=_r(e),a=e.y-r-i,r={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:e.x-s-o,scrollbarLeft:0,scrollbarRight:0};return kr()&&"rtl"===n.direction?r.scrollbarLeft=a:r.scrollbarRight=a,t&&(r.paddingLeft=parseInt(n.paddingLeft,10)||0,r.paddingRight=parseInt(n.paddingRight,10)||0,r.paddingTop=parseInt(n.paddingTop,10)||0,r.paddingBottom=parseInt(n.paddingBottom,10)||0),r}function Or(e,t=!1,n){n=n?e.getBoundingClientRect():Nr(e),e=Ir(e,t),n={left:n.left+e.borderLeft+e.scrollbarLeft,right:n.right-e.borderRight-e.scrollbarRight,top:n.top+e.borderTop,bottom:n.bottom-e.borderBottom-e.scrollbarBottom};return t&&(n.left+=e.paddingLeft,n.right-=e.paddingRight,n.top+=e.paddingTop,n.bottom-=e.paddingBottom),n}function Nr(e){e=e.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function Pr(e){for(var t=[];e instanceof HTMLElement;){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function Hr(e,t,n){function r(e){s||(s=!0,t(e))}function i(e){s||(s=!0,n(e))}let s=!1,o=e(r,i);o&&"function"==typeof o.then&&o.then(r,i)}class Wr{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){var n;n=this.handlers,t=t,(n[e]||(n[e]=[])).push(t)}off(e,t){var n,r;n=this.handlers,e=e,(r=t)?n[e]&&(n[e]=n[e].filter(e=>e!==r)):delete n[e]}trigger(e,...t){var n,r=this.handlers[e]||[],e=this.options&&this.options[e];for(n of[].concat(e||[],r))n.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}class Br{constructor(e,t,n,r){this.els=t;t=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(t.left),r&&this.buildElVerticals(t.top)}buildElHorizontals(e){var t,n=[],r=[];for(t of this.els){var i=t.getBoundingClientRect();n.push(i.left-e),r.push(i.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){var t,n=[],r=[];for(t of this.els){var i=t.getBoundingClientRect();n.push(i.top-e),r.push(i.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let t,{lefts:n,rights:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,i=n.length;for(t=0;t<i;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return jr(this.tops||[],e.tops||[])&&jr(this.bottoms||[],e.bottoms||[])&&jr(this.lefts||[],e.lefts||[])&&jr(this.rights||[],e.rights||[])}}function jr(t,n){var r=t.length;if(r!==n.length)return!1;for(let e=0;e<r;e++)if(Math.round(t[e])!==Math.round(n[e]))return!1;return!0}class zr{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return 0<this.getMaxScrollTop()}canScrollHorizontally(){return 0<this.getMaxScrollLeft()}canScrollUp(){return 0<this.getScrollTop()}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return 0<this.getScrollLeft()}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Lr extends zr{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Ur extends zr{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(e){window.scroll(window.pageXOffset,e)}setScrollLeft(e){window.scroll(e,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Gr{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){var t=this.iconOverridePrefix;return e=t&&0!==e.indexOf(t)?t+e:e}getClass(e){return this.classes[e]||""}getIconClass(e,t){t=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e];return t?this.baseIconClass+" "+t:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""}}function Fr(e){e();let t=R.debounceRendering,n=[];for(R.debounceRendering=function(e){n.push(e)},ae(S(Vr,{}),document.createElement("div"));n.length;)n.shift()();R.debounceRendering=t}Gr.prototype.classes={},Gr.prototype.iconClasses={},Gr.prototype.baseIconClass="",Gr.prototype.iconOverridePrefix="";class Vr extends x{render(){return S("div",{})}componentDidMount(){this.setState({})}}function qr(e){let t=(e={__c:r="__cC"+he++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,t;return this.getChildContext||(n=[],((t={})[r]=this).getChildContext=function(){return t},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(function(e){e.__e=!0,K(e)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}}).Provider.__=e.Consumer.contextType=e,n=t.Provider;var r;return t.Provider=function(){var e=!this.getChildContext,t=n.apply(this,arguments);if(e){let n=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&n.forEach(e=>{e.context=t.value,e.forceUpdate()})},this.sub=e=>{n.push(e);let t=e.componentWillUnmount;e.componentWillUnmount=()=>{n.splice(n.indexOf(e),1),t&&t.call(e)}}}return t},t}class Yr{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const u=qr({});function Qr(e,t,n,r,i,s,o,a,l,c,d,u,h){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:s,isRtl:"rtl"===n.direction,addResizeHandler(e){c.on("_resize",e)},removeResizeHandler(e){c.off("_resize",e)},createScrollResponder:e=>new Yr(e,c,k(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:u,unregisterInteractiveComponent:h}}class Zr extends x{shouldComponentUpdate(e,t){return this.debug&&console.log(Wt(e,this.props),Wt(t,this.state)),!Bt(this.props,e,this.propEquality)||!Bt(this.state,t,this.stateEquality)}safeSetState(e){Bt(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Zr.addPropsEquality=function(e){var t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t},Zr.addStateEquality=function(e){var t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t},Zr.contextType=u,Zr.prototype.propEquality={},Zr.prototype.stateEquality={};class s extends Zr{}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}s.contextType=u;class a extends s{constructor(){super(...arguments),this.uid=c()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!l(e,".fc-event-mirror")}isValidDateDownEl(e){return!(l(e,".fc-event:not(.fc-bg-event)")||l(e,".fc-more-link")||l(e,"a[data-navlink]")||l(e,".fc-popover"))}}function Xr(e,t){return null==(e="function"==typeof e?e():e)?t.createNowMarker():t.createMarker(e)}class Jr{constructor(e){this.props=e,this.nowDate=Xr(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){var r=this.props["dateEnv"],r=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,n)}buildNext(e,t,n){var r=this.props["dateEnv"],r=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,n)}build(e,t,n=!0){let r,i,s,o,a,l,c=this["props"];return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(n=e,e=null!=r.start&&n<r.start?r.start:null!=r.end&&n>=r.end?new Date(r.end.valueOf()-1):n),i=this.buildCurrentRangeInfo(e,t),s=/^(year|month|week|day)$/.test(i.unit),o=this.buildRenderRange(this.trimHiddenDays(i.range),i.unit,s),o=this.trimHiddenDays(o),a=o,c.showNonCurrentDates||(a=w(a,i.range)),a=w(a=this.adjustActiveRange(a),r),l=br(i.range,r),{currentDate:e=b(o,e)?e:o.start,validRange:r,currentRange:i.range,currentRangeUnit:i.unit,isRangeAllDay:s,activeRange:a,renderRange:o,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(i.duration)}}buildValidRange(){var e=this.props.validRangeInput,e="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(e)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,r=this["props"],i=null,s=null,o=null;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,t,i,s)):(n=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,t,n)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=_t(i).unit,o=this.buildRangeFromDuration(e,t,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return k({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:i}=this.props,{start:s,end:o}=e;return n&&(xt(r)<0&&(s=v(s),s=t.add(s,r)),1<xt(i))&&(o=O(o=v(o),-1),o=t.add(o,i)),{start:s,end:o}}buildRangeFromDuration(e,t,n,r){let i,s,o,{dateEnv:a,dateAlignment:l}=this.props;var c;function d(){i=a.startOf(e,l),s=a.add(i,n),o={start:i,end:s}}return l||(c=this.props["dateIncrement"],l=c&&M(c)<M(n)?_t(c).unit:r),xt(n)<=1&&this.isHiddenDay(i)&&(i=v(i=this.skipHiddenDays(i,t))),d(),this.trimHiddenDays(o)||(e=this.skipHiddenDays(e,t),d()),o}buildRangeFromDayCount(e,t,n){let r,{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e;for(a=v(a=s?i.startOf(a,s):a),a=this.skipHiddenDays(a,t),r=a;r=O(r,1),this.isHiddenDay(r)||(o+=1),o<n;);return{start:a,end:r}}buildCustomVisibleRange(e){var t=this["props"],n=t.visibleRangeInput,t="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,e=this.refineRange(t);return!e||null!=e.start&&null!=e.end?e:null}buildRenderRange(e,t,n){return e}buildDateIncrement(e){var t=this.props["dateIncrement"];return t||((t=this.props.dateAlignment)?k(1,t):e||k({days:1}))}refineRange(t){if(t){let e=function(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}(t,this.props.dateEnv);return e=e&&nr(e)}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return t=t&&this.skipHiddenDays(t),n=n&&this.skipHiddenDays(n,-1,!0),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=O(e,t);return e}}function Kr(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},$r(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function $r(e,t){var n,r,i,s={};for(n of t.pluginHooks.dateSpanTransforms)Object.assign(s,n(e,t));return Object.assign(s,(r=e,i=t.dateEnv,Object.assign(Object.assign({},bi(r.range,i,r.allDay)),{allDay:r.allDay}))),s}function ei(e,t,n){let{dateEnv:r,options:i}=n,s=t;return s=e?(s=v(s),r.add(s,i.defaultAllDayEventDuration)):r.add(s,i.defaultTimedEventDuration)}function ti(e,t,n,r){var i,s,o,a,l,c,d,u,h=ci(e.defs,t),f={defs:{},instances:{}};for(i in e.defs){var p=e.defs[i];f.defs[i]=function(e,t,n,r){var i=n.standardProps||{},s=(null==i.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0),Object.assign(Object.assign(Object.assign({},e),i),{ui:Object.assign(Object.assign({},e.ui),i.ui)}));n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(var o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}(p,h[i],n,r)}for(s in e.instances){var g=e.instances[s],m=f.defs[g.defId];f.instances[s]=(m=m,o=h[(g=g).defId],a=n,u=d=c=void 0,c=(l=r).dateEnv,d=a.standardProps&&!0===a.standardProps.allDay,u=a.standardProps&&!1===a.standardProps.hasEnd,g=Object.assign({},g),d&&(g.range=tr(g.range)),a.datesDelta&&o.startEditable&&(g.range={start:c.add(g.range.start,a.datesDelta),end:c.add(g.range.end,a.datesDelta)}),a.startDelta&&o.durationEditable&&(g.range={start:c.add(g.range.start,a.startDelta),end:g.range.end}),a.endDelta&&o.durationEditable&&(g.range={start:g.range.start,end:c.add(g.range.end,a.endDelta)}),u&&(g.range={start:g.range.start,end:ei(m.allDay,g.range.start,l)}),m.allDay&&(g.range={start:v(g.range.start),end:v(g.range.end)}),g.range.end<g.range.start&&(g.range.end=ei(m.allDay,g.range.start,l)),g)}return f}class ni{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class P{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){e in Yn?console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead."):"id"===e?(t=qn[e](t),this.mutate({standardProps:{publicId:t}})):e in qn?(t=qn[e](t),this.mutate({standardProps:{[e]:t}})):e in Ln?(Ln[e](t),this.mutate({standardProps:{ui:"color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t}}})):console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){var n=this._context["dateEnv"],e=n.createMarker(e);e&&this._instance&&(e=ir(this._instance.range.start,e,n,t.granularity),t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e}))}setEnd(e,t={}){let n,r=this._context["dateEnv"];(null==e||(n=r.createMarker(e)))&&this._instance&&(n?(e=ir(this._instance.range.end,n,r,t.granularity),this.mutate({endDelta:e})):this.mutate({standardProps:{hasEnd:!1}}))}setDates(t,n,r={}){let i,s=this._context["dateEnv"],o={allDay:r.allDay},a=s.createMarker(t);if(a&&(null==n||(i=s.createMarker(n)))&&this._instance){let e=this._instance.range;t=ir((e=!0===r.allDay?tr(e):e).start,a,s,r.granularity);i?(n=ir(e.end,i,s,r.granularity),t.years===n.years&&t.months===n.months&&t.days===n.days&&t.milliseconds===n.milliseconds?this.mutate({datesDelta:t,standardProps:o}):this.mutate({startDelta:t,endDelta:n,standardProps:o})):(o.hasEnd=!1,this.mutate({datesDelta:t,standardProps:o}))}}moveStart(e){e=k(e);e&&this.mutate({startDelta:e})}moveEnd(e){e=k(e);e&&this.mutate({endDelta:e})}moveDates(e){e=k(e);e&&this.mutate({datesDelta:e})}setAllDay(e,t={}){let n={allDay:e},r=t["maintainDuration"];null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){var t=this._context["dateEnv"],n=this._instance,e=N(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,e,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,e,{forcedTzo:n.forcedStartTzo})}mutate(i){var s=this._instance;if(s){let e=this._def,t=this._context,n=t.getCurrentData()["eventStore"],r=Wn(n,s.instanceId);r=ti(r,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},i,t);i=new P(t,e,s);this._def=r.defs[e.defId],this._instance=r.instances[s.instanceId],t.dispatch({type:"MERGE_EVENTS",eventStore:r}),t.emitter.trigger("eventChange",{oldEvent:i,event:this,relatedEvents:ii(r,t,s),revert(){t.dispatch({type:"RESET_EVENTS",eventStore:n})}})}}remove(){let e=this._context,t=ri(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){var e=this._def["sourceId"];return e?new ni(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){var t=this._def,n=t["ui"],{startStr:r,endStr:i}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),r&&(s.start=r),i&&(s.end=i),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),n.display&&"auto"!==n.display&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}}function ri(e){var t=e._def,e=e._instance;return{defs:{[t.defId]:t},instances:e?{[e.instanceId]:e}:{}}}function ii(e,t,n){var r,{defs:i,instances:s}=e,o=[],a=n?n.instanceId:"";for(r in s){var l=s[r],c=i[l.defId];l.instanceId!==a&&o.push(new P(t,c,l))}return o}function si(e,t,n,r){var i,s,o,a,l,c,d={},u={},h={},f=[],p=[],g=ci(e.defs,t);for(i in e.defs){var m=e.defs[i];"inverse-background"===g[m.defId].display&&(m.groupId?(d[m.groupId]=[],h[m.groupId]||(h[m.groupId]=m)):u[i]=[])}for(s in e.instances){var v=e.instances[s],y=e.defs[v.defId],b=g[y.defId],S=v.range,S=!y.allDay&&r?nr(S,r):S,E=w(S,n);E&&("inverse-background"===b.display?(y.groupId?d[y.groupId]:u[v.defId]).push(E):"none"!==b.display&&("background"===b.display?f:p).push({def:y,ui:b,instance:v,range:E,isStart:S.start&&S.start.valueOf()===E.start.valueOf(),isEnd:S.end&&S.end.valueOf()===E.end.valueOf()}))}for(o in d)for(a of mr(d[o],n)){var C=h[o],D=g[C.defId];f.push({def:C,ui:D,instance:null,range:a,isStart:!1,isEnd:!1})}for(l in u)for(c of mr(u[l],n))f.push({def:e.defs[l],ui:g[l],instance:null,range:c,isStart:!1,isEnd:!1});return{bg:f,fg:p}}function oi(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function ai(e,t){e.fcSeg=t}function li(e){return e.fcSeg||e.parentNode.fcSeg||null}function ci(e,t){return I(e,e=>di(e,t))}function di(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Fn(n)}function ui(e,n){e=e.map(hi);return e.sort((e,t)=>mt(e,t,n)),e.map(e=>e._seg)}function hi(e){var t=e["eventRange"],n=t.def,t=(t.instance||t).range,r=t.start?t.start.valueOf():0,t=t.end?t.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:r,end:t,duration:t-r,allDay:Number(n.allDay),_seg:e})}function fi(e,t,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,h=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==i);var n=h.range.start,r=h.range.end,i=s||e.start||e.eventRange.range.start,e=o||e.end||e.eventRange.range.end,f=v(n).valueOf()===v(i).valueOf(),p=v(Gt(r,-1)).valueOf()===v(Gt(e,-1)).valueOf();return c&&!u.allDay&&(f||p)?(i=f?n:i,d&&u.hasEnd?a.formatRange(i,p?r:e,t,{forcedStartTzo:s?null:h.forcedStartTzo,forcedEndTzo:o?null:h.forcedEndTzo}):a.format(i,t,{forcedTzo:s?null:h.forcedStartTzo})):""}function E(e,t,n){e=e.eventRange.range;return{isPast:e.end<(n||t.start),isFuture:e.start>=(n||t.end),isToday:t&&b(t,e.start)}}function pi(e){return e.instance?e.instance.instanceId:e.def.defId+":"+e.range.start.toISOString()}function gi(e,t){let{def:n,instance:r}=e.eventRange,i=n["url"];if(i)return{href:i};let{emitter:s,options:o}=t,a=o["eventInteractive"];return(a=null==a&&null==(a=n.interactive)?Boolean(s.hasHandlers("eventClick")):a)?at(e=>{s.trigger("eventClick",{el:e.target,event:new P(t,n,r),jsEvent:e,view:t.viewApi})}):{}}const mi={start:n,end:n,allDay:Boolean};function vi(e,t){return yr(e.range,t.range)&&e.allDay===t.allDay&&function(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}(e,t)}function yi(e,t,n){return Object.assign(Object.assign({},bi(e,t,n)),{timeZone:t.timeZone})}function bi(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}let Si={};Si.gregory=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return i(e)}markerToArray(e){return Kt(e)}};const Ei=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Ci(t){t=Ei.exec(t);if(t){var n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if($t(n)){let e=null;return t[13]&&(e=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:e}}}return null}class Di{constructor(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=(t=e.calendarSystem,new Si[t]),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=(null!=e.weekText?e:e.locale.options).weekText,this.weekTextLong=(null!=e.weekTextLong?e:e.locale.options).weekTextLong||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){e=this.createMarkerMeta(e);return null===e?null:e.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):i(Xt(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=i(e)),null!==t&&$t(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){e=Ci(e);if(null===e)return null;let t=e["marker"],n=null;return null!==e.timeZoneOffset&&(this.canComputeOffset?t=this.timestampToMarker(t.valueOf()-60*e.timeZoneOffset*1e3):n=e.timeZoneOffset),{marker:t,isTimeUnspecified:e.isTimeUnspecified,forcedTzo:n}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){e=this.calendarSystem.markerToArray(e);return e[0]+=t.years,e[1]+=t.months,e[2]+=t.days,e[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(e)}subtract(e,t){e=this.calendarSystem.markerToArray(e);return e[0]-=t.years,e[1]-=t.months,e[2]-=t.days,e[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(e)}addYears(e,t){e=this.calendarSystem.markerToArray(e);return e[0]+=t,this.calendarSystem.arrayToMarker(e)}addMonths(e,t){e=this.calendarSystem.markerToArray(e);return e[1]+=t,this.calendarSystem.arrayToMarker(e)}diffWholeYears(e,t){var n=this["calendarSystem"];return en(e)===en(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){var n=this["calendarSystem"];return en(e)===en(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null}greatestWholeUnit(e,t){var n,r=this.diffWholeYears(e,t);return null!==r?{unit:"year",value:r}:null!==(r=this.diffWholeMonths(e,t))?{unit:"month",value:r}:null!==(r=Yt(e,t))?{unit:"week",value:r}:null!==(r=Qt(e,t))?{unit:"day",value:r}:(n=e,St(r=(t.valueOf()-n.valueOf())/36e5)?{unit:"hour",value:r}:(n=e,St(r=(t.valueOf()-n.valueOf())/6e4)?{unit:"minute",value:r}:(n=e,St(r=(t.valueOf()-n.valueOf())/1e3)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()})))}countDurationsBetween(e,t,n){let r;return n.years&&null!==(r=this.diffWholeYears(e,t))?r/(xt(n)/365):n.months&&null!==(r=this.diffWholeMonths(e,t))?r/(xt(n)/30):n.days&&null!==(r=Qt(e,t))?r/xt(n):(t.valueOf()-e.valueOf())/M(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?v(e):"hour"===t?i([(n=e).getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()]):"minute"===t?i([(n=e).getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()]):"second"===t?i([(t=e).getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()]):null;var n}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):(e=e,t=this.weekDow,n=this.weekDoy,r=e.getUTCFullYear(),(i=Zt(e,r,t,n))<1?Zt(e,r-1,t,n):1<=(e=Zt(e,r+1,t,n))?Math.min(i,e):i);var t,n,r,i}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=Gt(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return tn(e,n=t.omitTimeZoneOffset?n:null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e),t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?i(Xt(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?i(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-Jt(Kt(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Kt(e)):null}toDate(e,t){return"local"===this.timeZone?Jt(Kt(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Kt(e))*60):new Date(e.valueOf()-(t||0))}}class wi{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){var t,n=[];for(t of e)this.insertEntry(t,n);return n}insertEntry(e,t){var n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)}splitEntry(e,t,n){let r=0,i=[],s=e.span,o=t.span;return s.start<o.start&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:o.start}},i)),s.end>o.end&&(r+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:s.end}},i)),r?(n.push({index:e.index,thickness:e.thickness,span:Ti(o,s)},...i),r):(n.push(e),0)}insertEntryAt(e,t){var{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(ki(r,t.level,t.levelCoord),ki(n,t.level,[e])):ki(n[t.level],t.lateral,e),this.stackCnts[Ai(e)]=t.stackCnt}findInsertion(s){let{levelCoords:o,entriesByLevel:a,strictOrder:l,stackCnts:c}=this,e=o.length,d=0,u=-1,h=-1,f=null,p=0;for(let i=0;i<e;i+=1){var g=o[i];if(!l&&g>=d+s.thickness)break;let e,t=a[i],n=Mi(t,s.span.start,Ri),r=n[0]+n[1];for(;(e=t[r])&&e.span.start<s.span.end;){var m=g+e.thickness;m>d&&(d=m,f=e,u=i,h=r),m===d&&(p=Math.max(p,c[Ai(e)]+1)),r+=1}}let t=0;if(f)for(t=u+1;t<e&&o[t]<d;)t+=1;let n=-1;return t<e&&o[t]===d&&(n=Mi(a[t],s.span.end,Ri)[0]),{touchingLevel:u,touchingLateral:h,touchingEntry:f,stackCnt:p,levelCoord:d,level:t,lateral:n}}toRects(){var{entriesByLevel:t,levelCoords:n}=this,r=t.length,i=[];for(let e=0;e<r;e+=1){var s,o=t[e],a=n[e];for(s of o)i.push(Object.assign(Object.assign({},s),{levelCoord:a}))}return i}}function Ri(e){return e.span.end}function Ai(e){return e.index+":"+e.span.start}function xi(e){let n=[];for(var r of e){let e=[],t={span:r.span,entries:[r]};for(var i of n)Ti(i.span,t.span)?t={entries:i.entries.concat(t.entries),span:(s=i.span,o=t.span,{start:Math.min(s.start,o.start),end:Math.max(s.end,o.end)})}:e.push(i);e.push(t),n=e}var s,o;return n}function Ti(e,t){var n=Math.max(e.start,t.start),e=Math.min(e.end,t.end);return n<e?{start:n,end:e}:null}function ki(e,t,n){e.splice(t,0,n)}function Mi(e,t,n){let r=0,i=e.length;if(!i||t<n(e[r]))return[0,0];if(t>n(e[i-1]))return[i,0];for(;r<i;){var s=Math.floor(r+(i-r)/2),o=n(e[s]);if(t<o)i=s;else{if(!(o<t))return[s,1];r=s+1}}return[r,0]}class _i{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Ii(e){return{[e.component.uid]:e}}const Oi={};class Ni{constructor(e,t){this.emitter=new Wr}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const H={},Pi={startTime:k,duration:k,create:Boolean,sourceId:String};function Hi(e){var{refined:e,extra:t}=In(e,Pi);return{startTime:e.startTime||null,duration:e.duration||null,create:null==e.create||e.create,sourceId:e.sourceId,leftoverProps:t}}class Wi extends s{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){var e=this["props"],t=e["options"],n=this.state["forPrint"],r=n||"auto"===t.height||"auto"===t.contentHeight,i=r||null==t.height?"":t.height,t=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-"+t.direction,e.theme.getClass("root")];return hr()||t.push("fc-liquid-hack"),e.children(t,i,r,n)}componentDidMount(){var e=this.props["emitter"];e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){var e=this.props["emitter"];e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}function Bi(e,t){return N(!e||10<t?{weekday:"short"}:1<t?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}const ji="fc-col-header-cell";function zi(e){return e.text}class Li extends s{constructor(){super(...arguments),this.id=c(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{this.props.elRef&&o(this.props.elRef,e)}}render(){const{props:e,context:t}=this,n=t["options"],{customGenerator:r,defaultGenerator:i,renderProps:s}=e,o=Gi(e);let a,l,c=!1,d=[];if(null!=r){const e="function"==typeof r?r(s,S):r;if(!0===e)c=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?o.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?d=Array.prototype.slice.call(e.domNodes):t||"function"==typeof e?l=e:a=e}}else c=!Ui(e.generatorName,n);return c&&i&&(a=i(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=l,S(e.elTag,o,a)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:r}=this,{handleCustomRendering:i,customRenderingMetaMap:s}=r.options;if(i){const r=null!=(t=this.currentGeneratorMeta)?t:null==s?void 0:s[n.generatorName];r&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.handleEl,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(Fi)}))}}applyQueueudDomNodes(){var{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!d(e,t)){t.forEach(Ye);for(var r of e)n.appendChild(r);this.currentDomNodes=e}}}function Ui(e,t){return Boolean(t.handleCustomRendering&&e&&(null==(t=t.customRenderingMetaMap)?void 0:t[e]))}function Gi(e,t){var n=Object.assign(Object.assign({},e.elAttrs),{ref:e.elRef});return(e.elClasses||t)&&(n.className=(e.elClasses||[]).concat(t||[]).concat(n.className||[]).filter(Boolean).join(" ")),e.elStyle&&(n.style=e.elStyle),n}function Fi(e){return Boolean(e)}Li.addPropsEquality({elClasses:d,elStyle:g,elAttrs:function(e,t){var n;for(n of Wt(e,t))if(!Ht.test(n))return!1;return!0},renderProps:g});const Vi=qr(0);class h extends x{constructor(){super(...arguments),this.InnerContent=function(e,t){var n=e.props;return S(Li,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}.bind(void 0,this),this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&o(this.props.elRef,e)}}render(){var e,t,n=this["props"],r=function(e,t){t="function"==typeof e?e(t):e||[];return"string"==typeof t?[t]:t}(n.classNameGenerator,n.renderProps);return n.children?(e=Gi(n,r),t=n.children(this.InnerContent,n.renderProps,e),n.elTag?S(n.elTag,e,t):t):S(Li,Object.assign(Object.assign({},n),{elRef:this.handleRootEl,elTag:n.elTag||"div",elClasses:(n.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,t;null!=(t=(e=this.props).didMount)&&t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}componentWillUnmount(){var e,t;null!=(t=(e=this.props).willUnmount)&&t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.rootEl||this.base}))}}h.contextType=Vi;class qi extends s{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,i=this["props"],{date:s,dateProfile:o}=i,a=Er(s,i.todayRange,null,o),l=[ji].concat(Cr(a,n)),c=e.format(s,i.dayHeaderFormat),d=!a.isDisabled&&1<i.colCnt?Ar(this.context,s):{},u=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:r},i.extraRenderProps),{text:c}),a);return S(h,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":a.isDisabled?void 0:nn(s)},i.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:zi,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},e=>S("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&S(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const Yi=N({weekday:"long"});class Qi extends s{render(){let t=this["props"],{dateEnv:n,theme:e,viewApi:r,options:i}=this.context,s=O(new Date(2592e5),t.dow),o={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=n.format(s,t.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:s},o),{view:r}),t.extraRenderProps),{text:a});return S(h,{elTag:"th",elClasses:[ji,...Cr(o,e),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:zi,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},e=>S("div",{className:"fc-scrollgrid-sync-inner"},S(e,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(s,Yi)}})))}}class y extends x{constructor(e,t){super(e,t),this.initialNowDate=Xr(t.options.now,t.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){var{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){var{props:e,context:t}=this,n=Gt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(n,e.unit),t=t.dateEnv.add(r,k(1,e.unit)),e=t.valueOf()-n.valueOf(),e=Math.min(864e5,e);return{currentState:{nowDate:r,todayRange:Zi(r)},nextState:{nowDate:t,todayRange:Zi(t)},waitMs:e}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function Zi(e){e=v(e);return{start:e,end:O(e,1)}}y.contextType=u;class Xi extends s{constructor(){super(...arguments),this.createDayHeaderFormatter=m(Ji)}render(){let e=this["context"],{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return S(y,{unit:"day"},(e,t)=>S("tr",{role:"row"},s&&s("day"),n.map(e=>i?S(qi,{key:e.toISOString(),date:e,dateProfile:r,todayRange:t,colCnt:n.length,dayHeaderFormat:o}):S(Qi,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:o}))))}}function Ji(e,t,n){return e||Bi(t,n)}class Ki{constructor(e,t){let n=e.start,r=e["end"],i=[],s=[],o=-1;for(;n<r;)t.isHiddenDay(n)?i.push(o+.5):(o+=1,i.push(o),s.push(n)),n=O(n,1);this.dates=s,this.indices=i,this.cnt=s.length}sliceRange(e){var t=this.getDateDayIndex(e.start),e=this.getDateDayIndex(O(e.end,-1)),n=Math.max(0,t),r=Math.min(this.cnt-1,e);return(n=Math.ceil(n))<=(r=Math.floor(r))?{firstIndex:n,lastIndex:r,isStart:t===n,isEnd:e===r}:null}getDateDayIndex(e){var t=this["indices"],e=Math.floor(Vt(this.dates[0],e));return e<0?t[0]-1:e>=t.length?t[t.length-1]+1:t[e]}}class $i{constructor(e,t){let n,r,i,s=e["dates"];if(t){for(r=s[0].getUTCDay(),n=1;n<s.length&&s[n].getUTCDay()!==r;n+=1);i=Math.ceil(s.length/n)}else i=1,n=s.length;this.rowCnt=i,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){var e=[];for(let t=0;t<this.rowCnt;t+=1){var n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){e=this.daySeries.dates[e*this.colCnt+t];return{key:e.toISOString(),date:e}}buildHeaderDates(){var t=[];for(let e=0;e<this.colCnt;e+=1)t.push(this.cells[0][e].date);return t}sliceRange(e){var r=this["colCnt"],i=this.daySeries.sliceRange(e),s=[];if(i){let{firstIndex:e,lastIndex:t}=i,n=e;for(;n<=t;){var o=Math.floor(n/r),a=Math.min((o+1)*r,t+1);s.push({row:o,firstCol:n%r,lastCol:(a-1)%r,isStart:i.isStart&&n===e,isEnd:i.isEnd&&a-1===t}),n=a}}return s}}class es{constructor(){this.sliceBusinessHours=m(this._sliceBusinessHours),this.sliceDateSelection=m(this._sliceDateSpan),this.sliceEventStore=m(this._sliceEventStore),this.sliceEventDrag=m(this._sliceInteraction),this.sliceEventResize=m(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...i){var s=e["eventUiBases"],o=this.sliceEventStore(e.eventStore,s,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,s,r,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...i),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,s,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...i){return this._sliceDateSpan({range:{start:e,end:Gt(e,1)},allDay:!1},t,n,{},r,...i)}_sliceBusinessHours(e,t,n,r,...i){return e?this._sliceEventStore(Nn(e,ts(t,Boolean(n)),r),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,r,...i){return e?(e=si(e,t,ts(n,Boolean(r)),r),{bg:this.sliceEventRanges(e.bg,i),fg:this.sliceEventRanges(e.fg,i)}):{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...i){return e?(t=si(e.mutatedEvents,t,ts(n,Boolean(r)),r),{segs:this.sliceEventRanges(t.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}):null}_sliceDateSpan(e,t,n,r,i,...s){if(e){var t=ts(t,Boolean(n)),n=w(e.range,t);if(n){t=e=Object.assign(Object.assign({},e),{range:n}),n=r;var o,a={def:i=Kn((i=Xn({editable:!1},r=i)).refined,i.extra,"",t.allDay,!0,r),ui:di(i,n),instance:On(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0},r=this.sliceRange(e.range,...s);for(o of r)o.eventRange=a;return r}}return[]}sliceEventRanges(e,t){var n,r=[];for(n of e)r.push(...this.sliceEventRange(n,t));return r}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:O(n.start,1)});var r,t=this.sliceRange(n,...t);for(r of t)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return t}}function ts(e,t){var n=e.activeRange;return t?n:{start:Gt(n.start,e.slotMinTime.milliseconds),end:Gt(n.end,e.slotMaxTime.milliseconds-864e5)}}function ns(e,t,n){n=n.options.eventDataTransform,t=t?t.eventDataTransform:null;return t&&(e=rs(e,t)),e=n?rs(e,n):e}function rs(e,t){let n;if(t){n=[];for(var r of e){var i=t(r);i?n.push(i):null==i&&n.push(r)}}else n=e;return n}function is(e,t,n){let r=e["defs"],i=I(e.instances,e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo}));return{defs:r,instances:i}}function ss(e,t){return jn(e,e=>e.sourceId!==t)}function os(e,t,n){var r,i=e.mutatedEvents["instances"];for(r in i)if(!Sr(t.validRange,i[r].range))return!1;return ls({eventDrag:e},n)}function as(e,t,n){return!!Sr(t.validRange,e.range)&&ls({dateSelection:e},n)}function ls(e,t){var n=t.getCurrentData(),n=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||cs)(n,t)}function cs(e,t,n={},r){return!(e.eventDrag&&!function(e,t,n,r){let i=t.getCurrentData(),s=e.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=ci(a,s.isEvent?e.eventUiBases:{"":i.selectionConfig});r&&(c=I(c,r));r=e.eventStore,d=s.affectedEvents.instances;var d,u,h={defs:r.defs,instances:_(r.instances,e=>!d[e.instanceId])},f=h.defs,p=h.instances,g=ci(f,e.eventUiBases);for(u in l){var m=l[u],v=m.range,y=c[m.defId],b=a[m.defId];if(!ds(y.constraints,v,h,e.businessHours,t))return;var S,E=t.options["eventOverlap"],C="function"==typeof E?E:null;for(S in p){var D=p[S];if(br(v,D.range)){if(!1===g[D.defId].overlap&&s.isEvent)return;if(!1===y.overlap)return;if(C&&!C(new P(t,f[D.defId],D),new P(t,b,m)))return}}var w,R=i.eventStore;for(w of y.allows){var A=Object.assign(Object.assign({},n),{range:m.range,allDay:b.allDay}),x=R.defs[b.defId],T=R.instances[u],x=x?new P(t,x,T):new P(t,b);if(!w($r(A,t),x))return}}return 1}(e,t,n,r)||e.dateSelection&&!function(e,t,n,r){let i=e.eventStore,s=i.defs,o=i.instances,a=e.dateSelection,l=a.range,c=t.getCurrentData()["selectionConfig"];if(ds((c=r?r(c):c).constraints,l,i,e.businessHours,t)){var d,u,r=t.options["selectOverlap"],h="function"==typeof r?r:null;for(d in o){var f=o[d];if(br(l,f.range)){if(!1===c.overlap)return;if(h&&!h(new P(t,s[f.defId],f),null))return}}for(u of c.allows){var p=Object.assign(Object.assign({},n),a);if(!u($r(p,t),null))return}return 1}}(e,t,n,r))}function ds(e,t,n,r,i){for(var s of e)if(!function(e,t){for(var n of e)if(Sr(n,t))return 1;return}(function(t,e,n,r,i){return"businessHours"===t?us(Nn(r,e,i)):"string"==typeof t?us(jn(n,e=>e.groupId===t)):"object"==typeof t&&t?us(Nn(t,e,i)):[]}(s,t,n,r,i),t))return;return 1}function us(e){var t,n=e["instances"],r=[];for(t in n)r.push(n[t].range);return r}class hs extends Error{constructor(e,t){super(e),this.response=t}}function fs(e,t,n){var r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then(t=>{if(t.ok)return t.json().then(e=>[e,t],()=>{throw new hs("Failure parsing JSON",t)});throw new hs("Request failed",t)})}class ps{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){var t=this["pauseDepths"];t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){var n=this["pauseDepths"];e in n&&((t||(--n[e],n[e]<=0))&&delete n[e],this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}const gs=/^(visible|hidden)$/;class ms extends s{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,o(this.props.elRef,e)}}render(){var e=this["props"],{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,i=["fc-scroller"];return t&&i.push(n?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),S("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(!gs.test(this.props.overflowX)){var e=this["el"],t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),n=e["children"];for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().width>t)return!0}return!1}needsYScrolling(){if(!gs.test(this.props.overflowY)){var e=this["el"],t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),n=e["children"];for(let e=0;e<n.length;e+=1)if(n[e].getBoundingClientRect().height>t)return!0}return!1}getXScrollbarWidth(){return gs.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return gs.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class f{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,i=!1,s=!1;null!==e?(i=t in r,r[t]=e,n[t]=(n[t]||0)+1,s=!0):(--n[t],n[t]||(delete r[t],delete this.callbackMap[t],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(t)),s)&&this.masterCallback(e,String(t))}}createRef(t){let e=this.callbackMap[t];return e=e||(this.callbackMap[t]=e=>{this.handleValue(e,String(t))})}collect(e,t,n){return jt(this.currentMap,e,t,n)}getAll(){return Pt(this.currentMap)}}function vs(e){let t=Ze(e,".fc-scrollgrid-shrink"),n=0;for(var r of t)n=Math.max(n,function(e){var t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(n)return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width;throw new Error("needs fc-scrollgrid-shrink-cushion className")}(r));return Math.ceil(n)}function ys(e,t){return e.liquid&&t.liquid}function bs(e,t){return null!=t.maxHeight||ys(e,t)}function Ss(e,t,n,r){var i=n["expandRows"];return"function"==typeof t.content?t.content(n):S("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,S(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}function Es(e,t){return d(e,t,g)}function Cs(e,t){var n,r=[];for(n of e){var i=n.span||1;for(let e=0;e<i;e+=1)r.push(S("col",{style:{width:"shrink"===n.width?Ds(t):n.width||"",minWidth:n.minWidth||""}}))}return S("colgroup",{},...r)}function Ds(e){return null==e?4:e}function ws(e){for(var t of e)if("shrink"===t.width)return!0;return!1}function Rs(e,t){t=["fc-scrollgrid",t.theme.getClass("table")];return e&&t.push("fc-scrollgrid-liquid"),t}function As(e,t){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+e.type,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function xs(e){return S("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Ts(e){let t=e["stickyHeaderDates"];return t=null!=t&&"auto"!==t?t:"auto"===e.height||"auto"===e.viewHeight}function ks(e){let t=e["stickyFooterScrollbar"];return t=null!=t&&"auto"!==t?t:"auto"===e.height||"auto"===e.viewHeight}class Ms extends s{constructor(){super(...arguments),this.processCols=m(e=>e,Es),this.renderMicroColGroup=m(Cs),this.scrollerRefs=new f,this.scrollerElRefs=new f(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){var{props:e,state:t,context:n}=this,r=e.sections||[],i=this.processCols(e.cols),s=this.renderMicroColGroup(i,t.shrinkWidth),i=Rs(e.liquid,n);e.collapsibleWidth&&i.push("fc-scrollgrid-collapsible");let o,a=r.length,l=0,c=[],d=[],u=[];for(;l<a&&"header"===(o=r[l]).type;)c.push(this.renderSection(o,s,!0)),l+=1;for(;l<a&&"body"===(o=r[l]).type;)d.push(this.renderSection(o,s,!1)),l+=1;for(;l<a&&"footer"===(o=r[l]).type;)u.push(this.renderSection(o,s,!0)),l+=1;t=!hr(),n={role:"rowgroup"};return S("table",{role:"grid",className:i.join(" "),style:{height:e.height}},Boolean(!t&&c.length)&&S("thead",n,...c),Boolean(!t&&d.length)&&S("tbody",n,...d),Boolean(!t&&u.length)&&S("tfoot",n,...u),t&&S("tbody",n,...c,...d,...u))}renderSection(e,t,n){return"outerContent"in e?S(A,{key:e.key},e.outerContent):S("tr",{key:e.key,role:"presentation",className:As(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){var i,s,o,a,l,c;return"outerContent"in n?n.outerContent:(i=this["props"],{forceYScrollbars:l,scrollerClientWidths:s,scrollerClientHeights:o}=this.state,c=bs(i,e),a=ys(i,e),l=i.liquid?l?"scroll":c?"auto":"hidden":"visible",c=e.key,t=Ss(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:i.collapsibleWidth||void 0===s[c]?null:s[c],clientHeight:void 0!==o[c]?o[c]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r),S(r?"th":"td",{ref:n.elRef,role:"presentation"},S("div",{className:"fc-scroller-harness"+(a?" fc-scroller-harness-liquid":"")},S(ms,{ref:this.scrollerRefs.createRef(c),elRef:this.scrollerElRefs.createRef(c),overflowY:l,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:a,liquidIsAbsolute:!0},t))))}_handleScrollerEl(e,t){t=function(e,t){for(var n of e)if(n.key===t)return n;return null}(this.props.sections,t);t&&o(t.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return ws(this.props.cols)?vs(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Mr(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,i={},s={};for(var o in t.currentMap){o=t.currentMap[o];if(o&&o.needsYScrolling()){r=!0;break}}for(var a of this.props.sections){var a=a.key,l=n.currentMap[a];l&&(l=l.parentNode,i[a]=Math.floor(l.getBoundingClientRect().width-(r?e.y:0)),s[a]=Math.floor(l.getBoundingClientRect().height))}return{forceYScrollbars:r,scrollerClientWidths:i,scrollerClientHeights:s}}}Ms.addStateEquality({scrollerClientWidths:g,scrollerClientHeights:g});class _s extends s{constructor(){super(...arguments),this.handleEl=e=>{(this.el=e)&&ai(e,this.props.seg)}}render(){var{props:e,context:t}=this,n=t["options"],r=e["seg"],i=r["eventRange"],s=i["ui"],s={event:new P(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&function(e,t){let n=t["pluginHooks"],r=n.isDraggableTransformers,{def:i,ui:s}=e.eventRange,o=s.startEditable;for(var a of r)o=a(o,i,s,t);return o}(r,t),isStartResizable:!e.disableResizing&&(i=t,(s=r).isStart)&&s.eventRange.ui.durationEditable&&i.options.eventResizableFromStart,isEndResizable:!e.disableResizing&&(t=r).isEnd&&t.eventRange.ui.durationEditable,isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return S(h,Object.assign({},e,{elRef:this.handleEl,elClasses:[...(i=["fc-event"],(t=s).isMirror&&i.push("fc-event-mirror"),t.isDraggable&&i.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&i.push("fc-event-resizable"),t.isDragging&&i.push("fc-event-dragging"),t.isResizing&&i.push("fc-event-resizing"),t.isSelected&&i.push("fc-event-selected"),t.isStart&&i.push("fc-event-start"),t.isEnd&&i.push("fc-event-end"),t.isPast&&i.push("fc-event-past"),t.isToday&&i.push("fc-event-today"),t.isFuture&&i.push("fc-event-future"),i),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:s,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&ai(this.el,this.props.seg)}}class Is extends s{render(){var{props:e,context:t}=this,n=t["options"],r=e["seg"],i=r.eventRange["ui"],n=fi(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return S(_s,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:gi(r,t),defaultGenerator:Os,timeText:n}),(e,t)=>S(A,null,S(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&S("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&S("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function Os(e){return S("div",{className:"fc-event-main-frame"},e.timeText&&S("div",{className:"fc-event-time"},e.timeText),S("div",{className:"fc-event-title-container"},S("div",{className:"fc-event-title fc-sticky"},e.event.title||S(A,null,"Â "))))}const Ns=n=>S(u.Consumer,null,e=>{var t=e["options"],e={isAxis:n.isAxis,date:e.dateEnv.toDate(n.date),view:e.viewApi};return S(h,Object.assign({},n,{elTag:n.elTag||"div",renderProps:e,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),Ps=N({day:"numeric"});class Hs extends s{constructor(){super(...arguments),this.refineRenderProps=an(Bs)}render(){var{props:e,context:t}=this,n=t["options"],r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return S(h,Object.assign({},e,{elClasses:[...Cr(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":nn(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function Ws(e){return Boolean(e.dayCellContent||Ui("dayCellContent",e))}function Bs(e){var{date:t,dateEnv:n,dateProfile:r,isMonthStart:i}=e,r=Er(t,e.todayRange,null,r),s=e.showDayNumber?n.format(t,i?e.monthStartFormat:Ps):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},r),{isMonthStart:i,dayNumberText:s}),e.extraRenderProps)}class js extends s{render(){var e=this["props"],t=e["seg"];return S(_s,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:zs,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function zs(e){var t=e.event["title"];return t&&S("div",{className:"fc-event-title"},e.event.title)}function Ls(e){return S("div",{className:"fc-"+e})}const Us=i=>S(u.Consumer,null,e=>{var{dateEnv:e,options:t}=e,n=i["date"],r=t.weekNumberFormat||i.defaultFormat,e={num:e.computeWeekNumber(n),text:e.format(n,r),date:n};return S(h,Object.assign({},i,{renderProps:e,generatorName:"weekNumberContent",customGenerator:t.weekNumberContent,defaultGenerator:Gs,classNameGenerator:t.weekNumberClassNames,didMount:t.weekNumberDidMount,willUnmount:t.weekNumberWillUnmount}))});function Gs(e){return e.text}class Fs extends s{constructor(){super(...arguments),this.state={titleId:t()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&o(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{e=et(e);this.rootEl.contains(e)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{var e=this.props["onClose"];e&&e()}}render(){var{theme:e,options:t}=this.context,{props:n,state:r}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]),i=S("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),S("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},S("span",{className:"fc-popover-title",id:r.titleId},n.title),S("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),S("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),r=n.parentEl;return(i=S(Me,{__v:i,i:r})).containerInfo=r,i}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){var e,t=this.context["isRtl"],{alignmentEl:n,alignGridTop:r}=this.props,i=this["rootEl"],s=function(e){let t=Pr(e),n=e.getBoundingClientRect();for(var r of t){r=or(n,r.getBoundingClientRect());if(!r)return null;n=r}return n}(n);s&&(e=i.getBoundingClientRect(),r=(r?l(n,".fc-scrollgrid").getBoundingClientRect():s).top,n=t?s.right-e.width:s.left,r=Math.max(r,10),n=Math.min(n,document.documentElement.clientWidth-10-e.width),n=Math.max(n,10),t=i.offsetParent.getBoundingClientRect(),Ke(i,{top:r-t.top,left:n-t.left}))}}class Vs extends a{constructor(){super(...arguments),this.handleRootEl=e=>{(this.rootEl=e)?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:r,dateEnv:e}=this.context,i=this["props"],{startDate:t,todayRange:n,dateProfile:s}=i,o=e.format(t,r.dayPopoverFormat);return S(Hs,{elRef:this.handleRootEl,date:t,dateProfile:s,todayRange:n},(e,t,n)=>S(Fs,{elRef:n.ref,id:i.id,title:o,extraClassNames:["fc-more-popover"].concat(n.className||[]),extraAttrs:n,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},Ws(r)&&S(e,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,t,n,r){var{rootEl:i,props:s}=this;return 0<=e&&e<n&&0<=t&&t<r?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class qs extends s{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:t()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&o(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:i}=this,n=i.options["moreLinkClick"],r=Qs(t).start;function s(e){var{def:t,instance:n,range:r}=e.eventRange;return{event:new P(i,t,n),start:i.dateEnv.toDate(r.start),end:i.dateEnv.toDate(r.end),isStart:e.isStart,isEnd:e.isEnd}}(n="function"==typeof n?n({date:r,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:i.viewApi}):n)&&"popover"!==n?"string"==typeof n&&i.calendarApi.zoomTo(r,n):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:o,state:a}=this;return S(u.Consumer,null,e=>{var{viewApi:e,options:t,calendarApi:n}=e,r=t["moreLinkText"],i=o["moreCnt"],s=Qs(o),n="function"==typeof r?r.call(n,i):`+${i} `+r,r=yt(t.moreLinkHint,[i],n),i={num:i,shortText:"+"+i,text:n,view:e};return S(A,null,Boolean(o.moreCnt)&&S(h,{elTag:o.elTag||"a",elRef:this.handleLinkEl,elClasses:[...o.elClasses||[],"fc-more-link"],elStyle:o.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},o.elAttrs),ot(this.handleClick)),{title:r,"aria-expanded":a.isPopoverOpen,"aria-controls":a.isPopoverOpen?a.popoverId:""}),renderProps:i,generatorName:"moreLinkContent",customGenerator:t.moreLinkContent,defaultGenerator:o.defaultGenerator||Ys,classNameGenerator:t.moreLinkClassNames,didMount:t.moreLinkDidMount,willUnmount:t.moreLinkWillUnmount},o.children),a.isPopoverOpen&&S(Vs,{id:a.popoverId,startDate:s.start,endDate:s.end,dateProfile:o.dateProfile,todayRange:o.todayRange,extraDateSpan:o.extraDateSpan,parentEl:this.parentEl,alignmentEl:o.alignmentElRef?o.alignmentElRef.current:this.linkEl,alignGridTop:o.alignGridTop,forceTimed:o.forceTimed,onClose:this.handlePopoverClose},o.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=l(this.linkEl,".fc-view-harness"))}}function Ys(e){return e.text}function Qs(e){return e.allDayDate?{start:e.allDayDate,end:O(e.allDayDate,1)}:(e=e["hiddenSegs"],{start:Zs(e),end:e.reduce(Js).eventRange.range.end})}function Zs(e){return e.reduce(Xs).eventRange.range.start}function Xs(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function Js(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class Ks extends s{render(){let{props:e,context:t}=this,n=t["options"],r={view:t.viewApi};return S(h,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...$s(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function $s(e){return[`fc-${e.type}-view`,"fc-view"]}const eo={id:String,defaultAllDay:Boolean,url:String,format:String,events:n,eventDataTransform:n,success:n,failure:n};function to(e,i,t=no(i)){let n;if("string"==typeof e?n={url:e}:"function"==typeof e||Array.isArray(e)?n={events:e}:"object"==typeof e&&e&&(n=e),n){var{refined:t,extra:r}=In(n,t),s=function(t){var n=i.pluginHooks.eventSourceDefs;for(let e=n.length-1;0<=e;--e){var r=n[e].parseMeta(t);if(r)return{sourceDefId:e,meta:r}}return null}(t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:t.defaultAllDay,eventDataTransform:t.eventDataTransform,success:t.success,failure:t.failure,publicId:t.id||"",sourceId:c(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Gn(t,i),extendedProps:r}}return null}function no(e){return Object.assign(Object.assign(Object.assign({},Ln),eo),e.pluginHooks.eventSourceRefiners)}class ro{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){var n=this["currentDataManager"];n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(t,n){this.batchRendering(()=>{var e;this.unselect(),n?n.start&&n.end?(this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n})):(e=this.getCurrentData()["dateEnv"],this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:e.createMarker(n)})):this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(e,t){t=t||"day",t=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),t?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:i}=this.getCurrentData(),s=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]);for(var o in r)s.push(o);for(t=0;t<s.length;t+=1)if((n=r[s[t]])&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Xr(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){var t=this.getCurrentData(),e=k(e);e&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,e)}))}getDate(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){var n=this.getCurrentData()["dateEnv"];return n.format(n.createMarker(e),N(t))}formatRange(e,t,n){var r=this.getCurrentData()["dateEnv"];return r.formatRange(r.createMarker(e),r.createMarker(t),N(n),n)}formatIso(e,t){var n=this.getCurrentData()["dateEnv"];return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){e=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t},t=this.getCurrentData(),e=function(o,e,t){var n=function(e){let{refined:t,extra:n}=In(o,mi),r=t.start?e.createMarkerMeta(t.start):null,i=t.end?e.createMarkerMeta(t.end):null,s=t["allDay"];return null==s&&(s=r&&r.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:r?r.marker:null,end:i?i.marker:null},allDay:s},n)}(e),r=n["range"];if(!r.start)return null;if(!r.end){if(null==t)return null;r.end=e.add(r.start,t)}return n}(e,t.dateEnv,k({days:1}));e&&(this.dispatch({type:"SELECT_DATES",selection:e}),Kr(e,null,t))}unselect(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),(t=t).emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}addEvent(e,t){if(e instanceof P)return i=e._def,s=e._instance,this.getCurrentData().eventStore.defs[i.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Hn({def:i,instance:s})}),this.triggerEventAdd(e)),e;let n,r=this.getCurrentData();if(t instanceof ni)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=Pt(r.eventSources));else if(null!=t){var i=this.getEventSourceById(t);if(!i)return console.warn(`Could not find an event source with ID "${t}"`),null;n=i.internalEventSource}var s=Zn(e,n,r,!1);return s?(t=new P(r,s.def,s.def.recurringDef?null:s.instance),this.dispatch({type:"ADD_EVENTS",eventStore:Hn(s)}),this.triggerEventAdd(t),t):null}triggerEventAdd(e){var t=this.getCurrentData()["emitter"];t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:ri(e)})}})}getEventById(e){var t,n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;for(t in e=String(e),r){var s=r[t];if(s.publicId===e){if(s.recurringDef)return new P(n,s,null);for(var o in i){o=i[o];if(o.defId===s.defId)return new P(n,s,o)}}}return null}getEvents(){var e=this.getCurrentData();return ii(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){var e,t=this.getCurrentData(),n=t.eventSources,r=[];for(e in n)r.push(new ni(t,n[e]));return r}getEventSourceById(e){var t,n=this.getCurrentData(),r=n.eventSources;for(t in e=String(e),r)if(r[t].publicId===e)return new ni(n,r[t]);return null}addEventSource(e){var t=this.getCurrentData();return e instanceof ni?(t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e):(e=to(e,t))?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e]}),new ni(t,e)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){e=k(e);e&&this.trigger("_scrollRequest",{time:e})}}var io={__proto__:null,BASE_OPTION_DEFAULTS:wn,BaseComponent:s,BgEvent:js,CalendarImpl:ro,CalendarRoot:Wi,ContentContainer:h,CustomRenderingStore:class extends class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(var t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}{constructor(){super(...arguments),this.map=new Map}handle(e){var t=this["map"];let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}},DateComponent:a,DateEnv:Di,DateProfileGenerator:Jr,DayCellContainer:Hs,DayHeader:Xi,DaySeriesModel:Ki,DayTableModel:$i,DelayedRunner:ps,ElementDragging:Ni,ElementScrollController:Lr,Emitter:Wr,EventContainer:_s,EventImpl:P,Interaction:_i,MoreLinkContainer:qs,NamedTimeZoneImpl:class{constructor(e){this.timeZoneName=e}},NowIndicatorContainer:Ns,NowTimer:y,PositionCache:Br,RefMap:f,ScrollController:zr,ScrollResponder:Yr,Scroller:ms,SegHierarchy:wi,SimpleScrollGrid:Ms,Slicer:es,Splitter:pr,StandardEvent:Is,TableDateCell:qi,TableDowCell:Qi,Theme:Gr,ViewContainer:Ks,ViewContextType:u,WeekNumberContainer:Us,WindowScrollController:Ur,addDays:O,addDurations:Rt,addMs:Gt,addWeeks:Ut,allowContextMenu:pt,allowSelection:ht,applyMutationToEventStore:ti,applyStyle:Ke,asCleanDays:wt,asRoughMinutes:Tt,asRoughMs:M,asRoughSeconds:kt,binarySearch:Mi,buildElAttrs:Gi,buildEntryKey:Ai,buildEventApis:ii,buildEventRangeKey:pi,buildIsoString:tn,buildNavLinkAttrs:Ar,buildSegTimeText:fi,collectFromHash:jt,combineEventUis:Fn,compareByFieldSpecs:mt,compareNumbers:bt,compareObjs:Bt,computeEarliestSegStart:Zs,computeEdges:Ir,computeFallbackHeaderFormat:Bi,computeInnerRect:Or,computeRect:Nr,computeShrinkWidth:vs,computeVisibleDayRange:nr,config:H,constrainPoint:lr,createDuration:k,createEmptyEventStore:function(){return{defs:{},instances:{}}},createEventInstance:On,createEventUi:Gn,createFormatter:N,diffDates:ir,diffDayAndTime:qt,diffDays:Vt,diffPoints:dr,diffWeeks:Ft,diffWholeDays:Qt,diffWholeWeeks:Yt,disableCursor:ct,elementClosest:l,elementMatches:Qe,enableCursor:dt,eventTupleToStore:Hn,filterHash:_,findDirectChildren:Xe,findElements:Ze,flexibleCompare:vt,formatDayString:nn,formatIsoMonthStr:rn,formatIsoTimeString:sn,getAllowYScrolling:bs,getCanVGrowWithinCell:hr,getClippingParents:Pr,getDateMeta:Er,getDayClassNames:Cr,getDefaultEventEnd:ei,getElSeg:li,getEntrySpanEnd:Ri,getEventTargetViaRoot:et,getIsRtlScrollbarOnLeft:kr,getRectCenter:cr,getRelevantEvents:Wn,getScrollGridClassNames:Rs,getScrollbarWidths:Mr,getSectionClassNames:As,getSectionHasLiquidHeight:ys,getSegAnchorAttrs:gi,getSegMeta:E,getSlotClassNames:Dr,getStickyFooterScrollbar:ks,getStickyHeaderDates:Ts,getUniqueDomId:t,greatestDurationDenominator:_t,groupIntersectingEntries:xi,guid:c,hasBgRendering:oi,hasCustomDayCellContent:Ws,hasShrinkWidth:ws,identity:n,injectStyles:Ge,interactionSettingsStore:Oi,interactionSettingsToStore:Ii,intersectRanges:w,intersectRects:or,intersectSpans:Ti,isArraysEqual:d,isColPropsEqual:Es,isDateSelectionValid:as,isDateSpansEqual:vi,isInt:St,isInteractionValid:os,isMultiDayRange:rr,isPropsEqual:g,isPropsValid:cs,isValidDate:$t,mapHash:I,memoize:m,memoizeArraylike:ln,memoizeHashlike:cn,memoizeObjArg:an,mergeEventStores:Bn,multiplyDuration:At,padStart:T,parseBusinessHours:er,parseClassNames:zn,parseDragMeta:Hi,parseEventDef:Kn,parseFieldSpecs:gt,parseMarker:Ci,pointInsideRect:sr,preventContextMenu:ft,preventDefault:nt,preventSelection:ut,rangeContainsMarker:b,rangeContainsRange:Sr,rangesEqual:yr,rangesIntersect:br,refineEventDef:Xn,refineProps:In,removeElement:Ye,removeExact:zt,renderChunkContent:Ss,renderFill:Ls,renderMicroColGroup:Cs,renderScrollShim:xs,requestJson:fs,sanitizeShrinkWidth:Ds,setRef:o,sliceEventStore:si,sortEventSegs:ui,startOfDay:v,translateRect:ar,triggerDateSelect:Kr,unpromisify:Hr,whenTransitionDone:st,wholeDivideDurations:Mt};const so=[],oo={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},ao=Object.assign(Object.assign({},oo),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(e,t)=>"day"===t?"Today":"This "+e},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:e=>`Show ${e} more event`+(1===e?"":"s")});function lo(e){var t,n=0<e.length?e[0].code:"en",e=so.concat(e),r={en:ao};for(t of e)r[t.code]=t;return{map:r,defaultCode:n}}function co(e,t){return"object"!=typeof e||Array.isArray(e)?(t=t,r=[].concat((n=e)||[]),uo(n,r,function(t,n){for(let e=0;e<t.length;e+=1){var r=t[e].toLocaleLowerCase().split("-");for(let e=r.length;0<e;--e){var i=r.slice(0,e).join("-");if(n[i])return n[i]}}return null}(r,t)||ao)):uo(e.code,[e.code],e);var n,r}function uo(e,t,n){var n=Ot([oo,n],["buttonText"]),r=(delete n.code,n)["week"];return delete n.week,{codeArg:e,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(e),options:n}}function p(e){return{id:c(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function ho(){let n,r=[],i=[];return(t,e)=>(n&&d(t,r)&&d(e,i)||(n=function(e){let a={},l={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function c(e){for(var t of e){const e=t.name,o=a[e];void 0===o?(a[e]=t.id,c(t.deps),s=t,l={premiumReleaseDate:(n=(i=l).premiumReleaseDate,r=s.premiumReleaseDate,void 0===n?r:void 0===r?n:new Date(Math.max(n.valueOf(),r.valueOf()))),reducers:i.reducers.concat(s.reducers),isLoadingFuncs:i.isLoadingFuncs.concat(s.isLoadingFuncs),contextInit:i.contextInit.concat(s.contextInit),eventRefiners:Object.assign(Object.assign({},i.eventRefiners),s.eventRefiners),eventDefMemberAdders:i.eventDefMemberAdders.concat(s.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},i.eventSourceRefiners),s.eventSourceRefiners),isDraggableTransformers:i.isDraggableTransformers.concat(s.isDraggableTransformers),eventDragMutationMassagers:i.eventDragMutationMassagers.concat(s.eventDragMutationMassagers),eventDefMutationAppliers:i.eventDefMutationAppliers.concat(s.eventDefMutationAppliers),dateSelectionTransformers:i.dateSelectionTransformers.concat(s.dateSelectionTransformers),datePointTransforms:i.datePointTransforms.concat(s.datePointTransforms),dateSpanTransforms:i.dateSpanTransforms.concat(s.dateSpanTransforms),views:Object.assign(Object.assign({},i.views),s.views),viewPropsTransformers:i.viewPropsTransformers.concat(s.viewPropsTransformers),isPropsValid:s.isPropsValid||i.isPropsValid,externalDefTransforms:i.externalDefTransforms.concat(s.externalDefTransforms),viewContainerAppends:i.viewContainerAppends.concat(s.viewContainerAppends),eventDropTransformers:i.eventDropTransformers.concat(s.eventDropTransformers),calendarInteractions:i.calendarInteractions.concat(s.calendarInteractions),componentInteractions:i.componentInteractions.concat(s.componentInteractions),themeClasses:Object.assign(Object.assign({},i.themeClasses),s.themeClasses),eventSourceDefs:i.eventSourceDefs.concat(s.eventSourceDefs),cmdFormatter:s.cmdFormatter||i.cmdFormatter,recurringTypes:i.recurringTypes.concat(s.recurringTypes),namedTimeZonedImpl:s.namedTimeZonedImpl||i.namedTimeZonedImpl,initialView:i.initialView||s.initialView,elementDraggingImpl:i.elementDraggingImpl||s.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},i.optionChangeHandlers),s.optionChangeHandlers),scrollGridImpl:s.scrollGridImpl||i.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},i.listenerRefiners),s.listenerRefiners),optionRefiners:Object.assign(Object.assign({},i.optionRefiners),s.optionRefiners),propSetHandlers:Object.assign(Object.assign({},i.propSetHandlers),s.propSetHandlers)}):o!==t.id&&console.warn(`Duplicate plugin '${e}'`)}var n,r,i,s}return t&&c(t),c(e),l}(e)),r=t,i=e,n)}class fo extends Gr{}function po(e,t,n,r){return t[e]||((n=function(e,t,n,r){let i=n[e],s=r[e],o=e=>i&&null!==i[e]?i[e]:s&&null!==s[e]?s[e]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===e)throw new Error("Can't have a custom view type that references itself");c=po(l,t,n,r)}return(a=!a&&c?c.component:a)?{type:e,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}(e,t,n,r))&&(t[e]=n),n)}function go(e){return I(e,mo)}function mo(e){let t="function"==typeof e?{component:e}:e,n=t["component"];return t.content?n=vo(t):!n||n.prototype instanceof s||(n=vo(Object.assign(Object.assign({},t),{content:n}))),{superType:t.type,component:n,rawOptions:t}}function vo(n){return t=>S(u.Consumer,null,e=>S(h,{elTag:"div",elClasses:$s(e.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:e.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function yo(e,u,h,f){let t=go(e),p=go(u.views);return I(function(e,t){let n,r={};for(n in e)po(n,r,e,t);for(n in t)po(n,r,e,t);return r}(t,p),s=>{{var o=s,a=(s=p,u),l=h,c=f;let e=o.overrides.duration||o.defaults.duration||l.duration||a.duration,t=null,n="",r="",i={};e&&(t=function(e){let t=JSON.stringify(e),n=bo[t];return void 0===n&&(n=k(e),bo[t]=n),n}(e))&&(d=_t(t),n=d.unit,1===d.value&&(r=n,i=s[n]?s[n].rawOptions:{}));var d=e=>{var e=e.buttonText||{},t=o.defaults.buttonTextKey;return null!=t&&null!=e[t]?e[t]:null!=e[o.type]?e[o.type]:null!=e[r]?e[r]:null},s=e=>{var e=e.buttonHints||{},t=o.defaults.buttonTextKey;return null!=t&&null!=e[t]?e[t]:null!=e[o.type]?e[o.type]:null!=e[r]?e[r]:null};return{type:o.type,component:o.component,duration:t,durationUnit:n,singleUnit:r,optionDefaults:o.defaults,optionOverrides:Object.assign(Object.assign({},i),o.overrides),buttonTextOverride:d(l)||d(a)||o.overrides.buttonText,buttonTextDefault:d(c)||o.defaults.buttonText||d(wn)||o.type,buttonTitleOverride:s(l)||s(a)||o.overrides.buttonHint,buttonTitleDefault:s(c)||o.defaults.buttonHint||s(wn)}}})}fo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},fo.prototype.baseIconClass="fc-icon",fo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},fo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},fo.prototype.iconOverrideOption="buttonIcons",fo.prototype.iconOverrideCustomButtonOption="icon",fo.prototype.iconOverridePrefix="fc-icon-";let bo={};function So(e){for(var t in e)if(e[t].isFetching)return!0;return!1}function Eo(e,t,n,r){let i={};for(var s of t)i[s.sourceId]=s;return n&&(i=Co(i,n,r)),Object.assign(Object.assign({},e),i)}function Co(e,t,n){return Do(e,_(e,e=>Ro(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId),t,!1,n)}function Do(e,t,n,r,i){var s,o={};for(s in e){var a=e[s];t[s]?o[s]=function(n,r,e,i){let{options:s,calendarApi:o}=i,t=i.pluginHooks.eventSourceDefs[n.sourceDefId],a=c();return t.fetch({eventSource:n,range:r,isRefetch:e,context:i},e=>{let t=e["rawEvents"];s.eventSourceSuccess&&(t=s.eventSourceSuccess.call(o,t,e.response)||t),n.success&&(t=n.success.call(o,t,e.response)||t),i.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:a,fetchRange:r,rawEvents:t})},e=>{let t=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(o,e),t=!0),n.failure&&(n.failure(e),t=!0),t||console.warn(e.message,e),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:a,fetchRange:r,error:e})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:a})}(a,n,r,i):o[s]=a}return o}function wo(e,t){return _(e,e=>Ro(e,t))}function Ro(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function Ao(e,t,n,r,i){return{header:e.headerToolbar?xo(e.headerToolbar,e,t,n,r,i):null,footer:e.footerToolbar?xo(e.footerToolbar,e,t,n,r,i):null}}function xo(e,t,n,r,i,s){let o={},a=[],l=!1;for(var c in e){var d=function(e,l,t,c,d,u){let h="rtl"===l.direction,f=l.customButtons||{},p=t.buttonText||{},g=l.buttonText||{},m=t.buttonHints||{},v=l.buttonHints||{},n=e?e.split(" "):[],y=[],b=!1;return{widgets:n.map(e=>e.split(",").map(t=>{if("title"===t)return b=!0,{buttonName:t};let n,e,r,i,s,o;var a;return(n=f[t])?(r=e=>{n.click&&n.click.call(e.target,e,e.target)},(i=(i=c.getCustomButtonIconClass(n))||c.getIconClass(t,h))||(s=n.text),o=n.hint||n.text):(e=d[t])?(y.push(t),r=()=>{u.changeView(t)},(s=e.buttonTextOverride)||(i=c.getIconClass(t,h))||(s=e.buttonTextDefault),a=e.buttonTextOverride||e.buttonTextDefault,o=yt(e.buttonTitleOverride||e.buttonTitleDefault||l.viewHint,[a,t],a)):u[t]&&(r=()=>{u[t]()},(s=p[t])||(i=c.getIconClass(t,h))||(s=g[t]),o="prevYear"===t||"nextYear"===t?(a="prevYear"===t?"prev":"next",yt(m[a]||v[a],[g.year||"year","year"],g[t])):e=>yt(m[t]||v[t],[g[e]||e,e],g[t])),{buttonName:t,buttonClick:r,buttonIcon:i,buttonText:s,buttonHint:o}})),viewsWithButtons:y,hasTitle:b}}(e[c],t,n,r,i,s);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}class To{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}function ko(e,t){var n=Pt(t.getCurrentData().eventSources);if(1===n.length&&1===e.length&&Array.isArray(n[0]._raw)&&Array.isArray(e[0]))t.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:e[0]});else{var r,i,s,o=[];for(r of e){let t=!1;for(let e=0;e<n.length;e+=1)if(n[e]._raw===r){n.splice(e,1),t=!0;break}t||o.push(r)}for(i of n)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(s of o)t.calendarApi.addEventSource(s)}}const Mo=[p({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:e=>Array.isArray(e.events)?e.events:null,fetch(e,t){t({rawEvents:e.eventSource.meta})}}]}),p({name:"func-event-source",eventSourceDefs:[{parseMeta:e=>"function"==typeof e.events?e.events:null,fetch(e,t,n){var r=e.context["dateEnv"];Hr(e.eventSource.meta.bind(null,yi(e.range,r)),e=>t({rawEvents:e}),n)}}]}),p({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:n,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:e=>!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam},fetch(c,n,e){var t=c.eventSource["meta"],r=function(e,t){let n,r,i,s,{dateEnv:o,options:a}=c.context,l={};return null==(n=e.startParam)&&(n=a.startParam),null==(r=e.endParam)&&(r=a.endParam),null==(i=e.timeZoneParam)&&(i=a.timeZoneParam),s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},Object.assign(l,s),l[n]=o.formatIso(t.start),l[r]=o.formatIso(t.end),"local"!==o.timeZone&&(l[i]=o.timeZone),l}(t,c.range);fs(t.method,t.url,r).then(([e,t])=>{n({rawEvents:e,response:t})},e)}}]}),p({name:"simple-recurring-event",recurringTypes:[{parse(n,r){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let e,t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?r.createMarker(n.startRecur):null,endRecur:n.endRecur?r.createMarker(n.endRecur):null};return!(e=n.duration?n.duration:e)&&n.startTime&&n.endTime&&(r=n.endTime,i=n.startTime,e={years:r.years-i.years,months:r.months-i.months,days:r.days-i.days,milliseconds:r.milliseconds-i.milliseconds}),{allDayGuess:Boolean(!n.startTime&&!n.endTime),duration:e,typeData:t}}var i;return null},expand(i,s,o){var a,s=w(s,{start:i.startRecur,end:i.endRecur});if(s){var l=i.daysOfWeek,c=i.startTime,i=s,d=o;let e=l?Nt(l):null,t=v(i.start),n=i.end,r=[];for(;t<n;)e&&!e[t.getUTCDay()]||(a=c?d.add(t,c):t,r.push(a)),t=O(t,1);return r}return[]}}],eventRefiners:{daysOfWeek:n,startTime:k,endTime:k,duration:k,startRecur:n,endRecur:n}}),p({name:"change-handler",optionChangeHandlers:{events(e,t){ko([e],t)},eventSources:ko}}),p({name:"misc",isLoadingFuncs:[e=>So(e.eventSources)],propSetHandlers:{dateProfile:function(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},yi(e.activeRange,t.dateEnv)),{view:t.viewApi}))},eventStore:function(e,t){var n=t["emitter"];n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ii(e,t))}}})];class _o{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new ps(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){for(var e=this["queue"];e.length;){for(var t,n=[];t=e.shift();)this.runTask(t),n.push(t);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function Io(e,t,n){var r=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange;return n.formatRange(r.start,r.end,N(t.titleFormat||("year"===(n=e.currentRangeUnit)?{year:"numeric"}:"month"===n?{year:"numeric",month:"long"}:null!==(n=Qt(e.currentRange.start,e.currentRange.end))&&1<n?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"})),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}class Oo{constructor(e){this.computeCurrentViewData=m(this._computeCurrentViewData),this.organizeRawLocales=m(lo),this.buildLocale=m(co),this.buildPluginHooks=ho(),this.buildDateEnv=m(No),this.buildTheme=m(Po),this.parseToolbars=m(Ao),this.buildViewSpecs=m(yo),this.buildDateProfileGenerator=an(Ho),this.buildViewApi=m(Wo),this.buildViewUiProps=an(zo),this.buildEventUiBySource=m(Bo,g),this.buildEventUiBases=m(jo),this.parseContextBusinessHours=an(Uo),this.buildTitle=m(Io),this.emitter=new Wr,this.actionRunner=new _o(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=e=>{this.actionRunner.request(e)},this.props=e,this.actionRunner.pause();var t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),r=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(r,n,e.optionOverrides,t);(e.calendarApi.currentDataManager=this).emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);u=n.calendarOptions,d=n.dateEnv;let s=null!=(c=u.initialDate)?d.createMarker(c):Xr(u.now,d),o=i.dateProfileGenerator.build(s);b(o.activeRange,s)||(s=o.currentRange.start);var a,l={dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(a of n.pluginHooks.contextInit)a(l);c=n.calendarOptions,u=l,d=(d=o)?d.activeRange:null;var c,d,u,h,i=Eo({},function(e,t){var n,r=no(t),i=[].concat(e.eventSources||[]),s=[];e.initialEvents&&i.unshift(e.initialEvents),e.events&&i.unshift(e.events);for(n of i){var o=to(n,t,r);o&&s.push(o)}return s}(c,u),d,u),f={dynamicOptionOverrides:t,currentViewType:r,currentDate:s,dateProfile:o,businessHours:this.parseContextBusinessHours(l),eventSources:i,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},p=Object.assign(Object.assign({},l),f);for(h of n.pluginHooks.reducers)Object.assign(f,h(null,null,p));Lo(f,l)&&this.emitter.trigger("loading",!0),this.state=f,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){var n=this["props"];void 0===t?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),void 0!==t&&!t.length||this.actionRunner.request({type:"NOTHING"})}_handleAction(e){var{props:t,state:n,emitter:r}=this,i=(i=n.dynamicOptionOverrides,"SET_OPTION"!==(s=e).type?i:Object.assign(Object.assign({},i),{[s.optionName]:s.rawOptionValue})),s=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),o=(o=n.currentViewType,o="CHANGE_VIEW_TYPE"===e.type?e.viewType:o),a=this.computeCurrentViewData(o,s,t.optionOverrides,i);t.calendarApi.currentDataManager=this,r.setThisContext(t.calendarApi),r.setOptions(a.options);let l={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:r,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=n;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(d=a.dateProfileGenerator.build(c)),c=(h=c,"CHANGE_DATE"!==e.type?h:e.dateMarker),d=function(e,t,n,r){let i;switch(t.type){case"CHANGE_VIEW_TYPE":return r.build(t.dateMarker||n);case"CHANGE_DATE":return r.build(t.dateMarker);case"PREV":if((i=r.buildPrev(e,n)).isValid)return i;break;case"NEXT":if((i=r.buildNext(e,n)).isValid)return i}return e}(d,e,c,a.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&b(d.currentRange,c)||(c=d.currentRange.start);var u,h=function(e,t,n,r){var i,s,o,a,l,c,d=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return Eo(e,t.sources,d,r);case"REMOVE_EVENT_SOURCE":return c=t.sourceId,_(e,e=>e.sourceId!==c);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Co(e,d,r):e;case"FETCH_EVENT_SOURCES":return Do(e,t.sourceIds?Nt(t.sourceIds):wo(e,r),d,t.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return i=e,s=t.sourceId,o=t.fetchId,a=t.fetchRange,(l=i[s])&&o===l.latestFetchId?Object.assign(Object.assign({},i),{[s]:Object.assign(Object.assign({},l),{isFetching:!1,fetchRange:a})}):i;case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}(n.eventSources,e,d,l),f=function(e,t,n,r,i){switch(t.type){case"RECEIVE_EVENTS":var s=e,o=n[t.sourceId],a=t.fetchId,l=t.fetchRange,c=t.rawEvents,d=i;if(o&&a===o.latestFetchId){let e=Pn(ns(c,o,d),o,d);return l&&(e=Nn(e,l,d)),Bn(ss(s,o.sourceId),e)}return s;case"RESET_RAW_EVENTS":var u=e,a=n[t.sourceId],c=t.rawEvents,l=r.activeRange,d=i,{defIdMap:o,instanceIdMap:s}=function(){const{defs:e,instances:t}=u,n={},r={};for(var i in e){const t=e[i],r=t["publicId"];r&&(n[r]=i)}for(var s in t){const n=t[s],o=e[n.defId],a=o["publicId"];a&&(r[a]=s)}return{defIdMap:n,instanceIdMap:r}}();return Nn(Pn(ns(c,a,d),a,d,!1,o,s),l,d);case"ADD_EVENTS":return b=t.eventStore,S=r?r.activeRange:null,Bn(e,b=S?Nn(b,S,i):b);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Bn(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Nn(e,r.activeRange,i):e;case"REMOVE_EVENTS":var h,f,p=t.eventStore,{defs:g,instances:m}=e,v={},y={};for(h in g)p.defs[h]||(v[h]=g[h]);for(f in m)!p.instances[f]&&v[m[f].defId]&&(y[f]=m[f]);return{defs:v,instances:y};case"REMOVE_EVENT_SOURCE":return ss(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return jn(e,e=>!e.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return e}var b,S}(n.eventStore,e,h,d,l),a=So(h)&&!a.options.progressiveEventRendering&&n.renderableEventStore||f,{eventUiSingleBase:p,selectionConfig:g}=this.buildViewUiProps(l),m=this.buildEventUiBySource(h),v={dynamicOptionOverrides:i,currentViewType:o,currentDate:c,dateProfile:d,eventSources:h,eventStore:f,renderableEventStore:a,selectionConfig:g,eventUiBases:this.buildEventUiBases(a.defs,p,m),businessHours:this.parseContextBusinessHours(l),dateSelection:function(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}(n.dateSelection,e),eventSelection:function(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}(n.eventSelection,e),eventDrag:function(e,t){var n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(n.eventDrag,e),eventResize:function(e,t){var n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(n=t.state).affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}(n.eventResize,e)},y=Object.assign(Object.assign({},l),v);for(u of s.pluginHooks.reducers)Object.assign(v,u(n,e,y));i=Lo(n,l),o=Lo(v,l);!i&&o?r.trigger("loading",!0):i&&!o&&r.trigger("loading",!1),this.state=v,t.onAction&&t.onAction(e)}updateData(){var{props:e,state:t}=this,n=this.data,r=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,r,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,i.options,r.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},r),i),t),o=r.pluginHooks.optionChangeHandlers,a=n&&n.calendarOptions,l=r.calendarOptions;if(a&&a!==l)for(var c in a.timeZone!==l.timeZone&&(t.eventSources=s.eventSources=function(e,t,n){t=t?t.activeRange:null;return Do(e,wo(e,n),t,!0,n)}(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=is(s.eventStore,n.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=is(s.renderableEventStore,n.dateEnv,s.dateEnv)),o)-1===this.optionsForHandling.indexOf(c)&&a[c]===l[c]||o[c](l[c],s);this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,n){var r,i,s,o,a;return this.optionsForRefining.length||e!==this.stableOptionOverrides||t!==this.stableDynamicOptionOverrides?({refinedOptions:e,pluginHooks:t,localeDefaults:r,availableLocaleData:i,extra:s}=this.processRawCalendarOptions(e,t),Go(s),s=this.buildDateEnv(e.timeZone,e.locale,e.weekNumberCalculation,e.firstDay,e.weekText,t,i,e.defaultRangeSeparator),o=this.buildViewSpecs(t.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,r),a=this.buildTheme(e,t),n=this.parseToolbars(e,this.stableOptionOverrides,a,o,n),this.stableCalendarOptionsData={calendarOptions:e,pluginHooks:t,dateEnv:s,viewSpecs:o,theme:a,toolbarConfig:n,localeDefaults:r,availableRawLocales:i.map}):this.stableCalendarOptionsData}processRawCalendarOptions(e,t){let{locales:n,locale:r}=_n([wn,e,t]),i=this.organizeRawLocales(n),s=i.map,o=this.buildLocale(r||i.defaultCode,s).options,a=this.buildPluginHooks(e.plugins||[],Mo),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Dn),Rn),An),a.listenerRefiners),a.optionRefiners),c={},d=_n([wn,o,e,t]),u={},h=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,p=!1;for(var g in d)-1===this.optionsForRefining.indexOf(g)&&(d[g]===h[g]||xn[g]&&g in h&&xn[g](h[g],d[g]))?u[g]=f[g]:l[g]?(u[g]=l[g](d[g]),p=!0):c[g]=h[g];return p&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=u,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:i,localeDefaults:o,extra:c}}_computeCurrentViewData(e,t,n,r){var i=t.viewSpecs[e];if(i)return{refinedOptions:n,extra:r}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,r),Go(r),{viewSpec:i,options:n,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:n.slotMinTime,slotMaxTime:n.slotMaxTime,showNonCurrentDates:n.showNonCurrentDates,dayCount:n.dayCount,dateAlignment:n.dateAlignment,dateIncrement:n.dateIncrement,hiddenDays:n.hiddenDays,weekends:n.weekends,nowInput:n.now,validRangeInput:n.validRange,visibleRangeInput:n.visibleRange,fixedWeekCount:n.fixedWeekCount}),viewApi:this.buildViewApi(e,this.getCurrentData,t.dateEnv)};throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`)}processRawViewOptions(e,t,n,r,i){let s=_n([wn,e.optionDefaults,n,r,e.optionOverrides,i]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Dn),Rn),An),Mn),t.listenerRefiners),t.optionRefiners),a={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,u={};for(var h in s)s[h]===l[h]||xn[h]&&xn[h](s[h],l[h])?a[h]=c[h]:(s[h]===this.currentCalendarOptionsInput[h]||xn[h]&&xn[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(a[h]=this.currentCalendarOptionsRefined[h]):o[h]?a[h]=o[h](s[h]):u[h]=s[h],d=!0);return d&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:u}}}function No(e,t,n,r,i,s,o,a){t=co(t||o.defaultCode,o.map);return new Di({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:t,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function Po(e,t){return new(t.themeClasses[e.themeSystem]||fo)(e)}function Ho(e){return new(e.dateProfileGeneratorClass||Jr)(e)}function Wo(e,t,n){return new To(e,t,n)}function Bo(e){return I(e,e=>e.ui)}function jo(e,t,n){var r,i={"":t};for(r in e){var s=e[r];s.sourceId&&n[s.sourceId]&&(i[r]=n[s.sourceId])}return i}function zo(e){var t=e["options"];return{eventUiSingleBase:Gn({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"==typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Gn({constraint:t.selectConstraint,overlap:"boolean"==typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function Lo(e,t){for(var n of t.pluginHooks.isLoadingFuncs)if(n(e))return!0;return!1}function Uo(e){return er(e.options.businessHours,e)}function Go(e,t){for(var n in e)console.warn(`Unknown option '${n}'`+(t?` for view '${t}'`:""))}class Fo extends s{render(){return S("div",{className:"fc-toolbar-chunk"},...this.props.widgetGroups.map(e=>this.renderWidgetGroup(e)))}renderWidgetGroup(e){let t=this["props"],n=this.context["theme"],r=[],i=!0;for(var s of e){var o,a,{buttonName:s,buttonClick:l,buttonText:c,buttonIcon:d,buttonHint:u}=s;"title"===s?(i=!1,r.push(S("h2",{className:"fc-toolbar-title",id:t.titleId},t.title))):(o=s===t.activeButton,a=!t.isTodayEnabled&&"today"===s||!t.isPrevEnabled&&"prev"===s||!t.isNextEnabled&&"next"===s,s=[`fc-${s}-button`,n.getClass("button")],o&&s.push(n.getClass("buttonActive")),r.push(S("button",{type:"button",title:"function"==typeof u?u(t.navUnit):u,disabled:a,"aria-pressed":o,className:s.join(" "),onClick:l},c||(d?S("span",{className:d}):""))))}return 1<r.length?S("div",{className:i&&n.getClass("buttonGroup")||""},...r):r[0]}}class Vo extends s{render(){let e,t,{model:n,extraClassName:r}=this.props,i=!1,s=n.sectionWidgets,o=s.center;return e=s.left?(i=!0,s.left):s.start,t=s.right?(i=!0,s.right):s.end,S("div",{className:[r||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",e||[]),this.renderSection("center",o||[]),this.renderSection("end",t||[]))}renderSection(e,t){var n=this["props"];return S(Fo,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class qo extends s{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,o(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,n=e["aspectRatio"],r=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",s="";return n?null!==t.availableWidth?i=t.availableWidth/n:s=1/n*100+"%":i=e.height||"",S("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:r.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Yo extends _i{constructor(e){super(e),this.handleSegClick=(e,t)=>{var n,r=this["component"],i=r["context"],s=li(t);s&&r.isValidSegDownEl(e.target)&&(n=(n=l(e.target,".fc-event-forced-url"))?n.querySelector("a[href]").href:"",i.emitter.trigger("eventClick",{el:t,event:new P(r.context,s.eventRange.def,s.eventRange.instance),jsEvent:e,view:i.viewApi}),n)&&!e.defaultPrevented&&(window.location.href=n)},this.destroy=rt(e.el,"click",".fc-event",this.handleSegClick)}}class Qo extends _i{constructor(e){super(e),this.handleEventElRemove=e=>{e===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(e,t)=>{li(t)&&(this.currentSegEl=t,this.triggerEvent("eventMouseEnter",e,t))},this.handleSegLeave=(e,t)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",e,t))},this.removeHoverListeners=function(e,r,i){let s;return rt(e,"mouseover",".fc-event",(e,n)=>{if(n!==s){s=n,r(e,n);let t=e=>{s=null,i(e,n),n.removeEventListener("mouseleave",t)};n.addEventListener("mouseleave",t)}})}(e.el,this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){var r=this["component"],i=r["context"],s=li(n);t&&!r.isValidSegDownEl(t.target)||i.emitter.trigger(e,{el:n,event:new P(i,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:i.viewApi})}}class Zo extends Zr{constructor(){super(...arguments),this.buildViewContext=m(Qr),this.buildViewPropTransformers=m(Jo),this.buildToolbarProps=m(Xo),this.headerRef={current:null},this.footerRef={current:null},this.interactionsStore={},this.state={viewLabelId:t()},this.registerInteractiveComponent=(e,t)=>{let n={component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null},r=[Yo,Qo].concat(this.props.pluginHooks.componentInteractions).map(e=>new e(n));this.interactionsStore[e.uid]=r,Oi[e.uid]=n},this.unregisterInteractiveComponent=e=>{var t=this.interactionsStore[e.uid];if(t){for(var n of t)n.destroy();delete this.interactionsStore[e.uid]}delete Oi[e.uid]},this.resizeRunner=new ps(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{var t=this.props["options"];t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let e,t=this["props"],{toolbarConfig:n,options:r}=t,i=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,Xr(t.options.now,t.dateEnv),t.viewTitle),s=!1,o="";t.isHeightAuto||t.forPrint?o="":null!=r.height?s=!0:null!=r.contentHeight?o=r.contentHeight:e=Math.max(r.aspectRatio,.5);var a=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return S(u.Provider,{value:a},n.header&&S(Vo,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:l},i)),S(qo,{liquid:s,height:o,aspectRatio:e,labeledById:l},this.renderView(t),this.buildAppendContent()),n.footer&&S(Vo,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let t=this["props"];this.calendarInteractions=t.pluginHooks.calendarInteractions.map(e=>new e(t)),window.addEventListener("resize",this.handleWindowResize);var e,n=t.pluginHooks["propSetHandlers"];for(e in n)n[e](t[e],t)}componentDidUpdate(e){var t,n=this["props"],r=n.pluginHooks["propSetHandlers"];for(t in r)n[t]!==e[t]&&r[t](n[t],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let t=this["props"];return S(A,{},...t.pluginHooks.viewContainerAppends.map(e=>e(t)))}renderView(e){var t,n=e["pluginHooks"],r=e["viewSpec"],i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint};for(t of this.buildViewPropTransformers(n.viewPropsTransformers))Object.assign(i,t.transform(i,e));return S(r.component,Object.assign({},i))}}function Xo(e,t,n,r,i,s){var o=n.build(i,void 0,!1),a=n.buildPrev(t,r,!1),n=n.buildNext(t,r,!1);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:o.isValid&&!b(t.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:n.isValid}}function Jo(e){return e.map(e=>new e)}function Ko(e){var t=co(e.locale||"en",lo([]).map);return new Di(Object.assign(Object.assign({timeZone:wn.timeZone,calendarSystem:"gregory"},e),{locale:t}))}H.touchMouseIgnoreWait=500;let $o=0,ea=0,ta=!1;class na{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=e=>{this.shouldIgnoreMouse()||0!==e.button||e.ctrlKey||!this.tryStart(e)||(e=this.createEventFromMouse(e,!0),this.emitter.trigger("pointerdown",e),this.initScrollWatch(e),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))},this.handleMouseMove=e=>{e=this.createEventFromMouse(e);this.recordCoords(e),this.emitter.trigger("pointermove",e)},this.handleMouseUp=e=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(e)),this.cleanup()},this.handleTouchStart=e=>{var t;this.tryStart(e)&&(this.isTouchDragging=!0,t=this.createEventFromTouch(e,!0),this.emitter.trigger("pointerdown",t),this.initScrollWatch(t),t=e.target,this.shouldIgnoreMove||t.addEventListener("touchmove",this.handleTouchMove),t.addEventListener("touchend",this.handleTouchEnd),t.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0))},this.handleTouchMove=e=>{e=this.createEventFromTouch(e);this.recordCoords(e),this.emitter.trigger("pointermove",e)},this.handleTouchEnd=e=>{var t;this.isDragging&&((t=e.target).removeEventListener("touchmove",this.handleTouchMove),t.removeEventListener("touchend",this.handleTouchEnd),t.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(e)),this.cleanup(),this.isTouchDragging=!1,$o+=1,setTimeout(()=>{--$o},H.touchMouseIgnoreWait))},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=e=>{var t,n;this.shouldIgnoreMove||(t=window.pageXOffset-this.prevScrollX+this.prevPageX,n=window.pageYOffset-this.prevScrollY+this.prevPageY,this.emitter.trigger("pointermove",{origEvent:e,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:t,pageY:n,deltaX:t-this.origPageX,deltaY:n-this.origPageY}))},this.containerEl=e,this.emitter=new Wr,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),1===(ea+=1)&&window.addEventListener("touchmove",ra,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),--ea||window.removeEventListener("touchmove",ra,{passive:!1})}tryStart(e){var t=this.querySubjectEl(e),e=e.target;return!(!t||this.handleSelector&&!l(e,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1))}cleanup(){ta=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?l(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return $o||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(ta=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,r=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,r=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:r}}createEventFromTouch(e,t){let n,r,i=e.touches,s=0,o=0;return r=(i&&i.length?(n=i[0].pageX,i[0]):(n=e.pageX,e)).pageY,t?(this.origPageX=n,this.origPageY=r):(s=n-this.origPageX,o=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:r,deltaX:s,deltaY:o}}}function ra(e){ta&&e.preventDefault()}class ia{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){var n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,r=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Ke(n,{left:r.left,top:r.top}),st(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(Ye(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Ke(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).style.userSelect="none",t.classList.add("fc-event-dragging"),Ke(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class sa extends zr{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class oa extends sa{constructor(e,t){super(new Lr(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Or(this.scrollController.el)}}class aa extends sa{constructor(e){super(new Ur,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const la=("function"==typeof performance?performance:Date).now;class ca{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{var e,t;this.isAnimating&&((e=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset))?(t=la(),this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)):this.isAnimating=!1)}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){var n,r;this.isEnabled&&(e=e-window.pageXOffset,t=t-window.pageYOffset,n=null===this.pointerScreenY?0:t-this.pointerScreenY,r=null===this.pointerScreenX?0:e-this.pointerScreenX,n<0?this.everMovedUp=!0:0<n&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:0<r&&(this.everMovedRight=!0),this.pointerScreenX=e,this.pointerScreenY=t,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(la())))}stop(){if(this.isEnabled){this.isAnimating=!1;for(var e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let n=e["scrollCache"],r=this["edgeThreshold"],i=r-e.distance,s=i*i/(r*r)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*o)}}computeBestEdge(e,t){let n=this["edgeThreshold"],r=null,i=this.scrollCaches||[];for(var s of i){var o=s.clientRect,a=e-o.left,l=o.right-e,c=t-o.top,o=o.bottom-t;0<=a&&0<=l&&0<=c&&0<=o&&(c<=n&&this.everMovedUp&&s.canScrollUp()&&(!r||r.distance>c)&&(r={scrollCache:s,name:"top",distance:c}),o<=n&&this.everMovedDown&&s.canScrollDown()&&(!r||r.distance>o)&&(r={scrollCache:s,name:"bottom",distance:o}),a<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!r||r.distance>a)&&(r={scrollCache:s,name:"left",distance:a}),l<=n)&&this.everMovedRight&&s.canScrollRight()&&(!r||r.distance>l)&&(r={scrollCache:s,name:"right",distance:l})}return r}buildCaches(e){return this.queryScrollEls(e).map(e=>e===window?new aa(!1):new oa(e,!1))}queryScrollEls(e){var t,n=[];for(t of this.scrollQuery)"object"==typeof t?n.push(t):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(t)));return n}}class da extends Ni{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=e=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,ut(document.body),ft(document.body),e.isTouch||e.origEvent.preventDefault(),this.emitter.trigger("pointerdown",e),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(e.subjectEl,e.pageX,e.pageY),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e)))},this.onPointerMove=e=>{var t,n,r;this.isInteracting&&(this.emitter.trigger("pointermove",e),this.isDistanceSurpassed||({deltaX:n,deltaY:r}=e,(t=this.minDistance)*t<=n*n+r*r&&this.handleDistanceSurpassed(e)),this.isDragging)&&("scroll"!==e.origEvent.type&&(this.mirror.handleMove(e.pageX,e.pageY),this.autoScroller.handleMove(e.pageX,e.pageY)),this.emitter.trigger("dragmove",e))},this.onPointerUp=e=>{this.isInteracting&&(this.isInteracting=!1,ht(document.body),pt(document.body),this.emitter.trigger("pointerup",e),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(e)),this.delayTimeoutId)&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null)};e=this.pointer=new na(e);e.emitter.on("pointerdown",this.onPointerDown),e.emitter.on("pointermove",this.onPointerMove),e.emitter.on("pointerup",this.onPointerUp),t&&(e.selector=t),this.mirror=new ia,this.autoScroller=new ca}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){"number"==typeof this.delay?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class ua{constructor(e){this.origRect=Nr(e),this.scrollCaches=Pr(e).map(e=>new oa(e,!0))}destroy(){for(var e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(var t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(var t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){var n,r={left:e,top:t};for(n of this.scrollCaches)if(!function(e){e=e.tagName;return"HTML"===e||"BODY"===e}(n.getEventTarget())&&!sr(r,n.clientRect))return!1;return!0}}class ha{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=e=>{var t=this["dragging"];this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(e),this.initialHit||!this.requireInitial?(t.setIgnoreMove(!1),this.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=e=>{this.emitter.trigger("dragstart",e),this.handleMove(e,!0)},this.handleDragMove=e=>{this.emitter.trigger("dragmove",e),this.handleMove(e)},this.handlePointerUp=e=>{this.releaseHits(),this.emitter.trigger("pointerup",e)},this.handleDragEnd=e=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,e),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Wr}processFirstCoord(e){let t,n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl;i instanceof HTMLElement&&(t=Nr(i),r=lr(r,t));var e=this.initialHit=this.queryHitForOffset(r.left,r.top);e?(this.useSubjectCenter&&t&&(e=or(t,e.rect))&&(r=cr(e)),this.coordAdjust=dr(r,n)):this.coordAdjust={left:0,top:0}}handleMove(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&fa(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=I(this.droppableStore,e=>(e.component.prepareHits(),new ua(e.el)))}releaseHits(){var e,t=this["offsetTrackers"];for(e in t)t[e].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:r}=this,i=null;for(var s in n){var o,a,l,c,d,u=n[s].component,h=r[s];h&&h.isWithinClipping(e,t)&&(o=h.computeLeft(),l=t-(a=h.computeTop()),h=h["origRect"],c=h.right-h.left,h=h.bottom-h.top,0<=(d=e-o))&&d<c&&0<=l&&l<h&&(d=u.queryHit(d,l,c,h))&&Sr(d.dateProfile.activeRange,d.dateSpan.range)&&(!i||d.layer>i.layer)&&(d.componentId=s,d.context=u.context,d.rect.left+=o,d.rect.right+=o,d.rect.top+=a,d.rect.bottom+=a,i=d)}return i}}function fa(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&vi(e.dateSpan,t.dateSpan)}function pa(e,t){var n,r,i,s={};for(n of t.pluginHooks.datePointTransforms)Object.assign(s,n(e,t));return Object.assign(s,{date:(i=t.dateEnv).toDate((r=e).range.start),dateStr:i.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}),s}class ga extends _i{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{var t=e.origEvent.target,{component:n,dragging:r}=this,i=r["mirror"],s=n.context["options"],o=n.context,a=(this.subjectEl=e.subjectEl,this.subjectSeg=li(e.subjectEl)),a=(this.eventRange=a.eventRange).instance.instanceId,o=(this.relevantEvents=Wn(o.getCurrentData().eventStore,a),r.minDistance=e.isTouch?0:s.eventDragMinDistance,r.delay=e.isTouch&&a!==n.props.eventSelection?function(){let e=n.context["options"],t=e.eventLongPressDelay;return t=null==t?e.longPressDelay:t}():null,s.fixedMirrorParent?i.parentNode=s.fixedMirrorParent:i.parentNode=l(t,".fc"),i.revertDuration=s.dragRevertDuration,n.isValidSegDownEl(t)&&!l(t,".fc-event-resizer"));r.setIgnoreMove(!o),this.isDragging=o&&e.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=e=>{var t=this.component.context,n=this.eventRange,r=n.instance.instanceId;e.isTouch?r!==this.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new P(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},this.handleHitUpdate=(l,c)=>{if(this.isDragging){let e=this.relevantEvents,t=this.hitDragging.initialHit,n=this.component.context,r=null,i=null,s=null,o=!1,a={affectedEvents:e,mutatedEvents:{defs:{},instances:{}},isEvent:!0};var d;l&&(d=(r=l.context).options,n===r||d.editable&&d.droppable?(i=function(e,t,n){let r=e.dateSpan,i=t.dateSpan,s=r.range.start,o=i.range.start,a={};var l,c=ir(s=r.allDay!==i.allDay&&(a.allDay=i.allDay,a.hasEnd=t.context.options.allDayMaintainDuration,i.allDay)?v(s):s,o,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null),d=(c.milliseconds&&(a.allDay=!1),{datesDelta:c,standardProps:a});for(l of n)l(d,e,t);return d}(t,l,r.getCurrentData().pluginHooks.eventDragMutationMassagers))&&(s=ti(e,r.getCurrentData().eventUiBases,i,r),a.mutatedEvents=s,os(a,l.dateProfile,r)||(o=!0,i=null,s=null,a.mutatedEvents={defs:{},instances:{}})):r=null),this.displayDrag(r,a),(o?ct:dt)(),c||(n===r&&fa(t,l)&&(i=null),this.dragging.setMirrorNeedsRevert(!i),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=r,this.validMutation=i,this.mutatedRelevantEvents=s)}},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=d=>{if(this.isDragging){let e=this.component.context,t=e.viewApi,{receivingContext:n,validMutation:r}=this,i=this.eventRange.def,s=this.eventRange.instance,o=new P(e,i,s),a=this.relevantEvents,l=this.mutatedRelevantEvents,c=this.hitDragging["finalHit"];if(this.clearDrag(),e.emitter.trigger("eventDragStop",{el:this.subjectEl,event:o,jsEvent:d.origEvent,view:t}),r)if(n===e){var u,h=new P(e,l.defs[i.defId],s?l.instances[s.instanceId]:null),h=(e.dispatch({type:"MERGE_EVENTS",eventStore:l}),{oldEvent:o,event:h,relatedEvents:ii(l,e,s),revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:a})}}),f={};for(u of e.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(f,u(r,e));e.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},h),f),{el:d.subjectEl,delta:r.datesDelta,jsEvent:d.origEvent,view:t})),e.emitter.trigger("eventChange",h)}else{var p;n&&(h={event:o,relatedEvents:ii(a,e,s),revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:a})}},e.emitter.trigger("eventLeave",Object.assign(Object.assign({},h),{draggedEl:d.subjectEl,view:t})),e.dispatch({type:"REMOVE_EVENTS",eventStore:a}),e.emitter.trigger("eventRemove",h),h=l.defs[i.defId],p=l.instances[s.instanceId],h=new P(n,h,p),n.dispatch({type:"MERGE_EVENTS",eventStore:l}),h={event:h,relatedEvents:ii(l,n,p),revert(){n.dispatch({type:"REMOVE_EVENTS",eventStore:l})}},n.emitter.trigger("eventAdd",h),d.isTouch&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:s.instanceId}),n.emitter.trigger("drop",Object.assign(Object.assign({},pa(c.dateSpan,n)),{draggedEl:d.subjectEl,jsEvent:d.origEvent,view:c.context.viewApi})),n.emitter.trigger("eventReceive",Object.assign(Object.assign({},h),{draggedEl:d.subjectEl,view:c.context.viewApi})))}else e.emitter.trigger("_noEventDrop")}this.cleanup()};var t=this["component"],t=t.context["options"],n=this.dragging=new da(e.el),n=(n.pointer.selector=ga.SELECTOR,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.dragScroll,this.hitDragging=new ha(this.dragging,Oi));n.useSubjectCenter=e.useEventCenter,n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("pointerup",this.handlePointerUp),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){var n=this.component.context,r=this.receivingContext;r&&r!==e&&(r===n?r.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):r.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){var e=this.component.context,t=this["receivingContext"];t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}ga.SELECTOR=".fc-event-draggable, .fc-event-resizable";var ma={fixedMirrorParent:n},va={dateClick:n,eventDragStart:n,eventDragStop:n,eventDrop:n,eventResizeStart:n,eventResizeStop:n,eventResize:n,drop:n,eventReceive:n,eventLeave:n};class ya{constructor(e,t){this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=e=>{this.dragMeta=this.buildDragMeta(e.subjectEl)},this.handleHitUpdate=(e,t,n)=>{let r=this.hitDragging["dragging"],i=null,s=null,o=!1,a={affectedEvents:{defs:{},instances:{}},mutatedEvents:{defs:{},instances:{}},isEvent:this.dragMeta.create};e&&(i=e.context,this.canDropElOnCalendar(n.subjectEl,i))&&(s=function(e,t,n){var r,i=Object.assign({},t.leftoverProps);for(r of n.pluginHooks.externalDefTransforms)Object.assign(i,r(e,t));let{refined:s,extra:o}=Xn(i,n),a=Kn(s,o,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),l=e.range.start;e.allDay&&t.startTime&&(l=n.dateEnv.add(l,t.startTime));n=t.duration?n.dateEnv.add(l,t.duration):ei(e.allDay,l,n);return{def:a,instance:On(a.defId,{start:l,end:n})}}(e.dateSpan,this.dragMeta,i),a.mutatedEvents=Hn(s),o=!os(a,e.dateProfile,i))&&(a.mutatedEvents={defs:{},instances:{}},s=null),this.displayDrag(i,a),r.setMirrorIsVisible(t||!s||!document.querySelector(".fc-event-mirror")),(o?ct:dt)(),t||(r.setMirrorNeedsRevert(!s),this.receivingContext=i,this.droppableEvent=s)},this.handleDragEnd=t=>{let{receivingContext:n,droppableEvent:r}=this;if(this.clearDrag(),n&&r){var e=this.hitDragging.finalHit,i=e.context.viewApi,s=this.dragMeta;if(n.emitter.trigger("drop",Object.assign(Object.assign({},pa(e.dateSpan,n)),{draggedEl:t.subjectEl,jsEvent:t.origEvent,view:i})),s.create){let e=Hn(r);n.dispatch({type:"MERGE_EVENTS",eventStore:e}),t.isTouch&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:r.instance.instanceId}),n.emitter.trigger("eventReceive",{event:new P(n,r.def,r.instance),relatedEvents:[],revert(){n.dispatch({type:"REMOVE_EVENTS",eventStore:e})},draggedEl:t.subjectEl,view:i})}}this.receivingContext=null,this.droppableEvent=null};e=this.hitDragging=new ha(e,Oi);e.requireInitial=!1,e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("hitupdate",this.handleHitUpdate),e.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}buildDragMeta(e){return"object"==typeof this.suppliedDragMeta?Hi(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?Hi(this.suppliedDragMeta(e)):(e=e,t=H.dataAttrPrefix,Hi((e=e.getAttribute("data-"+((t?t+"-":"")+"event"))||"")?JSON.parse(e):{create:!1}));var t}displayDrag(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})}canDropElOnCalendar(e,t){var n=t.options.dropAccept;return"function"==typeof n?n.call(t.calendarApi,e):"string"!=typeof n||!n||Boolean(Qe(e,n))}}H.dataAttrPrefix="";class ba extends Ni{constructor(e){super(e),this.shouldIgnoreMove=!1,this.mirrorSelector="",this.currentMirrorEl=null,this.handlePointerDown=e=>{this.emitter.trigger("pointerdown",e),this.shouldIgnoreMove||this.emitter.trigger("dragstart",e)},this.handlePointerMove=e=>{this.shouldIgnoreMove||this.emitter.trigger("dragmove",e)},this.handlePointerUp=e=>{this.emitter.trigger("pointerup",e),this.shouldIgnoreMove||this.emitter.trigger("dragend",e)};e=this.pointer=new na(e);e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("pointermove",this.handlePointerMove),e.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.pointer.destroy()}setIgnoreMove(e){this.shouldIgnoreMove=e}setMirrorIsVisible(e){e?this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null):(e=this.mirrorSelector?document.querySelector(this.mirrorSelector):null)&&((this.currentMirrorEl=e).style.visibility="hidden")}}ma=p({name:"@fullcalendar/interaction",componentInteractions:[class extends _i{constructor(e){super(e),this.handlePointerDown=e=>{var t=this["dragging"],e=e.origEvent.target;t.setIgnoreMove(!this.component.isValidDateDownEl(e))},this.handleDragEnd=e=>{var t,n=this["component"],r=this.dragging["pointer"];r.wasTouchScroll||({initialHit:r,finalHit:t}=this.hitDragging,r&&t&&fa(r,t)&&(t=n["context"],n=Object.assign(Object.assign({},pa(r.dateSpan,t)),{dayEl:r.dayEl,jsEvent:e.origEvent,view:t.viewApi||t.calendarApi.view}),t.emitter.trigger("dateClick",n)))},this.dragging=new da(e.el),this.dragging.autoScroller.isEnabled=!1;e=this.hitDragging=new ha(this.dragging,Ii(e));e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends _i{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=e=>{var{component:n,dragging:t}=this,r=n.context["options"],r=r.selectable&&n.isValidDateDownEl(e.origEvent.target);t.setIgnoreMove(!r),t.delay=e.isTouch?function(){let e=n.context["options"],t=e.selectLongPressDelay;return t=null==t?e.longPressDelay:t}():null},this.handleDragStart=e=>{this.component.context.calendarApi.unselect(e)},this.handleHitUpdate=(e,t)=>{let n=this.component["context"],r=null,i=!1;var s;e&&(s=this.hitDragging.initialHit,(r=e.componentId===s.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(s,e)?r:function(e,t,n){var r,i=e.dateSpan,s=t.dateSpan,s=[i.range.start,i.range.end,s.range.start,s.range.end],o=(s.sort(bt),{});for(r of n){var a=r(e,t);if(!1===a)return null;a&&Object.assign(o,a)}return o.range={start:s[0],end:s[3]},o.allDay=i.allDay,o}(s,e,n.pluginHooks.dateSelectionTransformers))&&as(r,e.dateProfile,n)||(i=!0,r=null)),r?n.dispatch({type:"SELECT_DATES",selection:r}):t||n.dispatch({type:"UNSELECT_DATES"}),(i?ct:dt)(),t||(this.dragSelection=r)},this.handlePointerUp=e=>{this.dragSelection&&(Kr(this.dragSelection,e,this.component.context),this.dragSelection=null)};var t=e["component"],t=t.context["options"],n=this.dragging=new da(e.el),n=(n.touchScrollAllowed=!1,n.minDistance=t.selectMinDistance||0,n.autoScroller.isEnabled=t.dragScroll,this.hitDragging=new ha(this.dragging,Ii(e)));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},ga,class extends _i{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=e=>{var t=this["component"],n=li(this.querySegEl(e)),n=this.eventRange=n.eventRange;this.dragging.minDistance=t.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&this.component.props.eventSelection!==n.instance.instanceId)},this.handleDragStart=e=>{var t=this.component["context"],n=this.eventRange,r=(this.relevantEvents=Wn(t.getCurrentData().eventStore,this.eventRange.instance.instanceId),this.querySegEl(e));this.draggingSegEl=r,this.draggingSeg=li(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new P(t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi})},this.handleHitUpdate=(e,t,n)=>{let r=this.component["context"],i=this.relevantEvents,s=this.hitDragging.initialHit,o=this.eventRange.instance,a=null,l=null,c=!1,d={affectedEvents:i,mutatedEvents:{defs:{},instances:{}},isEvent:!0};(a=!e||e.componentId===s.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(s,e)?a:function(e,t,n,r){var i=e.context.dateEnv,t=ir(e.dateSpan.range.start,t.dateSpan.range.start,i,e.largeUnit);if(n){if(i.add(r.start,t)<r.end)return{startDelta:t}}else if(i.add(r.end,t)>r.start)return{endDelta:t};return null}(s,e,n.subjectEl.classList.contains("fc-event-resizer-start"),o.range))&&(l=ti(i,r.getCurrentData().eventUiBases,a,r),d.mutatedEvents=l,os(d,e.dateProfile,r)||(c=!0,a=null,l=null,d.mutatedEvents=null)),l?r.dispatch({type:"SET_EVENT_RESIZE",state:d}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),(c?ct:dt)(),t||(a&&fa(s,e)&&(a=null),this.validMutation=a,this.mutatedRelevantEvents=l)},this.handleDragEnd=e=>{let t=this.component["context"],n=this.eventRange.def,r=this.eventRange.instance,i=new P(t,n,r),s=this.relevantEvents,o=this.mutatedRelevantEvents;var a;t.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:i,jsEvent:e.origEvent,view:t.viewApi}),this.validMutation?(a=new P(t,o.defs[n.defId],r?o.instances[r.instanceId]:null),t.dispatch({type:"MERGE_EVENTS",eventStore:o}),a={oldEvent:i,event:a,relatedEvents:ii(o,t,r),revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})}},t.emitter.trigger("eventResize",Object.assign(Object.assign({},a),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||k(0),endDelta:this.validMutation.endDelta||k(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",a)):t.emitter.trigger("_noEventResize"),this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};var t=e["component"],n=this.dragging=new da(e.el),n=(n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll,this.hitDragging=new ha(this.dragging,Ii(e)));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return l(e.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=e=>{e.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=e=>{var t=this.context.options.unselectCancel,e=et(e.origEvent);this.matchesCancel=!!l(e,t),this.matchesEvent=!!l(e,ga.SELECTOR)},this.onDocumentPointerUp=e=>{var t=this["context"],n=this["documentPointer"],r=t.getCurrentData();n.wasTouchScroll||(r.dateSelection&&!this.isRecentPointerDateSelect&&t.options.unselectAuto&&!this.matchesCancel&&t.calendarApi.unselect(e),r.eventSelection&&!this.matchesEvent&&t.dispatch({type:"UNSELECT_EVENT"})),this.isRecentPointerDateSelect=!1};var t=this.documentPointer=new na(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:da,optionRefiners:ma,listenerRefiners:va});function Sa(e,t){var n,r=[];for(let e=0;e<t;e+=1)r[e]=[];for(n of e)r[n.row].push(n);return r}function Ea(e,t){var n,r=[];for(let e=0;e<t;e+=1)r[e]=[];for(n of e)r[n.firstCol].push(n);return r}function Ca(t,n){var r=[];if(t){for(let e=0;e<n;e+=1)r[e]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var e of t.segs)r[e.row].segs.push(e)}else for(let e=0;e<n;e+=1)r[e]=null;return r}Ge(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');const Da=N({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function wa(e){var t=e.eventRange.ui["display"];return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class Ra extends s{render(){var e=this["props"];return S(Is,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Da,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Aa extends s{render(){var{props:e,context:t}=this,n=t["options"],r=e["seg"],r=fi(r,n.eventTimeFormat||Da,t,!0,e.defaultDisplayEventEnd);return S(_s,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:gi(e.seg,t),defaultGenerator:xa,timeText:r,isResizing:!1,isDateSelecting:!1}))}}function xa(e){return S(A,null,S("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&S("div",{className:"fc-event-time"},e.timeText),S("div",{className:"fc-event-title"},e.event.title||S(A,null,"Â ")))}class Ta extends s{constructor(){super(...arguments),this.compileSegs=m(ka)}render(){let r=this["props"],{allSegs:e,invisibleSegs:t}=this.compileSegs(r.singlePlacements);return S(qs,{elClasses:["fc-daygrid-more-link"],dateProfile:r.dateProfile,todayRange:r.todayRange,allDayDate:r.allDayDate,moreCnt:r.moreCnt,allSegs:e,hiddenSegs:t,alignmentElRef:r.alignmentElRef,alignGridTop:r.alignGridTop,extraDateSpan:r.extraDateSpan,popoverContent:()=>{let n=(r.eventDrag?r.eventDrag.affectedInstances:null)||(r.eventResize?r.eventResize.affectedInstances:null)||{};return S(A,null,e.map(e=>{var t=e.eventRange.instance.instanceId;return S("div",{className:"fc-daygrid-event-harness",key:t,style:{visibility:n[t]?"hidden":""}},wa(e)?S(Aa,Object.assign({seg:e,isDragging:!1,isSelected:t===r.eventSelection,defaultDisplayEventEnd:!1},E(e,r.todayRange))):S(Ra,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===r.eventSelection,defaultDisplayEventEnd:!1},E(e,r.todayRange))))}))}})}}function ka(e){var t,n=[],r=[];for(t of e)n.push(t.seg),t.isVisible||r.push(t.seg);return{allSegs:n,invisibleSegs:r}}const Ma=N({week:"narrow"});class _a extends a{constructor(){super(...arguments),this.rootElRef={current:null},this.state={dayNumberId:t()},this.handleRootEl=e=>{o(this.rootElRef,e),o(this.props.elRef,e)}}render(){let{context:n,props:r,state:i,rootElRef:s}=this,{options:o,dateEnv:e}=n,{date:a,dateProfile:t}=r;const l=r.showDayNumber&&function(e,t,n){var{start:t,end:r}=t,i=Gt(r,-1),s=n.getYear(t),o=n.getMonth(t),a=n.getYear(i),i=n.getMonth(i);return!(s===a&&o===i)&&Boolean(e.valueOf()===t.valueOf()||1===n.getDay(e)&&e.valueOf()<r.valueOf())}(a,t.currentRange,e);return S(Hs,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Ia,date:a,dateProfile:t,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:l,extraRenderProps:r.extraRenderProps},(e,t)=>S("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&S(Us,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ar(n,a,"week"),date:a,defaultFormat:Ma}),!t.isDisabled&&(r.showDayNumber||Ws(o)||r.forceDayTop)?S("div",{className:"fc-daygrid-day-top"},S(e,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ar(n,a)),{id:i.dayNumberId})})):r.showDayNumber?S("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},S("a",{className:"fc-daygrid-day-number"},"Â ")):void 0,S("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,S("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},S(Ta,{allDayDate:a,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:s,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),S("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function Ia(e){return e.dayNumberText||S(A,null,"Â ")}function Oa(e,t,n,r){var i,s;return e.firstCol===t&&e.lastCol===n-1?e:(r=w(s=(i=e.eventRange).range,{start:r[t].date,end:O(r[n-1].date,1)}),Object.assign(Object.assign({},e),{firstCol:t,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:r},isStart:e.isStart&&r.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===s.end.valueOf()}))}class Na extends wi{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){var e=super.addSegs(e),t=this["entriesByLevel"],n=e=>!this.forceHidden[Ai(e)];for(let e=0;e<t.length;e+=1)t[e]=t[e].filter(n);return e}handleInvalidInsertion(e,t,n){var{entriesByLevel:r,forceHidden:i}=this,{touchingEntry:s,touchingLevel:o,touchingLateral:a}=e;if(this.hiddenConsumes&&s){const e=Ai(s);if(!i[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},s),{span:Ti(s.span,t.span)});i[Ai(e)]=!0,r[o][a]=e,this.splitEntry(s,t,n)}else i[e]=!0,n.push(s)}return super.handleInvalidInsertion(e,t,n)}}class Pa extends a{constructor(){super(...arguments),this.cellElRefs=new f,this.frameElRefs=new f,this.fgElRefs=new f,this.segHarnessRefs=new f,this.rootElRef={current:null},this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:i,state:e,context:t}=this,n=t["options"],r=i.cells.length,s=Ea(i.businessHourSegs,r),o=Ea(i.bgEventSegs,r),a=Ea(this.getHighlightSegs(),r),l=Ea(this.getMirrorSegs(),r),{singleColPlacements:c,multiColPlacements:d,moreCnts:u,moreMarginTops:h}=function(t,e,n,r,i,s,o){var a,l,c=new Na,d=(c.allowReslicing=!0,c.strictOrder=r,!0===e||!0===n?(c.maxCoord=s,c.hiddenConsumes=!0):"number"==typeof e?c.maxStackCnt=e:"number"==typeof n&&(c.maxStackCnt=n,c.hiddenConsumes=!0),[]),u=[];for(let e=0;e<t.length;e+=1){var h=t[e],f=h.eventRange.instance["instanceId"],f=i[f];null!=f?d.push({index:e,thickness:f,span:{start:h.firstCol,end:h.lastCol+1}}):u.push(h)}let p=c.addSegs(d),y=c.toRects(),{singleColPlacements:g,multiColPlacements:m,leftoverMargins:v}=function(s,o){var a=function(e,t){var n,r=[];for(let e=0;e<t;e+=1)r.push([]);for(n of e)for(let e=n.span.start;e<n.span.end;e+=1)r[e].push(n);return r}(y,o.length),l=[],c=[],d=[];for(let i=0;i<o.length;i+=1){let e=a[i],t=[],n=0,r=0;for(var u of e){var h=s[u.index];t.push({seg:Oa(h,i,i+1,o),isVisible:!0,isAbsolute:!1,absoluteTop:u.levelCoord,marginTop:u.levelCoord-n}),n=u.levelCoord+u.thickness}var f,p=[];n=0,r=0;for(f of e){var g=s[f.index],m=1<f.span.end-f.span.start,v=f.span.start===i;r+=f.levelCoord-n,n=f.levelCoord+f.thickness,m?(r+=f.thickness,v&&p.push({seg:Oa(g,f.span.start,f.span.end,o),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):v&&(p.push({seg:Oa(g,f.span.start,f.span.end,o),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:r}),r=0)}l.push(t),c.push(p),d.push(r)}return{singleColPlacements:l,multiColPlacements:c,leftoverMargins:d}}(t,o),b=[],S=[];for(a of u){m[a.firstCol].push({seg:a,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=a.firstCol;e<=a.lastCol;e+=1)g[e].push({seg:Oa(a,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)b.push(0);for(l of p){var E=t[l.index],C=l.span;m[C.start].push({seg:Oa(E,C.start,C.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let e=C.start;e<C.end;e+=1)b[e]+=1,g[e].push({seg:Oa(E,e,e+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let e=0;e<o.length;e+=1)S.push(v[e]);return{singleColPlacements:g,multiColPlacements:m,moreCnts:b,moreMarginTops:S}}(ui(i.fgEventSegs,n.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,n.eventOrderStrict,e.eventInstanceHeights,e.maxContentHeight,i.cells),f=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return S("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map((e,t)=>{var n=this.renderFgSegs(t,(i.forPrint?c:d)[t],i.todayRange,f),r=this.renderFgSegs(t,function(e,r){if(!e.length)return[];let t=function(){var e,t={};for(e of r)for(var n of e)t[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return t}();return e.map(e=>({seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:t[e.eventRange.instance.instanceId],marginTop:0}))}(l[t],d),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return S(_a,{key:e.key,elRef:this.cellElRefs.createRef(e.key),innerElRef:this.frameElRefs.createRef(e.key),dateProfile:i.dateProfile,date:e.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===t,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraRenderProps:e.extraRenderProps,extraDataAttrs:e.extraDataAttrs,extraClassNames:e.extraClassNames,extraDateSpan:e.extraDateSpan,moreCnt:u[t],moreMarginTop:h[t],singlePlacements:c[t],fgContentElRef:this.fgElRefs.createRef(e.key),fgContent:S(A,null,S(A,null,n),S(A,null,r)),bgContent:S(A,null,this.renderFillSegs(a[t],"highlight"),this.renderFillSegs(s[t],"non-business"),this.renderFillSegs(o[t],"bg-event")),minHeight:i.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){var n=this.props;this.updateSizing(!g(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){var e=this["props"];return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){var e=this["props"];return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(a,e,l,c,d,u,h){var f=this["context"],p=this.props["eventSelection"],g=this.state["framePositions"],m=1===this.props.cells.length,v=d||u||h,y=[];if(g)for(var b of e){let e=b["seg"],t=e.eventRange.instance["instanceId"],n=t+":"+a,r=b.isVisible&&!c[t],i=b.isAbsolute,s="",o="";i&&(f.isRtl?(o=0,s=g.lefts[e.lastCol]-g.lefts[e.firstCol]):(s=0,o=g.rights[e.firstCol]-g.rights[e.lastCol])),y.push(S("div",{className:"fc-daygrid-event-harness"+(i?" fc-daygrid-event-harness-abs":""),key:n,ref:v?null:this.segHarnessRefs.createRef(n),style:{visibility:r?"":"hidden",marginTop:i?"":b.marginTop,top:i?b.absoluteTop:"",left:s,right:o}},wa(e)?S(Aa,Object.assign({seg:e,isDragging:d,isSelected:t===p,defaultDisplayEventEnd:m},E(e,l))):S(Ra,Object.assign({seg:e,isDragging:d,isResizing:u,isDateSelecting:h,isSelected:t===p,defaultDisplayEventEnd:m},E(e,l)))))}return y}renderFillSegs(e,t){var n=this.context["isRtl"],r=this.props["todayRange"],i=this.state["framePositions"],s=[];if(i)for(var o of e){var a=n?{right:0,left:i.lefts[o.lastCol]-i.lefts[o.firstCol]}:{left:0,right:i.rights[o.firstCol]-i.rights[o.lastCol]};s.push(S("div",{key:pi(o.eventRange),className:"fc-daygrid-bg-harness",style:a},"bg-event"===t?S(js,Object.assign({seg:o},E(o,r))):Ls(t)))}return S(A,{},...s)}updateSizing(e){let{props:t,state:n,frameElRefs:r}=this;var i,s;t.forPrint||null===t.clientWidth||(e&&(e=t.cells.map(e=>r.currentMap[e.key])).length&&(s=this.rootElRef.current,i=new Br(s,e,!0,!1),n.framePositions&&n.framePositions.similarTo(i)||this.setState({framePositions:new Br(s,e,!0,!1)})),i=this.state.eventInstanceHeights,s=this.queryEventInstanceHeights(),e=!0===t.dayMaxEvents||!0===t.dayMaxEventRows,this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},i),s),maxContentHeight:e?this.computeMaxContentHeight():null}))}queryEventInstanceHeights(){var e,t=this.segHarnessRefs.currentMap,n={};for(e in t){var r=Math.round(t[e].getBoundingClientRect().height),i=e.split(":")[0];n[i]=Math.max(n[i]||0,r)}return n}computeMaxContentHeight(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],e=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-e.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(e=>t[e.key])}}Pa.addStateEquality({eventInstanceHeights:g});class Ha extends a{constructor(){super(...arguments),this.splitBusinessHourSegs=m(Sa),this.splitBgEventSegs=m(Sa),this.splitFgEventSegs=m(Sa),this.splitDateSelectionSegs=m(Sa),this.splitEventDrag=m(Ca),this.splitEventResize=m(Ca),this.rowRefs=new f}render(){let{props:r,context:e}=this,i=r.cells.length,s=this.splitBusinessHourSegs(r.businessHourSegs,i),o=this.splitBgEventSegs(r.bgEventSegs,i),a=this.splitFgEventSegs(r.fgEventSegs,i),l=this.splitDateSelectionSegs(r.dateSelectionSegs,i),c=this.splitEventDrag(r.eventDrag,i),d=this.splitEventResize(r.eventResize,i),u=7<=i&&r.clientWidth?r.clientWidth/e.options.aspectRatio/6:null;return S(y,{unit:"day"},(e,n)=>S(A,null,r.cells.map((e,t)=>S(Pa,{ref:this.rowRefs.createRef(t),key:e.length?e[0].date.toISOString():t,showDayNumbers:1<i,showWeekNumbers:r.showWeekNumbers,todayRange:n,dateProfile:r.dateProfile,cells:e,renderIntro:r.renderRowIntro,businessHourSegs:s[t],eventSelection:r.eventSelection,bgEventSegs:o[t].filter(Wa),fgEventSegs:a[t],dateSelectionSegs:l[t],eventDrag:c[t],eventResize:d[t],dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,clientWidth:r.clientWidth,clientHeight:r.clientHeight,cellMinHeight:u,forPrint:r.forPrint}))))}componentDidMount(){var e=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=e?e.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Br(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Br(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){var n,{colPositions:r,rowPositions:i}=this,e=r.leftToIndex(e),t=i.topToIndex(t);return null!=t&&null!=e?(n=this.props.cells[t][e],{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(t,e),allDay:!0},n.extraDateSpan),dayEl:this.getCellEl(t,e),rect:{left:r.lefts[e],right:r.rights[e],top:i.tops[t],bottom:i.bottoms[t]},layer:0}):null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){e=this.props.cells[e][t].date;return{start:e,end:O(e,1)}}}function Wa(e){return e.eventRange.def.allDay}class Ba extends a{constructor(){super(...arguments),this.elRef={current:null},this.needsScrollReset=!1}render(){let e=this["props"],{dayMaxEventRows:t,dayMaxEvents:n,expandRows:r}=e,i=!0===n||!0===t;i&&!r&&(i=!1,t=null,n=null);var s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",r?"":"fc-daygrid-body-natural"];return S("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},S("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:r?e.clientHeight:""}},e.colGroupNode,S("tbody",{role:"presentation"},S(Ha,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){var e,t,n;this.needsScrollReset&&this.props.clientWidth&&((n=function(e,t){let n;return n=(n=t.currentRangeUnit.match(/year|month/)?e.querySelector(`[data-date="${rn(t.currentDate)}-01"]`):n)||e.querySelector(`[data-date="${nn(t.currentDate)}"]`)}(this.elRef.current,this.props.dateProfile))&&(t=(e=n.closest(".fc-daygrid-body")).closest(".fc-scroller"),n=n.getBoundingClientRect().top-e.getBoundingClientRect().top,t.scrollTop=n?1+n:0),this.needsScrollReset=!1)}}class ja extends es{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class za extends a{constructor(){super(...arguments),this.slicer=new ja,this.tableRef={current:null}}render(){var{props:e,context:t}=this;return S(Ba,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class La extends Jr{buildRenderRange(e,t,n){var r=this["props"];return Ua({currentRange:super.buildRenderRange(e,t,n),snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function Ua(e){let t,{dateEnv:n,currentRange:r}=e,{start:i,end:s}=r;return e.snapToWeek&&(i=n.startOfWeek(i),(t=n.startOfWeek(s)).valueOf()!==s.valueOf())&&(s=Ut(t,1)),e.fixedWeekCount&&(e=n.startOfWeek(n.startOfMonth(O(r.end,-1))),s=Ut(s,6-Math.ceil(Ft(e,s)))),{start:i,end:s}}class Ga extends a{constructor(){super(...arguments),this.headerElRef={current:null}}renderSimpleLayout(e,t){var{props:n,context:r}=this,i=[],s=Ts(r.options);return e&&i.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),S(Ks,{elClasses:["fc-daygrid"],viewSpec:r.viewSpec},S(Ms,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,r){var i,s,o,a,l,c=this.context.pluginHooks.scrollGridImpl;if(c)return{props:i,context:s}=this,o=!i.forPrint&&Ts(s.options),a=!i.forPrint&&ks(s.options),l=[],e&&l.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),l.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),a&&l.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:xs}]}),S(Ks,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},S(c,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:l}));throw new Error("No ScrollGrid implementation")}}function Fa(e,t){t=new Ki(e.renderRange,t);return new $i(t,/year|month|week/.test(e.currentRangeUnit))}va=p({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends Ga{constructor(){super(...arguments),this.buildDayTableModel=m(Fa),this.headerRef={current:null},this.tableRef={current:null}}render(){let{options:t,dateProfileGenerator:e}=this.context,n=this["props"],r=this.buildDayTableModel(n.dateProfile,e),i=t.dayHeaders&&S(Xi,{ref:this.headerRef,dateProfile:n.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),s=e=>S(za,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:r,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:n.forPrint});return t.dayMinWidth?this.renderHScrollLayout(i,s,r.colCnt,t.dayMinWidth):this.renderSimpleLayout(i,s)}},dateProfileGeneratorClass:La},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Ge('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');class Va extends pr{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?oi(e)?["timed","allDay"]:["allDay"]:["timed"]}}const qa=N({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Ya(i){let s=["fc-timegrid-slot","fc-timegrid-slot-label",i.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return S(u.Consumer,null,e=>{var t,n,r;return i.isLabeled?({dateEnv:e,options:t,viewApi:r}=e,n=null==t.slotLabelFormat?qa:Array.isArray(t.slotLabelFormat)?N(t.slotLabelFormat[0]):N(t.slotLabelFormat),r={level:0,time:i.time,date:e.toDate(i.date),view:r,text:e.format(i.date,n)},S(h,{elTag:"td",elClasses:s,elAttrs:{"data-time":i.isoTimeStr},renderProps:r,generatorName:"slotLabelContent",customGenerator:t.slotLabelContent,defaultGenerator:Qa,classNameGenerator:t.slotLabelClassNames,didMount:t.slotLabelDidMount,willUnmount:t.slotLabelWillUnmount},e=>S("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},S(e,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))):S("td",{className:s.join(" "),"data-time":i.isoTimeStr})})}function Qa(e){return e.text}class Za extends s{render(){return this.props.slatMetas.map(e=>S("tr",{key:e.key},S(Ya,Object.assign({},e))))}}const Xa=N({week:"short"});class Ja extends a{constructor(){super(...arguments),this.allDaySplitter=new Va,this.headerElRef={current:null},this.rootElRef={current:null},this.scrollerElRef={current:null},this.state={slatCoords:null},this.handleScrollTopRequest=e=>{var t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let n=this.context["options"],r=this.props["dateProfile"],i=r.renderRange,s=1===Vt(i.start,i.end)?Ar(this.context,i.start,"week"):{};return n.weekNumbers&&"day"===e?S(Us,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:Xa},e=>S("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},S(e,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:s}))):S("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},S("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=t=>{var{options:e,viewApi:n}=this.context,n={text:e.allDayText,view:n};return S(h,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:n,generatorName:"allDayContent",customGenerator:e.allDayContent,defaultGenerator:Ka,classNameGenerator:e.allDayClassNames,didMount:e.allDayDidMount,willUnmount:e.allDayWillUnmount},e=>S("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==t?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},S(e,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){var{context:r,props:i}=this,s=[],o=Ts(r.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(s.push({type:"body",key:"all-day",chunk:{content:t}}),s.push({type:"body",key:"all-day-divider",outerContent:S("tr",{role:"presentation",className:"fc-scrollgrid-section"},S("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),s.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),S(Ks,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:r.viewSpec},S(Ms,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:s}))}renderHScrollLayout(e,t,n,r,i,s,o){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var{context:l,props:c}=this,d=!c.forPrint&&Ts(l.options),u=!c.forPrint&&ks(l.options),h=[];e&&h.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>S("tr",{role:"presentation"},this.renderHeadAxis("day",e.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(h.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:e=>S("tr",{role:"presentation"},this.renderTableRowAxis(e.rowSyncHeights[0]))},{key:"cols",content:t}]}),h.push({key:"all-day-divider",type:"body",outerContent:S("tr",{role:"presentation",className:"fc-scrollgrid-section"},S("td",{colSpan:2,className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))}));let f=l.options.nowIndicator;return h.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(l.options.expandRows),chunks:[{key:"axis",content:e=>S("div",{className:"fc-timegrid-axis-chunk"},S("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,S("tbody",null,S(Za,{slatMetas:s}))),S("div",{className:"fc-timegrid-now-indicator-container"},S(y,{unit:f?"minute":"day"},e=>{var t=f&&o&&o.safeComputeTop(e);return"number"==typeof t?S(Ns,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:e}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),u&&h.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:xs},{key:"cols",content:xs}]}),S(Ks,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},S(a,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:r,minWidth:i}]}],sections:h}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return!0!==e&&!0!==t||(e=void 0,t=5),{dayMaxEvents:e,dayMaxEventRows:t}}}function Ka(e){return e.text}class $a{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){var t=this["dateProfile"];if(b(t.currentRange,e)){var n=v(e),e=e.valueOf()-n.valueOf();if(e>=M(t.slotMinTime)&&e<M(t.slotMaxTime))return this.computeTimeTop(k(e))}return null}computeDateTop(e,t){return t=t||v(e),this.computeTimeTop(k(e.valueOf()-t.valueOf()))}computeTimeTop(e){var{positions:t,dateProfile:n}=this,r=t.els.length,e=(e.milliseconds-M(n.slotMinTime))/M(this.slotDuration),e=Math.max(0,e);return e=Math.min(r,e),n=Math.floor(e),e=e-(n=Math.min(n,r-1)),t.tops[n]+t.getHeight(n)*e}}class el extends s{render(){let{props:r,context:i}=this,s=i["options"],o=r["slatElRefs"];return S("tbody",null,r.slatMetas.map((e,t)=>{var n={time:e.time,date:i.dateEnv.toDate(e.date),view:i.viewApi};return S("tr",{key:e.key,ref:o.createRef(e.key)},r.axis&&S(Ya,Object.assign({},e)),S(h,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!e.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":e.isoTimeStr},renderProps:n,generatorName:"slotLaneContent",customGenerator:s.slotLaneContent,classNameGenerator:s.slotLaneClassNames,didMount:s.slotLaneDidMount,willUnmount:s.slotLaneWillUnmount}))}))}}class tl extends s{constructor(){super(...arguments),this.rootElRef={current:null},this.slatElRefs=new f}render(){var{props:e,context:t}=this;return S("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},S("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,S(el,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){var t,{context:e,props:n}=this;n.onCoords&&null!==n.clientWidth&&this.rootElRef.current.offsetHeight&&n.onCoords(new $a(new Br(this.rootElRef.current,(t=this.slatElRefs.currentMap,n.slatMetas.map(e=>t[e.key])),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function nl(e,t){let n,r=[];for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function rl(t,n){var r=[];if(t){for(let e=0;e<n;e+=1)r[e]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(var e of t.segs)r[e.col].segs.push(e)}else for(let e=0;e<n;e+=1)r[e]=null;return r}class il extends s{render(){let e=this["props"];return S(qs,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>pl(e.hiddenSegs,e),defaultGenerator:sl,forceTimed:!0},e=>S(e,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function sl(e){return e.shortText}function ol(e,t){if(!e)return[[],0];let{level:n,lateralStart:r,lateralEnd:i}=e,s=r,o=[];for(;s<i;)o.push(t(n,s)),s+=1;return o.sort(al),[o.map(ll),o[0][1]]}function al(e,t){return t[1]-e[1]}function ll(e){return e[0]}function cl(n,r){const i={};return(...e)=>{var t=n(...e);return t in i?i[t]:i[t]=r(...e)}}function dl(t,n,r=null,i=0){var s=[];if(r)for(let e=0;e<t.length;e+=1){var o=t[e],a=r.computeDateTop(o.start,n),o=Math.max(a+(i||0),r.computeDateTop(o.end,n));s.push({start:Math.round(a),end:Math.round(o)})}return s}const ul=N({hour:"numeric",minute:"2-digit",meridiem:!1});class hl extends s{render(){return S(Is,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ul}))}}class fl extends s{constructor(){super(...arguments),this.sortEventSegs=m(ui)}render(){let{props:t,context:e}=this,n=e["options"],r=n.selectMirror,i=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||r&&t.dateSelectionSegs||[],s=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},o=this.sortEventSegs(t.fgEventSegs,n.eventOrder);return S(Hs,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},e=>S("div",{className:"fc-timegrid-col-frame"},S("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),S("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,s,!1,!1,!1)),S("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(r),"mirror")),S("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),Ws(n)&&S(e,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,r,i,s){var o=this["props"];return o.forPrint?pl(e,o):this.renderPositionedFgSegs(e,t,n,r,i,s)}renderPositionedFgSegs(e,a,l,c,d,u){let{eventMaxStack:t,eventShortHeight:h,eventOrderStrict:n,eventMinHeight:r}=this.context.options,{date:i,slatCoords:s,eventSelection:f,todayRange:p,nowDate:g}=this.props,m=l||c||d,o=dl(e,i,s,r),{segPlacements:v,hiddenGroups:y}=function(t,n,e,r){var i=[],s=[];for(let e=0;e<t.length;e+=1){var o=n[e];o?i.push({index:e,thickness:1,span:o}):s.push(t[e])}u=i,e=e,r=r,a=new wi,null!=e&&(a.strictOrder=e),null!=r&&(a.maxStackCnt=r),e=xi(a.addSegs(u)),l=function(l){const n=l["entriesByLevel"],s=cl((e,t)=>e+":"+t,(r,i)=>{var e=ol(function(){let{levelCoords:e,entriesByLevel:s}=l,o=s[r][i],t=e[r]+o.thickness,n=e.length,a=r;for(;a<n&&e[a]<t;a+=1);for(;a<n;a+=1){let e,t=s[a],n=Mi(t,o.span.start,Ri),r=n[0]+n[1],i=r;for(;(e=t[i])&&e.span.start<o.span.end;)i+=1;if(r<i)return{level:a,lateralStart:r,lateralEnd:i}}return null}(),s),t=n[r][i];return[Object.assign(Object.assign({},t),{nextLevelNodes:e[0]}),t.thickness+e[1]]});return ol(n.length?{level:0,lateralStart:0,lateralEnd:n[0].length}:null,s)[0]}(a),l=function(){const u=cl((e,t,n)=>Ai(e),(e,t,n)=>{let r,{nextLevelNodes:i,thickness:s}=e,o=s+n,a=s/o,l=[];if(i.length)for(var c of i){var d;void 0===r?(d=u(c,t,o),r=d[0],l.push(d[1])):(d=u(c,r,0),l.push(d[1]))}else r=1;n=(r-t)*a;return[r-n,Object.assign(Object.assign({},e),{thickness:n,nextLevelNodes:l})]});return l.map(e=>u(e,0,0)[1])}();var a,l,c,d,{segRects:r,hiddenGroups:u}={segRects:function(){let i=[];const s=cl((e,t,n)=>Ai(e),(e,t,n)=>{var r=Object.assign(Object.assign({},e),{levelCoord:t,stackDepth:n,stackForward:0});return i.push(r),r.stackForward=o(e.nextLevelNodes,t+e.thickness,n+1)+1});function o(e,t,n){let r=0;for(var i of e)r=Math.max(s(i,t,n),r);return r}return o(l,0,0),i}(),hiddenGroups:e},h=[];for(c of r)h.push({seg:t[c.index],rect:c});for(d of s)h.push({seg:d,rect:null});return{segPlacements:h,hiddenGroups:u}}(e,o,n,t);return S(A,null,this.renderHiddenGroups(y,e),v.map(e=>{var{seg:e,rect:t}=e,n=e.eventRange.instance.instanceId,r=m||Boolean(!a[n]&&t),i=gl(t&&t.span),s=!m&&t?this.computeSegHStyle(t):{left:0,right:0},o=Boolean(t)&&0<t.stackForward,t=Boolean(t)&&t.span.end-t.span.start<h;return S("div",{className:"fc-timegrid-event-harness"+(o?" fc-timegrid-event-harness-inset":""),key:u||n,style:Object.assign(Object.assign({visibility:r?"":"hidden"},i),s)},S(hl,Object.assign({seg:e,isDragging:l,isResizing:c,isDateSelecting:d,isSelected:n===f,isShort:t},E(e,p,g))))}))}renderHiddenGroups(e,r){let{extraDateSpan:i,dateProfile:s,todayRange:o,nowDate:a,eventSelection:l,eventDrag:c,eventResize:d}=this.props;return S(A,null,e.map(e=>{var t,n=gl(e.span),e=(e=e.entries,t=r,e.map(e=>t[e.index]));return S(il,{key:tn(Zs(e)),hiddenSegs:e,top:n.top,bottom:n.bottom,extraDateSpan:i,dateProfile:s,todayRange:o,nowDate:a,eventSelection:l,eventDrag:c,eventResize:d})}))}renderFillSegs(n,r){let{props:i,context:e}=this,t=dl(n,i.date,i.slatCoords,e.options.eventMinHeight).map((e,t)=>{t=n[t];return S("div",{key:pi(t.eventRange),className:"fc-timegrid-bg-harness",style:gl(e)},"bg-event"===r?S(js,Object.assign({seg:t},E(t,i.todayRange,i.nowDate))):Ls(r))});return S(A,null,t)}renderNowIndicator(e){let{slatCoords:n,date:r}=this.props;return n?e.map((e,t)=>S(Ns,{key:t,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(e.start,r)},isAxis:!1,date:r})):null}computeSegHStyle(e){let t,n,{isRtl:r,options:i}=this.context,s=i.slotEventOverlap,o=e.levelCoord,a=e.levelCoord+e.thickness;s&&(a=Math.min(1,o+2*(a-o))),n=r?(t=1-a,o):(t=o,1-a);var l={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return s&&!e.stackForward&&(l[r?"marginLeft":"marginRight"]=20),l}}function pl(e,{todayRange:n,nowDate:r,eventSelection:i,eventDrag:t,eventResize:s}){let o=(t?t.affectedInstances:null)||(s?s.affectedInstances:null)||{};return S(A,null,e.map(e=>{var t=e.eventRange.instance.instanceId;return S("div",{key:t,style:{visibility:o[t]?"hidden":""}},S(hl,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===i,isShort:!1},E(e,n,r))))}))}function gl(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}class ml extends s{constructor(){super(...arguments),this.splitFgEventSegs=m(nl),this.splitBgEventSegs=m(nl),this.splitBusinessHourSegs=m(nl),this.splitNowIndicatorSegs=m(nl),this.splitDateSelectionSegs=m(nl),this.splitEventDrag=m(rl),this.splitEventResize=m(rl),this.rootElRef={current:null},this.cellElRefs=new f}render(){let{props:n,context:e}=this,t=e.options.nowIndicator&&n.slatCoords&&n.slatCoords.safeComputeTop(n.nowDate),r=n.cells.length,i=this.splitFgEventSegs(n.fgEventSegs,r),s=this.splitBgEventSegs(n.bgEventSegs,r),o=this.splitBusinessHourSegs(n.businessHourSegs,r),a=this.splitNowIndicatorSegs(n.nowIndicatorSegs,r),l=this.splitDateSelectionSegs(n.dateSelectionSegs,r),c=this.splitEventDrag(n.eventDrag,r),d=this.splitEventResize(n.eventResize,r);return S("div",{className:"fc-timegrid-cols",ref:this.rootElRef},S("table",{role:"presentation",style:{minWidth:n.tableMinWidth,width:n.clientWidth}},n.tableColGroupNode,S("tbody",{role:"presentation"},S("tr",{role:"row"},n.axis&&S("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},S("div",{className:"fc-timegrid-col-frame"},S("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof t&&S(Ns,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:t},isAxis:!0,date:n.nowDate})))),n.cells.map((e,t)=>S(fl,{key:e.key,elRef:this.cellElRefs.createRef(e.key),dateProfile:n.dateProfile,date:e.date,nowDate:n.nowDate,todayRange:n.todayRange,extraRenderProps:e.extraRenderProps,extraDataAttrs:e.extraDataAttrs,extraClassNames:e.extraClassNames,extraDateSpan:e.extraDateSpan,fgEventSegs:i[t],bgEventSegs:s[t],businessHourSegs:o[t],nowIndicatorSegs:a[t],dateSelectionSegs:l[t],eventDrag:c[t],eventResize:d[t],slatCoords:n.slatCoords,eventSelection:n.eventSelection,forPrint:n.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){var t,e=this["props"];e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new Br(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.cells.map(e=>t[e.key])),!0,!1))}}class vl extends a{constructor(){super(...arguments),this.processSlotOptions=m(yl),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{var n=this.props["onScrollTopRequest"],r=this.state["slatCoords"];if(n&&r){if(t.time){let e=r.computeTimeTop(t.time);(e=Math.ceil(e))&&(e+=1),n(e)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){var{props:e,state:t}=this;return S("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},S(tl,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),S(ml,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){var n,r,{dateEnv:i,options:s}=this.context,o=this["colCoords"],a=this.props["dateProfile"],l=this.state["slatCoords"],{snapDuration:s,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),e=o.leftToIndex(e),d=l.positions.topToIndex(t);return null!=e&&null!=d?(n=this.props.cells[e],r=l.positions.tops[d],l=l.positions.getHeight(d),d=d*c+Math.floor((t-r)/l*c),t=this.props.cells[e].date,c=Rt(a.slotMinTime,At(s,d)),d=i.add(t,c),t=i.add(d,s),{dateProfile:a,dateSpan:Object.assign({range:{start:d,end:t},allDay:!1},n.extraDateSpan),dayEl:o.els[e],rect:{left:o.lefts[e],right:o.rights[e],top:r,bottom:r+l},layer:0}):null}}function yl(e,t){let n=t||e,r=Mt(e,n);return null===r&&(n=e,r=1),{snapDuration:n,snapsPerSlot:r}}class bl extends es{sliceRange(t,n){var r=[];for(let e=0;e<n.length;e+=1){var i=w(t,n[e]);i&&r.push({start:i.start,end:i.end,isStart:i.start.valueOf()===t.start.valueOf(),isEnd:i.end.valueOf()===t.end.valueOf(),col:e})}return r}}class Sl extends a{constructor(){super(...arguments),this.buildDayRanges=m(El),this.slicer=new bl,this.timeColsRef={current:null}}render(){let{props:n,context:r}=this,{dateProfile:i,dayTableModel:s}=n,{nowIndicator:o,nextDayThreshold:a}=r.options,l=this.buildDayRanges(s,i,r.dateEnv);return S(y,{unit:o?"minute":"day"},(e,t)=>S(vl,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(n,i,null,r,l),{forPrint:n.forPrint,axis:n.axis,dateProfile:i,slatMetas:n.slatMetas,slotDuration:n.slotDuration,cells:s.cells[0],tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,clientWidth:n.clientWidth,clientHeight:n.clientHeight,expandRows:n.expandRows,nowDate:e,nowIndicatorSegs:o&&this.slicer.sliceNowDate(e,i,a,r,l),todayRange:t,onScrollTopRequest:n.onScrollTopRequest,onSlatCoords:n.onSlatCoords})))}}function El(e,t,n){var r,i=[];for(r of e.headerDates)i.push({start:n.add(r,t.slotMinTime),end:n.add(r,t.slotMaxTime)});return i}const Cl=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Dl(e,t,n,r,i){let s=new Date(0),o=e,a=k(0),l=n||function(e){let t,n,r;for(t=Cl.length-1;0<=t;--t)if(null!==(r=Mt(n=k(Cl[t]),e))&&1<r)return n;return e}(r),c=[];for(;M(o)<M(t);){var d=i.add(s,o),u=null!==Mt(a,l);c.push({date:d,time:o,key:d.toISOString(),isoTimeStr:sn(d),isLabeled:u}),o=Rt(o,r),a=Rt(a,r)}return c}function wl(e,t){e=new Ki(e.renderRange,t);return new $i(e,!1)}var Rl=p({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:class extends Ja{constructor(){super(...arguments),this.buildTimeColsModel=m(wl),this.buildSlatMetas=m(Dl)}render(){let{options:t,dateEnv:e,dateProfileGenerator:n}=this.context,r=this["props"],i=r["dateProfile"],s=this.buildTimeColsModel(i,n),o=this.allDaySplitter.splitProps(r),a=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,t.slotLabelInterval,t.slotDuration,e),l=t["dayMinWidth"],c=!l,d=l,u=t.dayHeaders&&S(Xi,{dates:s.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),h=!1!==t.allDaySlot&&(e=>S(za,Object.assign({},o.allDay,{dateProfile:i,dayTableModel:s,nextDayThreshold:t.nextDayThreshold,tableMinWidth:e.tableMinWidth,colGroupNode:e.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:r.forPrint},this.getAllDayMaxEventProps()))),f=e=>S(Sl,Object.assign({},o.timed,{dayTableModel:s,dateProfile:i,axis:c,slotDuration:t.slotDuration,slatMetas:a,forPrint:r.forPrint,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:e.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(u,h,f,s.colCnt,l,a,this.state.slatCoords):this.renderSimpleLayout(u,h,f)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Ge(':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}');class Al extends s{constructor(){super(...arguments),this.state={textId:t()}}render(){let{theme:t,dateEnv:e,options:n,viewApi:r}=this.context,{cellId:i,dayDate:s,todayRange:o}=this.props,a=this.state["textId"],l=Er(s,o),c=n.listDayFormat?e.format(s,n.listDayFormat):"",d=n.listDaySideFormat?e.format(s,n.listDaySideFormat):"",u=Object.assign({date:e.toDate(s),view:r,textId:a,text:c,sideText:d,navLinkAttrs:Ar(this.context,s),sideNavLinkAttrs:Ar(this.context,s,"day",!1)},l);return S(h,{elTag:"tr",elClasses:["fc-list-day",...Cr(l,t)],elAttrs:{"data-date":nn(s)},renderProps:u,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:xl,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},e=>S("th",{scope:"colgroup",colSpan:3,id:i,"aria-labelledby":a},S(e,{elTag:"div",elClasses:["fc-list-day-cushion",t.getClass("tableCellShaded")]})))}}function xl(e){return S(A,null,e.text&&S("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&S("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const Tl=N({hour:"numeric",minute:"2-digit",meridiem:"short"});class kl extends s{render(){let{props:e,context:n}=this,t=n["options"],{seg:r,timeHeaderId:i,eventHeaderId:s,dateHeaderId:o}=e,a=t.eventTimeFormat||Tl;return S(_s,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",r.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>{return e=r,t=gi(e,n),S("a",Object.assign({},t),e.eventRange.def.title);var e,t},seg:r,timeText:"",disableDragging:!0,disableResizing:!0}),(e,t)=>S(A,null,function(i,s,o,a,l){var c=o["options"];if(!1===c.displayEventTime)return null;{let e,t=i.eventRange.def,n=i.eventRange.instance,r=!1;return(t.allDay?r=!0:rr(i.eventRange.range)?i.isStart?e=fi(i,s,o,null,null,n.range.start,i.end):i.isEnd?e=fi(i,s,o,null,null,i.start,n.range.end):r=!0:e=fi(i,s,o),r)?(i={text:o.options.allDayText,view:o.viewApi},S(h,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:a+" "+l},renderProps:i,generatorName:"allDayContent",customGenerator:c.allDayContent,defaultGenerator:Ml,classNameGenerator:c.allDayClassNames,didMount:c.allDayDidMount,willUnmount:c.allDayWillUnmount})):S("td",{className:"fc-list-event-time"},e)}}(r,a,n,i,o),S("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},S("span",{className:"fc-list-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}})),S(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:s+" "+o}})))}}function Ml(e){return e.text}function _l(e){return e.text}function Il(e){let t=v(e.renderRange.start),n=e.renderRange.end,r=[],i=[];for(;t<n;)r.push(t),i.push({start:t,end:O(t,1)}),t=O(t,1);return{dayDates:r,dayRanges:i}}function Ol(e){return!1===e?null:N(e)}var Nl=p({name:"@fullcalendar/list",optionRefiners:{listDayFormat:Ol,listDaySideFormat:Ol,noEventsClassNames:n,noEventsContent:n,noEventsDidMount:n,noEventsWillUnmount:n},views:{list:{component:class extends a{constructor(){super(...arguments),this.computeDateVars=m(Il),this.eventStoreToSegs=m(this._eventStoreToSegs),this.state={timeHeaderId:t(),eventHeaderId:t(),dateHeaderIdRoot:t()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){var{props:e,context:t}=this,{dayDates:n,dayRanges:r}=this.computeDateVars(e.dateProfile),r=this.eventStoreToSegs(e.eventStore,e.eventUiBases,r);return S(Ks,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},S(ms,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},0<r.length?this.renderSegList(r,n):this.renderEmptyMessage()))}renderEmptyMessage(){var{options:e,viewApi:t}=this.context,t={text:e.noEventsText,view:t};return S(h,{elTag:"div",elClasses:["fc-list-empty"],renderProps:t,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:_l,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},e=>S(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]}))}renderSegList(e,l){let{theme:c,options:d}=this.context,{timeHeaderId:u,eventHeaderId:h,dateHeaderIdRoot:f}=this.state,p=function(e){let t,n,r=[];for(t=0;t<e.length;t+=1)n=e[t],(r[n.dayIndex]||(r[n.dayIndex]=[])).push(n);return r}(e);return S(y,{unit:"day"},(t,n)=>{var r=[];for(let e=0;e<p.length;e+=1){var i=p[e];if(i){var s,o=nn(l[e]),a=f+"-"+o;r.push(S(Al,{key:o,cellId:a,dayDate:l[e],todayRange:n}));for(s of ui(i,d.eventOrder))r.push(S(kl,Object.assign({key:o+":"+s.eventRange.instance.instanceId,seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:u,eventHeaderId:h,dateHeaderId:a},E(s,n,t))))}}return S("table",{className:"fc-list-table "+c.getClass("table")},S("thead",null,S("tr",null,S("th",{scope:"col",id:u},d.timeHint),S("th",{scope:"col","aria-hidden":!0}),S("th",{scope:"col",id:h},d.eventHint))),S("tbody",null,r))})}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(si(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){var n,r=[];for(n of e)r.push(...this.eventRangeToSegs(n,t));return r}eventRangeToSegs(e,t){let n,r,i,s=this.context["dateEnv"],o=this.context.options["nextDayThreshold"],a=e.range,l=e.def.allDay,c=[];for(n=0;n<t.length;n+=1)if((r=w(a,t[n]))&&(i={component:this,eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===a.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===a.end.valueOf(),dayIndex:n},c.push(i),!i.isEnd)&&!l&&n+1<t.length&&a.end<s.add(t[n+1].start,o)){i.end=a.end,i.isEnd=!0;break}return c}},buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}});class Pl extends a{constructor(){super(...arguments),this.buildDayTableModel=m(Fa),this.slicer=new ja,this.state={labelId:t()}}render(){var{props:e,state:t,context:n}=this,{dateProfile:r,forPrint:i}=e,s=n["options"],o=this.buildDayTableModel(r,n.dateProfileGenerator),a=this.slicer.sliceProps(e,r,s.nextDayThreshold,n,o),l=null!=e.tableWidth?e.tableWidth/s.aspectRatio:null,c=o.cells.length,c=null!=l?l/c:null;return S("div",{ref:e.elRef,"data-date":e.isoDateStr,className:"fc-multimonth-month",style:{width:e.width},role:"grid","aria-labelledby":t.labelId},S("div",{className:"fc-multimonth-header",style:{marginBottom:c},role:"presentation"},S("div",{className:"fc-multimonth-title",id:t.labelId},n.dateEnv.format(e.dateProfile.currentRange.start,e.titleFormat)),S("table",{className:["fc-multimonth-header-table",n.theme.getClass("table")].join(" "),role:"presentation"},S("thead",{role:"rowgroup"},S(Xi,{dateProfile:e.dateProfile,dates:o.headerDates,datesRepDistinctDays:!1})))),S("div",{className:["fc-multimonth-daygrid","fc-daygrid","fc-daygrid-body",!i&&"fc-daygrid-body-balanced",i&&"fc-daygrid-body-unbalanced",i&&"fc-daygrid-body-natural"].join(" "),style:{marginTop:-c}},S("table",{className:["fc-multimonth-daygrid-table",n.theme.getClass("table")].join(" "),style:{height:i?"":l},role:"presentation"},S("tbody",{role:"rowgroup"},S(Ha,Object.assign({},a,{dateProfile:r,cells:o.cells,eventSelection:e.eventSelection,dayMaxEvents:!i,dayMaxEventRows:!i,showWeekNumbers:s.weekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:i}))))))}}const Hl=k(1,"month");function Wl(e,t,n,r,i){const{start:s,end:o}=t.currentRange;let a=s;for(var l=[];a.valueOf()<o.valueOf();){const s=n.add(a,Hl),o={start:e.skipHiddenDays(a),end:e.skipHiddenDays(s,-1,!0)};var c=Ua({currentRange:o,snapToWeek:!0,fixedWeekCount:r,dateEnv:n}),c={start:e.skipHiddenDays(c.start),end:e.skipHiddenDays(c.end,-1,!0)},d=t.activeRange?w(t.activeRange,i?c:o):null;l.push({currentDate:t.currentDate,isValid:t.isValid,validRange:t.validRange,renderRange:c,activeRange:d,currentRange:o,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:t.dateIncrement,slotMinTime:t.slotMaxTime,slotMaxTime:t.slotMinTime}),a=s}return l}const Bl=N({year:"numeric",month:"long"}),jl=N({month:"long"});function zl(e,t){return e||(t[0].currentRange.start.getUTCFullYear()!==t[t.length-1].currentRange.start.getUTCFullYear()?Bl:jl)}var Ll={multiMonthTitleFormat:N,multiMonthMaxColumns:Number,multiMonthMinWidth:Number},Ll=(Ge(".fc .fc-multimonth{border:1px solid var(--fc-border-color);display:flex;flex-wrap:wrap;overflow-x:hidden;overflow-y:auto}.fc .fc-multimonth-title{font-size:1.2em;font-weight:700;padding:1em 0;text-align:center}.fc .fc-multimonth-daygrid{background:var(--fc-page-bg-color)}.fc .fc-multimonth-daygrid-table,.fc .fc-multimonth-header-table{table-layout:fixed;width:100%}.fc .fc-multimonth-daygrid-table{border-top-style:hidden!important}.fc .fc-multimonth-singlecol .fc-multimonth{position:relative}.fc .fc-multimonth-singlecol .fc-multimonth-header{background:var(--fc-page-bg-color);position:relative;top:0;z-index:2}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid{position:relative;z-index:1}.fc .fc-multimonth-singlecol .fc-multimonth-daygrid-table,.fc .fc-multimonth-singlecol .fc-multimonth-header-table{border-left-style:hidden;border-right-style:hidden}.fc .fc-multimonth-singlecol .fc-multimonth-month:last-child .fc-multimonth-daygrid-table{border-bottom-style:hidden}.fc .fc-multimonth-multicol{line-height:1}.fc .fc-multimonth-multicol .fc-multimonth-month{padding:0 1.2em 1.2em}.fc .fc-multimonth-multicol .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);display:block;float:none;padding:1px}.fc .fc-multimonth-compact{line-height:1}.fc .fc-multimonth-compact .fc-multimonth-daygrid-table,.fc .fc-multimonth-compact .fc-multimonth-header-table{font-size:.9em}.fc-media-screen .fc-multimonth-singlecol .fc-multimonth-header{position:sticky}.fc-media-print .fc-multimonth{overflow:visible}"),p({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:Ll,views:{multiMonth:{component:class extends a{constructor(){super(...arguments),this.splitDateProfileByMonth=m(Wl),this.buildMonthFormat=m(zl),this.scrollElRef={current:null},this.firstMonthElRef={current:null},this.needsScrollReset=!1,this.handleSizing=e=>{e&&this.updateSize()}}render(){const{context:e,props:r,state:t}=this,n=e["options"],{clientWidth:i,clientHeight:s}=t,o=t.monthHPadding||0,a=Math.min(null!=i?Math.floor(i/(n.multiMonthMinWidth+o)):1,n.multiMonthMaxColumns)||1,l=100/a+"%",c=null==i?null:i/a-o,d=null!=i&&1===a,u=this.splitDateProfileByMonth(e.dateProfileGenerator,r.dateProfile,e.dateEnv,!d&&n.fixedWeekCount,n.showNonCurrentDates),h=this.buildMonthFormat(n.multiMonthTitleFormat,u),f=["fc-multimonth",d?"fc-multimonth-singlecol":"fc-multimonth-multicol",null!=c&&c<400?"fc-multimonth-compact":""];return S(Ks,{elRef:this.scrollElRef,elClasses:f,viewSpec:e.viewSpec},u.map((e,t)=>{var n=rn(e.currentRange.start);return S(Pl,Object.assign({},r,{key:n,isoDateStr:n,elRef:0===t?this.firstMonthElRef:void 0,titleFormat:h,dateProfile:e,width:l,tableWidth:c,clientWidth:i,clientHeight:s}))}))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleSizing),this.requestScrollReset()}componentDidUpdate(e){g(e,this.props)||this.handleSizing(!1),e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}updateSize(){var e=this.scrollElRef.current,t=this.firstMonthElRef.current;e&&this.setState({clientWidth:e.clientWidth,clientHeight:e.clientHeight}),t&&e&&null==this.state.monthHPadding&&this.setState({monthHPadding:e.clientWidth-t.firstChild.offsetWidth})}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){var e,t;this.needsScrollReset&&null!=this.state.monthHPadding&&(t=this.props.dateProfile["currentDate"],t=(e=this.scrollElRef.current).querySelector(`[data-date="${rn(t)}"]`),e.scrollTop=t.getBoundingClientRect().top-this.firstMonthElRef.current.getBoundingClientRect().top,this.needsScrollReset=!1)}shouldComponentUpdate(){return!0}},dateProfileGeneratorClass:La,multiMonthMinWidth:350,multiMonthMaxColumns:3},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}}));const Ul=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Gl={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};var Fl=p({name:"@fullcalendar/premium-common",premiumReleaseDate:"2023-05-25",optionRefiners:{schedulerLicenseKey:String},viewContainerAppends:[function(e){var t=e.options.schedulerLicenseKey,n="undefined"!=typeof window?window.location.href:"";if(!/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(n)){n=function(e,t){if(-1!==Ul.indexOf(e))return"valid";var n=(e||"").match(/^(\d+)-fcs-(\d+)$/);if(n&&10===n[1].length){const e=new Date(1e3*parseInt(n[2],10)),r=H.mockSchedulerReleaseDate||t;if($t(r))return O(r,-372)<e?"valid":"outdated"}return"invalid"}(t,e.pluginHooks.premiumReleaseDate);if("valid"!==n)return S("div",{className:"fc-license-message",style:Gl},"outdated"===n?S(A,null,"Your license key is too old to work with this version. ",S("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#outdated"},"More Info")):S(A,null,"Your license key is invalid. ",S("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#invalid"},"More Info")))}return null}]});let Vl;function ql(){return Vl=Vl||function(){let e,t=document.createElement("div");return t.style.position="absolute",t.style.top="-1000px",t.style.width="1px",t.style.height="1px",t.style.overflow="scroll",t.style.direction="rtl",t.style.fontSize="100px",t.innerHTML="A",document.body.appendChild(t),e=0<t.scrollLeft?"positive":(t.scrollLeft=1,0<t.scrollLeft?"reverse":"negative"),Ye(t),e}()}class Yl{constructor(e,t){this.scrollEl=e,this.isRtl=t,this.updateSize=()=>{var e,i,s,t=this["scrollEl"],n=Ze(t,".fc-sticky");e=n,i=this.queryElGeoms(n),s=t.clientWidth,e.forEach((e,t)=>{var{textAlign:t,elWidth:n,parentBound:r}=i[t],r=r.right-r.left,t="center"===t&&s<r?(s-n)/2:"";Ke(e,{left:t,right:t,top:0})})}}queryElGeoms(e){var t,n,s,{scrollEl:r,isRtl:o}=this,a=(t=(r=r).getBoundingClientRect(),n=Ir(r),{left:t.left+n.borderLeft+n.scrollbarLeft-function(e){let t=e.scrollLeft;if("rtl"===window.getComputedStyle(e).direction)switch(ql()){case"negative":t*=-1;case"reverse":t=e.scrollWidth-t-e.clientWidth}return t}(r),top:t.top+n.borderTop-r.scrollTop}),l=[];for(s of e){let e=ar(Or(s.parentNode,!0,!0),-a.left,-a.top),t=s.getBoundingClientRect(),n=window.getComputedStyle(s),r=window.getComputedStyle(s.parentNode).textAlign,i=null;"start"===r?r=o?"right":"left":"end"===r&&(r=o?"left":"right"),"sticky"!==n.position&&(i=ar(t,-a.left-(parseFloat(n.left)||0),-a.top-(parseFloat(n.top)||0))),l.push({parentBound:e,naturalBound:i,elWidth:t.width,elHeight:t.height,textAlign:r})}return l}}class Ql extends s{constructor(){super(...arguments),this.elRef={current:null},this.state={xScrollbarWidth:0,yScrollbarWidth:0},this.handleScroller=e=>{this.scroller=e,o(this.props.scrollerRef,e)},this.handleSizing=()=>{var e=this["props"];"scroll-hidden"===e.overflowY&&this.setState({yScrollbarWidth:this.scroller.getYScrollbarWidth()}),"scroll-hidden"===e.overflowX&&this.setState({xScrollbarWidth:this.scroller.getXScrollbarWidth()})}}render(){let{props:e,state:t,context:n}=this,r=n.isRtl&&kr(),i=0,s=0,o=0,{overflowX:a,overflowY:l}=e;return e.forPrint&&(a="visible",l="visible"),"scroll-hidden"===a&&(o=t.xScrollbarWidth),"scroll-hidden"===l&&null!=t.yScrollbarWidth&&(r?i=t.yScrollbarWidth:s=t.yScrollbarWidth),S("div",{ref:this.elRef,className:"fc-scroller-harness"+(e.liquid?" fc-scroller-harness-liquid":"")},S(ms,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===a?"scroll":a,overflowY:"scroll-hidden"===l?"scroll":l,overcomeLeft:i,overcomeRight:s,overcomeBottom:o,maxHeight:"number"==typeof e.maxHeight?e.maxHeight+("scroll-hidden"===a?t.xScrollbarWidth:0):"",liquid:e.liquid,liquidIsAbsolute:!0},e.children))}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}getSnapshotBeforeUpdate(e){return this.props.forPrint&&!e.forPrint?{simulateScrollLeft:this.scroller.el.scrollLeft}:{}}componentDidUpdate(e,t,n){var{props:r,scroller:{el:i}}=this;if(g(e,r)||this.handleSizing(),void 0!==n.simulateScrollLeft)i.style.left=-n.simulateScrollLeft+"px";else if(!r.forPrint&&e.forPrint){const e=-parseInt(i.style.left);i.style.left="",i.scrollLeft=e}}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}needsXScrolling(){return this.scroller.needsXScrolling()}needsYScrolling(){return this.scroller.needsYScrolling()}}const Zl="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ");class Xl{constructor(e){this.el=e,this.emitter=new Wr,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new ps(this._handleWheelWaited.bind(this)),this.scrollWaiter=new ps(this._handleScrollWaited.bind(this)),this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.isRecentlyWheeled,this.isTouching),this.isRecentlyScrolled=!0,this.scrollWaiter.request(500)},this.handleWheel=()=>{this.isRecentlyWheeled=!0,this.wheelWaiter.request(500)},this.handleTouchStart=()=>{this.isTouching=!0},this.handleTouchEnd=()=>{this.isTouching=!1,this.isRecentlyScrolled||this.endScroll()},e.addEventListener("scroll",this.handleScroll),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),e.addEventListener("touchend",this.handleTouchEnd);for(var t of Zl)e.addEventListener(t,this.handleWheel)}destroy(){var e,t=this["el"];t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),t.removeEventListener("touchend",this.handleTouchEnd);for(e of Zl)t.removeEventListener(e,this.handleWheel)}startScroll(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}endScroll(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}_handleScrollWaited(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}_handleWheelWaited(){this.isRecentlyWheeled=!1}}class Jl{constructor(e,t){this.isVertical=e,this.scrollEls=t,this.isPaused=!1,this.scrollListeners=t.map(e=>this.bindScroller(e))}destroy(){for(var e of this.scrollListeners)e.destroy()}bindScroller(r){let{scrollEls:i,isVertical:s}=this,e=new Xl(r);return e.emitter.on("scroll",(e,t)=>{if(!this.isPaused&&(this.masterEl&&(this.masterEl===r||!e&&!t)||this.assignMaster(r),this.masterEl===r))for(var n of i)n!==r&&(s?n.scrollTop=r.scrollTop:n.scrollLeft=r.scrollLeft)}),e.emitter.on("scrollEnd",()=>{this.masterEl===r&&(this.masterEl=null)}),e}assignMaster(e){this.masterEl=e;for(var t of this.scrollListeners)t.el!==e&&t.endScroll()}forceScrollLeft(e){this.isPaused=!0;for(var t of this.scrollListeners){n=void 0;r=void 0;var n=t.el;var r=e;if("rtl"===window.getComputedStyle(n).direction)switch(ql()){case"reverse":r=n.scrollWidth-r;break;case"negative":r=-(n.scrollWidth-r)}n.scrollLeft=r}this.isPaused=!1}forceScrollTop(e){this.isPaused=!0;for(var t of this.scrollListeners)t.el.scrollTop=e;this.isPaused=!1}}H.SCROLLGRID_RESIZE_INTERVAL=500;class Kl extends s{constructor(){super(...arguments),this.compileColGroupStats=ln(tc,ic),this.renderMicroColGroups=ln(Cs),this.clippedScrollerRefs=new f,this.scrollerElRefs=new f(this._handleScrollerEl.bind(this)),this.chunkElRefs=new f(this._handleChunkEl.bind(this)),this.scrollSyncersBySection={},this.scrollSyncersByColumn={},this.rowUnstableMap=new Map,this.rowInnerMaxHeightMap=new Map,this.anyRowHeightsChanged=!1,this.recentSizingCnt=0,this.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},this.handleSizing=(e,t)=>{var n;this.allowSizing()&&(t||(this.anyRowHeightsChanged=!0),n={},!e&&(t||this.rowUnstableMap.size)||(n.sectionRowMaxHeights=this.computeSectionRowMaxHeights()),this.setState(Object.assign(Object.assign({shrinkWidths:this.computeShrinkWidths()},this.computeScrollerDims()),n),()=>{this.rowUnstableMap.size||this.updateStickyScrolling()}))},this.handleRowHeightChange=(e,t)=>{var{rowUnstableMap:n,rowInnerMaxHeightMap:r}=this;t?(n.delete(e),t=$l(e),r.has(e)&&r.get(e)===t||(r.set(e,t),this.anyRowHeightsChanged=!0),!n.size&&this.anyRowHeightsChanged&&(this.anyRowHeightsChanged=!1,this.setState({sectionRowMaxHeights:this.computeSectionRowMaxHeights()}))):n.set(e,!0)}}render(){let{props:e,state:t,context:n}=this,r=t["shrinkWidths"],i=this.compileColGroupStats(e.colGroups.map(e=>[e])),s=this.renderMicroColGroups(i.map((e,t)=>[e.cols,r[t]])),o=Rs(e.liquid,n);this.getDims();let a,l=e.sections,c=l.length,d=0,u=[],h=[],f=[];for(;d<c&&"header"===(a=l[d]).type;)u.push(this.renderSection(a,d,i,s,t.sectionRowMaxHeights,!0)),d+=1;for(;d<c&&"body"===(a=l[d]).type;)h.push(this.renderSection(a,d,i,s,t.sectionRowMaxHeights,!1)),d+=1;for(;d<c&&"footer"===(a=l[d]).type;)f.push(this.renderSection(a,d,i,s,t.sectionRowMaxHeights,!0)),d+=1;var p=!hr(),g={role:"rowgroup"};return S("table",{ref:e.elRef,role:"grid",className:o.join(" ")},function(e,r){e=e.map((e,t)=>{let n=e.width;return S("col",{style:{width:n="shrink"===n?e.totalColWidth+Ds(r[t])+1:n}})});return S("colgroup",{},...e)}(i,r),Boolean(!p&&u.length)&&S("thead",g,...u),Boolean(!p&&h.length)&&S("tbody",g,...h),Boolean(!p&&f.length)&&S("tfoot",g,...f),p&&S("tbody",g,...u,...h,...f))}renderSection(n,r,i,s,o,a){return"outerContent"in n?S(A,{key:n.key},n.outerContent):S("tr",{key:n.key,role:"presentation",className:As(n,this.props.liquid).join(" ")},n.chunks.map((e,t)=>this.renderChunk(n,r,i[t],s[t],e,t,(o[r]||[])[t]||[],a)))}renderChunk(e,t,n,r,i,s,o,a){var l,c,d,u,h,f,p,g,m;return"outerContent"in i?S(A,{key:i.key},i.outerContent):(h=this["state"],{scrollerClientWidths:m,scrollerClientHeights:l}=h,[u,d]=this.getDims(),c=t*d+s,s=s===(!this.context.isRtl||kr()?d-1:0),t=(d=t===u-1)&&h.forceXScrollbars,u=s&&h.forceYScrollbars,h=n&&n.allowXScrolling,f=bs(this.props,e),p=ys(this.props,e),g=e.expandRows&&p,r=Ss(e,i,{tableColGroupNode:r,tableMinWidth:n&&n.totalColMinWidth||"",clientWidth:void 0!==m[c]?m[c]:null,clientHeight:void 0!==l[c]?l[c]:null,expandRows:g,syncRowHeights:Boolean(e.syncRowHeights),rowSyncHeights:o,reportRowHeightChange:this.handleRowHeightChange},a),n=t?d?"scroll":"scroll-hidden":h?d?"auto":"scroll-hidden":"hidden",m=u?s?"scroll":"scroll-hidden":f?s?"auto":"scroll-hidden":"hidden",r=S(Ql,{ref:this.clippedScrollerRefs.createRef(c),scrollerElRef:this.scrollerElRefs.createRef(c),overflowX:n,overflowY:m,forPrint:this.props.forPrint,liquid:p,maxHeight:e.maxHeight},r),S(a?"th":"td",{key:i.key,ref:this.chunkElRefs.createRef(c),role:"presentation"},r))}componentDidMount(){this.getStickyScrolling=ln(ac),this.getScrollSyncersBySection=cn(sc.bind(this,!0),null,oc),this.getScrollSyncersByColumn=cn(sc.bind(this,!1),null,oc),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(e,t){this.updateScrollSyncers(),this.handleSizing(!1,t.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}allowSizing(){var e=new Date;return!this.lastSizingDate||e.valueOf()>this.lastSizingDate.valueOf()+H.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=e,!(this.recentSizingCnt=0)):(this.recentSizingCnt+=1)<=10}computeShrinkWidths(){let e=this.compileColGroupStats(this.props.colGroups.map(e=>[e])),[t,n]=this.getDims(),r=t*n,i=[];return e.forEach((e,t)=>{e.hasShrinkCol&&(e=this.chunkElRefs.collect(t,r,n),i[t]=vs(e))}),i}computeSectionRowMaxHeights(){let i=new Map,[e,s]=this.getDims(),t=[];for(let r=0;r<e;r+=1){var o=this.props.sections[r],a=[];if(o&&o.syncRowHeights){var l=[];for(let e=0;e<s;e+=1){var c=r*s+e,c=this.chunkElRefs.currentMap[c],c=c?Ze(c,".fc-scrollgrid-sync-table tr").map(e=>{var t=$l(e);return i.set(e,t),t}):[];l.push(c)}let n=l[0].length,t=!0;for(let e=1;e<s;e+=1)if((!o.chunks[e]||void 0===o.chunks[e].outerContent)&&l[e].length!==n){t=!1;break}if(t){for(let e=0;e<s;e+=1)a.push([]);for(let t=0;t<n;t+=1){var d=[];for(let e=0;e<s;e+=1){var u=l[e][t];null!=u&&d.push(u)}var h=Math.max(...d);for(let e=0;e<s;e+=1)a[e].push(h)}}else{var f=[];for(let e=0;e<s;e+=1)f.push(function(e){let t=0;for(var n of e)t+=n;return t}(l[e])+l[e].length);var p=Math.max(...f);for(let o=0;o<s;o+=1){let e=l[o].length,t=p-e,n=Math.floor(t/e),r=t-n*(e-1),i=[],s=0;for(s<e&&(i.push(r),s+=1);s<e;)i.push(n),s+=1;a.push(i)}}}t.push(a)}return this.rowInnerMaxHeightMap=i,t}computeScrollerDims(){let n=Mr(),[r,i]=this.getDims(),s=!this.context.isRtl||kr()?i-1:0,o=r-1,t=this.clippedScrollerRefs.currentMap,a=this.scrollerElRefs.currentMap,l=!1,c=!1,d={},u={};for(let e=0;e<r;e+=1){var h=t[e*i+s];if(h&&h.needsYScrolling()){l=!0;break}}for(let e=0;e<i;e+=1){var f=t[o*i+e];if(f&&f.needsXScrolling()){c=!0;break}}for(let t=0;t<r;t+=1)for(let e=0;e<i;e+=1){var p=t*i+e,g=a[p];g&&(g=g.parentNode,d[p]=Math.floor(g.getBoundingClientRect().width-(e===s&&l?n.y:0)),u[p]=Math.floor(g.getBoundingClientRect().height-(t===o&&c?n.x:0)))}return{forceYScrollbars:l,forceXScrollbars:c,scrollerClientWidths:d,scrollerClientHeights:u}}updateStickyScrolling(){let t=this.context["isRtl"],e=this.scrollerElRefs.getAll().map(e=>[e,t]);this.getStickyScrolling(e).forEach(e=>e.updateSize())}updateScrollSyncers(){var[t,n]=this.getDims(),r=t*n,i={},s={},o=this.scrollerElRefs.currentMap;for(let e=0;e<t;e+=1){var a=e*n;i[e]=jt(o,a,a+n,1)}for(let e=0;e<n;e+=1)s[e]=this.scrollerElRefs.collect(e,r,n);this.scrollSyncersBySection=this.getScrollSyncersBySection(i),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(s)}destroyScrollSyncers(){I(this.scrollSyncersBySection,oc),I(this.scrollSyncersByColumn,oc)}getChunkConfigByIndex(e){var t=this.getDims()[1],n=Math.floor(e/t),n=this.props.sections[n];return n&&n.chunks[e%t]}forceScrollLeft(e,t){e=this.scrollSyncersByColumn[e];e&&e.forceScrollLeft(t)}forceScrollTop(e,t){e=this.scrollSyncersBySection[e];e&&e.forceScrollTop(t)}_handleChunkEl(e,t){t=this.getChunkConfigByIndex(parseInt(t,10));t&&o(t.elRef,e)}_handleScrollerEl(e,t){t=this.getChunkConfigByIndex(parseInt(t,10));t&&o(t.scrollerElRef,e)}getDims(){var e=this.props.sections.length;return[e,e?this.props.sections[0].chunks.length:0]}}function $l(e){e=Ze(e,".fc-scrollgrid-sync-inner").map(ec);return e.length?Math.max(...e):0}function ec(e){return e.offsetHeight}function tc(e){var t=nc(e.cols,"width"),n=nc(e.cols,"minWidth"),r=ws(e.cols);return{hasShrinkCol:r,totalColWidth:t,totalColMinWidth:n,allowXScrolling:"shrink"!==e.width&&Boolean(t||n||r),cols:e.cols,width:e.width}}function nc(e,t){let n=0;for(var r of e){var i=r[t];"number"==typeof i&&(n+=i*(r.span||1))}return n}Kl.addStateEquality({shrinkWidths:d,scrollerClientWidths:g,scrollerClientHeights:g});const rc={cols:Es};function ic(e,t){return Bt(e,t,rc)}function sc(e,...t){return new Jl(e,t)}function oc(e){e.destroy()}function ac(e,t){return new Yl(e,t)}var lc=p({name:"@fullcalendar/scrollgrid",premiumReleaseDate:"2023-05-25",deps:[Fl],scrollGridImpl:Kl});H.COLLAPSIBLE_WIDTH_THRESHOLD=1200;let cc=[],dc=[];function uc(){for(var e of cc)e.emitter.trigger("_beforeprint");Fr(()=>{dc.push(function(){let e=Ze(document.body,".fc-scrollgrid");return e.forEach(fc),()=>e.forEach(pc)}())})}function hc(){for(var e of cc)e.emitter.trigger("_afterprint");Fr(()=>{for(;dc.length;)dc.shift()()})}function fc(e){var t=e.getBoundingClientRect().width;(!e.classList.contains("fc-scrollgrid-collapsible")||t<H.COLLAPSIBLE_WIDTH_THRESHOLD)&&(e.style.width=t+"px")}function pc(e){e.style.width=""}Ge(".fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{background:#fff!important;color:#000!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}");var gc=p({name:"@fullcalendar/adaptive",premiumReleaseDate:"2023-05-25",deps:[Fl],contextInit:function(e){cc.length||(window.addEventListener("beforeprint",uc),window.addEventListener("afterprint",hc)),cc.push(e),e.calendarApi.on("_unmount",()=>{zt(cc,e),cc.length||(window.removeEventListener("beforeprint",uc),window.removeEventListener("afterprint",hc))})}});H.MAX_TIMELINE_SLOTS=1e3;const mc=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function vc(t,n,l,e){var c={labelInterval:l.slotLabelInterval,slotDuration:l.slotDuration},r=c,i=t,s=n;if(i=i.currentRange,r.labelInterval&&s.countDurationsBetween(i.start,i.end,r.labelInterval)>H.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),r.labelInterval=null),r.slotDuration&&s.countDurationsBetween(i.start,i.end,r.slotDuration)>H.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),r.slotDuration=null),r.labelInterval&&r.slotDuration){const i=Mt(r.labelInterval,r.slotDuration);(null===i||i<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),r.slotDuration=null)}Sc(c,t,n);{s=c;var o=t,a=n;i=o.currentRange;let e=s["slotDuration"];if(!e){var d,u=Sc(s,o,a);for(d of mc){const o=k(d),a=Mt(u,o);if(null!==a&&1<a&&a<=6){e=o;break}}e=(e=e&&200<a.countDurationsBetween(i.start,i.end,e)?null:e)||u,s.slotDuration=e}}r=l.slotLabelFormat,o=Array.isArray(r)?r:null!=r?[r]:function(e,t){let n,r;var i=c["labelInterval"];let s=_t(i).unit;var o=l.weekNumbers;let a=n=r=null;switch(s="week"!==s||o?s:"day"){case"year":a={year:"numeric"};break;case"month":1<Ec("years",e,t)&&(a={year:"numeric"}),n={month:"short"};break;case"week":1<Ec("years",e,t)&&(a={year:"numeric"}),n={week:"narrow"};break;case"day":1<Ec("years",e,t)?a={year:"numeric",month:"long"}:1<Ec("months",e,t)&&(a={month:"long"}),o&&(n={week:"short"}),r={weekday:"narrow",day:"numeric"};break;case"hour":o&&(a={week:"short"}),1<Ec("days",e,t)&&(n={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),r={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":6<=Tt(i)/60?(a={hour:"numeric",meridiem:"short"},n=e=>":"+T(e.date.minute,2)):a={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":6<=kt(i)/60?(a={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},n=e=>":"+T(e.date.second,2)):a={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":a={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},n=e=>"."+T(e.millisecond,3)}return[].concat(a||[],n||[],r||[])}(t,n);c.headerFormats=o.map(e=>N(e)),c.isTimeScale=Boolean(c.slotDuration.milliseconds);let h=null;if(!c.isTimeScale){const t=_t(c.slotDuration).unit;/year|month|week/.test(t)&&(h=t)}c.largeUnit=h,c.emphasizeWeeks=1===wt(c.slotDuration)&&2<=Ec("weeks",t,n)&&!l.businessHours;let f,p,g=l.snapDuration,m=(g&&(f=k(g),p=Mt(c.slotDuration,f)),null==p&&(f=c.slotDuration,p=1),c.snapDuration=f,c.snapsPerSlot=p,M(t.slotMaxTime)-M(t.slotMinTime)),v=yc(t.renderRange.start,c,n),y=yc(t.renderRange.end,c,n),b=(c.isTimeScale&&(v=n.add(v,t.slotMinTime),y=n.add(O(y,-1),t.slotMaxTime)),c.timeWindowMs=m,c.normalizedRange={start:v,end:y},[]),S=v;for(;S<y;)bc(S,c,t,e)&&b.push(S),S=n.add(S,c.slotDuration);c.slotDates=b;let E=-1,C=0;var D=[],w=[];for(S=v;S<y;)bc(S,c,t,e)?(E+=1,D.push(E),w.push(C)):D.push(E+.5),S=n.add(S,c.snapDuration),C+=1;return c.snapDiffToIndex=D,c.snapIndexToDiff=w,c.snapCnt=E+1,c.slotCnt=c.snapCnt/c.snapsPerSlot,c.isWeekStarts=function(e){let{slotDates:t,emphasizeWeeks:n}=c,r=null,i=[];for(var s of t){var s=e.computeWeekNumber(s),o=n&&null!==r&&r!==s;r=s,i.push(o)}return i}(n),c.cellRows=function(l,c){var t=l.slotDates,d=l.headerFormats,u=d.map(()=>[]),e=wt(l.slotDuration),h=7===e?"week":1===e?"day":null,f=d.map(e=>e.getLargestUnit?e.getLargestUnit():null);for(let e=0;e<t.length;e+=1){var p,g=t[e],m=l.isWeekStarts[e];for(let a=0;a<d.length;a+=1){let e=d[a],t=u[a],n=t[t.length-1],r=a===d.length-1,i=1<d.length&&!r,s=null,o=f[a]||(r?h:null);i?(p=c.format(g,e),n&&n.text===p?n.colspan+=1:s=Cc(g,p,o)):!n||St(c.countDurationsBetween(l.normalizedRange.start,g,l.labelInterval))?(p=c.format(g,e),s=Cc(g,p,o)):n.colspan+=1,s&&(s.weekStart=m,t.push(s))}}return u}(c,n),c.slotsPerLabel=Mt(c.labelInterval,c.slotDuration),c}function yc(e,t,n){let r=e;return t.isTimeScale||(r=v(r),t.largeUnit&&(r=n.startOf(r,t.largeUnit))),r}function bc(e,t,n,r){return!r.isHiddenDay(e)&&(!t.isTimeScale||(r=v(e),((e.valueOf()-r.valueOf()-M(n.slotMinTime))%864e5+864e5)%864e5<t.timeWindowMs))}function Sc(t,e,n){const r=e["currentRange"];let i=t["labelInterval"];if(!i){let e;if(t.slotDuration){for(e of mc){const n=k(e),r=Mt(n,t.slotDuration);if(null!==r&&r<=6){i=n;break}}i=i||t.slotDuration}else for(e of mc)if(i=k(e),18<=n.countDurationsBetween(r.start,r.end,i))break;t.labelInterval=i}return i}function Ec(e,t,n){let r=t.currentRange,i=null;return"years"===e?i=n.diffWholeYears(r.start,r.end):"months"===e||"weeks"===e?i=n.diffWholeMonths(r.start,r.end):"days"===e&&(i=Qt(r.start,r.end)),i||0}function Cc(e,t,n){return{date:e,text:t,rowUnit:n,colspan:1,isWeekStart:!1}}class Dc extends s{constructor(){super(...arguments),this.refineRenderProps=an(Ac),this.buildCellNavLinkAttrs=m(wc)}render(){let{props:t,context:n}=this,{dateEnv:e,options:r}=n,{cell:i,dateProfile:s,tDateProfile:o}=t,a=Er(i.date,t.todayRange,t.nowDate,s),l=this.refineRenderProps({level:t.rowLevel,dateMarker:i.date,text:i.text,dateEnv:n.dateEnv,viewApi:n.viewApi});return S(h,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",i.isWeekStart&&"fc-timeline-slot-em",...("time"===i.rowUnit?Dr:Cr)(a,n.theme)],elAttrs:{colSpan:i.colspan,"data-date":e.formatIso(i.date,{omitTime:!o.isTimeScale,omitTimeZoneOffset:!0})},renderProps:l,generatorName:"slotLabelContent",customGenerator:r.slotLabelContent,defaultGenerator:Rc,classNameGenerator:r.slotLabelClassNames,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},e=>S("div",{className:"fc-timeline-slot-frame",style:{height:t.rowInnerHeight}},S(e,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",t.isSticky&&"fc-sticky"],elAttrs:this.buildCellNavLinkAttrs(n,i.date,i.rowUnit)})))}}function wc(e,t,n){return n&&"time"!==n?Ar(e,t,n):{}}function Rc(e){return e.text}function Ac(e){return{level:e.level,date:e.dateEnv.toDate(e.dateMarker),view:e.viewApi,text:e.text}}class xc extends s{render(){let{dateProfile:i,tDateProfile:s,rowInnerHeights:o,todayRange:a,nowDate:l}=this.props,c=s["cellRows"];return S(A,null,c.map((e,t)=>{let n=t===c.length-1,r=s.isTimeScale&&n;return S("tr",{key:t,className:["fc-timeline-header-row",r?"fc-timeline-header-row-chrono":""].join(" ")},e.map(e=>S(Dc,{key:e.date.toISOString(),cell:e,rowLevel:t,dateProfile:i,tDateProfile:s,todayRange:a,nowDate:l,rowInnerHeight:o&&o[t],isSticky:!n})))}))}}class Tc{constructor(e,t,n,r,i,s){this.slatRootEl=e,this.dateProfile=n,this.tDateProfile=r,this.dateEnv=i,this.isRtl=s,this.outerCoordCache=new Br(e,t,!0,!1),this.innerCoordCache=new Br(e,Xe(t,"div"),!0,!1)}isDateInRange(e){return b(this.dateProfile.currentRange,e)}dateToCoord(e){var t=this["tDateProfile"],e=this.computeDateSnapCoverage(e)/t.snapsPerSlot,n=Math.floor(e),e=e-(n=Math.min(n,t.slotCnt-1)),{innerCoordCache:t,outerCoordCache:r}=this;return this.isRtl?r.originClientRect.width-(r.rights[n]-t.getWidth(n)*e):r.lefts[n]+t.getWidth(n)*e}rangeToCoords(e){return{start:this.dateToCoord(e.start),end:this.dateToCoord(e.end)}}durationToCoord(t){let{dateProfile:n,tDateProfile:r,dateEnv:i,isRtl:s}=this,o=0;if(n){let e=i.add(n.activeRange.start,t);r.isTimeScale||(e=v(e)),o=this.dateToCoord(e),!s&&o&&(o+=1)}return o}coordFromLeft(e){return this.isRtl?this.outerCoordCache.originClientRect.width-e:e}computeDateSnapCoverage(e){return kc(e,this.tDateProfile,this.dateEnv)}}function kc(e,t,n){n=n.countDurationsBetween(t.normalizedRange.start,e,t.snapDuration);if(n<0)return 0;if(n>=t.snapDiffToIndex.length)return t.snapCnt;let r=Math.floor(n),i=t.snapDiffToIndex[r];return St(i)?i+=n-r:i=Math.ceil(i),i}function Mc(e,t){return null===e?{left:"",right:""}:t?{right:e,left:""}:{left:e,right:""}}function _c(e,t){return e?t?{right:e.start,left:-e.end}:{left:e.start,right:-e.end}:{left:"",right:""}}class Ic extends s{constructor(){super(...arguments),this.rootElRef={current:null}}render(){let{props:n,context:r}=this,e=_t(n.tDateProfile.slotDuration).unit,i=n.slatCoords&&n.slatCoords.dateProfile===n.dateProfile?n.slatCoords:null;return S(y,{unit:e},(e,t)=>S("div",{className:"fc-timeline-header",ref:this.rootElRef},S("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:n.tableMinWidth,width:n.clientWidth}},n.tableColGroupNode,S("tbody",null,S(xc,{dateProfile:n.dateProfile,tDateProfile:n.tDateProfile,nowDate:e,todayRange:t,rowInnerHeights:n.rowInnerHeights}))),r.options.nowIndicator&&S("div",{className:"fc-timeline-now-indicator-container"},i&&i.isDateInRange(e)&&S(Ns,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:Mc(i.dateToCoord(e),r.isRtl),isAxis:!0,date:e}))))}componentDidMount(){this.updateSize()}componentDidUpdate(){this.updateSize()}updateSize(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}computeMaxCushionWidth(){return Math.max(...Ze(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(e=>e.getBoundingClientRect().width))}}class Oc extends s{render(){var{props:e,context:t}=this,{dateEnv:n,options:r,theme:i}=t,{date:s,tDateProfile:o,isEm:a}=e,l=Er(e.date,e.todayRange,e.nowDate,e.dateProfile),t=Object.assign(Object.assign({date:n.toDate(e.date)},l),{view:t.viewApi});return S(h,{elTag:"td",elRef:e.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",a&&"fc-timeline-slot-em",o.isTimeScale?St(n.countDurationsBetween(o.normalizedRange.start,e.date,o.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":"",...(e.isDay?Cr:Dr)(l,i)],elAttrs:{"data-date":n.formatIso(s,{omitTimeZoneOffset:!0,omitTime:!o.isTimeScale})},renderProps:t,generatorName:"slotLaneContent",customGenerator:r.slotLaneContent,classNameGenerator:r.slotLaneClassNames,didMount:r.slotLaneDidMount,willUnmount:r.slotLaneWillUnmount},e=>S(e,{elTag:"div"}))}}class Nc extends s{render(){let r=this["props"],{tDateProfile:i,cellElRefs:s}=r,{slotDates:e,isWeekStarts:o}=i,a=!i.isTimeScale&&!i.largeUnit;return S("tbody",null,S("tr",null,e.map((e,t)=>{var n=e.toISOString();return S(Oc,{key:n,elRef:s.createRef(n),date:e,dateProfile:r.dateProfile,tDateProfile:i,nowDate:r.nowDate,todayRange:r.todayRange,isEm:o[t],isDay:a})})))}}class Pc extends s{constructor(){super(...arguments),this.rootElRef={current:null},this.cellElRefs=new f,this.handleScrollRequest=e=>{var t=this.props["onScrollLeftRequest"],n=this["coords"];return t&&n?(e.time&&t(n.coordFromLeft(n.durationToCoord(e.time))),!0):null}}render(){var{props:e,context:t}=this;return S("div",{className:"fc-timeline-slots",ref:this.rootElRef},S("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,S(Nc,{cellElRefs:this.cellElRefs,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange})))}componentDidMount(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.updateSizing(),this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}updateSizing(){var t,{props:e,context:n}=this;null!==e.clientWidth&&this.scrollResponder&&this.rootElRef.current.offsetWidth&&(this.coords=new Tc(this.rootElRef.current,(t=this.cellElRefs.currentMap,e.tDateProfile.slotDates.map(e=>{e=e.toISOString();return t[e]})),e.dateProfile,e.tDateProfile,n.dateEnv,n.isRtl),e.onCoords&&e.onCoords(this.coords),this.scrollResponder.update(!1))}positionToHit(e){var t,n=this.coords["outerCoordCache"],{dateEnv:r,isRtl:i}=this.context,s=this.props["tDateProfile"],o=n.leftToIndex(e);return null!=o?(t=n.getWidth(o),i=i?(n.rights[o]-e)/t:(e-n.lefts[o])/t,e=Math.floor(i*s.snapsPerSlot),{dateSpan:{range:{start:t=r.add(s.slotDates[o],At(s.snapDuration,e)),end:r.add(t,s.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[o],left:n.lefts[o],right:n.rights[o]}):null}}function Hc(e,r,i){var s=[];if(i)for(var o of e){let e=i.rangeToCoords(o),t=Math.round(e.start),n=Math.round(e.end);n-t<r&&(n=t+r),s.push({start:t,end:n})}return s}class Wc extends s{render(){var e=this["props"],t=[].concat(e.eventResizeSegs,e.dateSelectionSegs);return e.timelineCoords&&S("div",{className:"fc-timeline-bg"},this.renderSegs(e.businessHourSegs||[],e.timelineCoords,"non-business"),this.renderSegs(e.bgEventSegs||[],e.timelineCoords,"bg-event"),this.renderSegs(t,e.timelineCoords,"highlight"))}renderSegs(e,t,n){let{todayRange:r,nowDate:i}=this.props,s=this.context["isRtl"],o=Hc(e,0,t),a=e.map((e,t)=>{t=_c(o[t],s);return S("div",{key:pi(e.eventRange),className:"fc-timeline-bg-harness",style:t},"bg-event"===n?S(js,Object.assign({seg:e},E(e,r,i))):Ls(n))});return S(A,null,a)}}class Bc extends es{sliceRange(e,t,n,r,i){e=e,a=i,!(s=r).isTimeScale&&(e=nr(e),s.largeUnit)&&(o=e,((e={start:a.startOf(e.start,s.largeUnit),end:a.startOf(e.end,s.largeUnit)}).end.valueOf()!==o.end.valueOf()||e.end<=e.start)&&(e={start:e.start,end:a.add(e.end,s.slotDuration)}));var s,o=e,a=[];return kc(o.start,r,i)<kc(o.end,r,i)&&(s=w(o,r.normalizedRange))&&a.push({start:s.start,end:s.end,isStart:s.start.valueOf()===o.start.valueOf()&&bc(s.start,r,t,n),isEnd:s.end.valueOf()===o.end.valueOf()&&bc(Gt(s.end,-1),r,t,n)}),a}}const jc=N({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});class zc extends s{render(){var e=this["props"];return S(Is,Object.assign({},e,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:jc,defaultDisplayEventTime:!e.isTimeScale}))}}class Lc extends s{render(){let{props:n,context:e}=this,{hiddenSegs:t,placement:r,resourceId:i}=n,{top:s,hcoords:o}=r,a=o&&null!==s,l=_c(o,e.isRtl),c=i?{resourceId:i}:{};return S(qs,{elRef:n.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:a?"":"hidden",top:s||0},l),allDayDate:null,moreCnt:t.length,allSegs:t,hiddenSegs:t,dateProfile:n.dateProfile,todayRange:n.todayRange,extraDateSpan:c,popoverContent:()=>S(A,null,t.map(e=>{var t=e.eventRange.instance.instanceId;return S("div",{key:t,style:{visibility:n.isForcedInvisible[t]?"hidden":""}},S(zc,Object.assign({isTimeScale:n.isTimeScale,seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===n.eventSelection},E(e,n.todayRange,n.nowDate))))}))},e=>S(e,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]}))}}class Uc extends s{constructor(){super(...arguments),this.slicer=new Bc,this.sortEventSegs=m(ui),this.harnessElRefs=new f,this.moreElRefs=new f,this.innerElRef={current:null},this.state={eventInstanceHeights:{},moreLinkHeights:{}},this.handleResize=e=>{e&&this.updateSize()}}render(){var{props:e,state:t,context:n}=this,r=n["options"],{dateProfile:i,tDateProfile:s}=e,i=this.slicer.sliceProps(e,i,s.isTimeScale?null:e.nextDayThreshold,n,i,n.dateProfileGenerator,s,n.dateEnv),s=(i.eventDrag?i.eventDrag.segs:null)||(i.eventResize?i.eventResize.segs:null)||[],n=this.sortEventSegs(i.fgEventSegs,r.eventOrder),[n,t]=function(t,n,r,i,e,s){var o=[],a=[];for(let e=0;e<t.length;e+=1){var l=t[e],c=r[l.eventRange.instance.instanceId],d=n[e];c&&d?o.push({index:e,span:d,thickness:c}):a.push({seg:l,hcoords:d,top:null})}var u,h=new wi,e=(null!=e&&(h.strictOrder=e),null!=s&&(h.maxStackCnt=s),h.addSegs(o)),s=e.map(e=>({seg:t[e.index],hcoords:e.span,top:null})),f=xi(e),p=[],g=[],m=e=>t[e.index];for(let e=0;e<f.length;e+=1){var v=f[e],y=v.entries.map(m),b=i[tn(Zs(y))];null!=b?p.push({index:t.length+e,thickness:b,span:v.span}):g.push({seg:y,hcoords:v.span,top:null})}h.maxStackCnt=-1,h.addSegs(p);let S=h.toRects(),E=[],C=0;for(u of S){var D=u.index;E.push({seg:D<t.length?t[D]:f[D-t.length].entries.map(m),hcoords:u.span,top:u.levelCoord}),C=Math.max(C,u.levelCoord+u.thickness)}return[E.concat(a,s,g),C]}(n,Hc(n,r.eventMinWidth,e.timelineCoords),t.eventInstanceHeights,t.moreLinkHeights,r.eventOrderStrict,r.eventMaxStack),r=(i.eventDrag?i.eventDrag.affectedInstances:null)||(i.eventResize?i.eventResize.affectedInstances:null)||{};return S(A,null,S(Wc,{businessHourSegs:i.businessHourSegs,bgEventSegs:i.bgEventSegs,timelineCoords:e.timelineCoords,eventResizeSegs:i.eventResize?i.eventResize.segs:[],dateSelectionSegs:i.dateSelectionSegs,nowDate:e.nowDate,todayRange:e.todayRange}),S("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:t}},this.renderFgSegs(n,r,!1,!1,!1),this.renderFgSegs(function(e,t,r){if(!e.length||!t)return[];let n=function(){var e,t={};for(e of r){var n=e["seg"];Array.isArray(n)||(t[n.eventRange.instance.instanceId]=e.top)}return t}();return e.map(e=>({seg:e,hcoords:t.rangeToCoords(e),top:n[e.eventRange.instance.instanceId]}))}(s,e.timelineCoords,n),{},Boolean(i.eventDrag),Boolean(i.eventResize),!1)))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){e.eventStore===this.props.eventStore&&e.timelineCoords===this.props.timelineCoords&&t.moreLinkHeights===this.state.moreLinkHeights||this.updateSize()}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateSize(){let e=this["props"],t=e["timelineCoords"];const n=this.innerElRef.current;e.onHeightChange&&e.onHeightChange(n,!1),t&&this.setState({eventInstanceHeights:I(this.harnessElRefs.currentMap,e=>Math.round(e.getBoundingClientRect().height)),moreLinkHeights:I(this.moreElRefs.currentMap,e=>Math.round(e.getBoundingClientRect().height))},()=>{e.onHeightChange&&e.onHeightChange(n,!0)}),e.syncParentMinHeight&&(n.parentElement.style.minHeight=n.style.height)}renderFgSegs(e,s,o,a,l){let{harnessElRefs:c,moreElRefs:d,props:u,context:h}=this,f=o||a||l;return S(A,null,e.map(e=>{var t,{seg:n,hcoords:r,top:i}=e;return Array.isArray(n)?(t=tn(Zs(n)),S(Lc,{key:"m:"+t,elRef:d.createRef(t),hiddenSegs:n,placement:e,dateProfile:u.dateProfile,nowDate:u.nowDate,todayRange:u.todayRange,isTimeScale:u.tDateProfile.isTimeScale,eventSelection:u.eventSelection,resourceId:u.resourceId,isForcedInvisible:s})):(t=n.eventRange.instance.instanceId,e=f||Boolean(!s[t]&&r&&null!==i),r=_c(r,h.isRtl),S("div",{key:"e:"+t,ref:f?null:c.createRef(t),className:"fc-timeline-event-harness",style:Object.assign({visibility:e?"":"hidden",top:i||0},r)},S(zc,Object.assign({isTimeScale:u.tDateProfile.isTimeScale,seg:n,isDragging:o,isResizing:a,isDateSelecting:l,isSelected:t===u.eventSelection},E(n,u.todayRange,u.nowDate)))))}))}}Uc.addStateEquality({eventInstanceHeights:g,moreLinkHeights:g});class Gc extends a{constructor(){super(...arguments),this.slatsRef={current:null},this.state={coords:null},this.handeEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleCoords=e=>{this.setState({coords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:n,state:r,context:i}=this,s=i["options"],{dateProfile:o,tDateProfile:a}=n,e=_t(a.slotDuration).unit;return S("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:n.tableMinWidth,height:n.clientHeight,width:n.clientWidth}},S(y,{unit:e},(e,t)=>S(A,null,S(Pc,{ref:this.slatsRef,dateProfile:o,tDateProfile:a,nowDate:e,todayRange:t,clientWidth:n.clientWidth,tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,onCoords:this.handleCoords,onScrollLeftRequest:n.onScrollLeftRequest}),S(Uc,{dateProfile:o,tDateProfile:n.tDateProfile,nowDate:e,todayRange:t,nextDayThreshold:s.nextDayThreshold,businessHours:n.businessHours,eventStore:n.eventStore,eventUiBases:n.eventUiBases,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,timelineCoords:r.coords,syncParentMinHeight:!0}),s.nowIndicator&&r.coords&&r.coords.isDateInRange(e)&&S("div",{className:"fc-timeline-now-indicator-container"},S(Ns,{elClasses:["fc-timeline-now-indicator-line"],elStyle:Mc(r.coords.dateToCoord(e),i.isRtl),isAxis:!1,date:e})))))}queryHit(e,t,n,r){e=this.slatsRef.current.positionToHit(e);return e?{dateProfile:this.props.dateProfile,dateSpan:e.dateSpan,rect:{left:e.left,right:e.right,top:0,bottom:r},dayEl:e.dayEl,layer:0}:null}}function Fc(e,t){return[{span:e.slotCnt,minWidth:t||1}]}Ge('.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}');var Vc=p({name:"@fullcalendar/timeline",premiumReleaseDate:"2023-05-25",deps:[Fl],initialView:"timelineDay",views:{timeline:{component:class extends a{constructor(){super(...arguments),this.buildTimelineDateProfile=m(vc),this.scrollGridRef={current:null},this.state={slatCoords:null,slotCushionMaxWidth:null},this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleScrollLeftRequest=e=>{this.scrollGridRef.current.forceScrollLeft(0,e)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})}}render(){let{props:t,state:n,context:e}=this,r=e["options"],i=!t.forPrint&&Ts(r),s=!t.forPrint&&ks(r),o=this.buildTimelineDateProfile(t.dateProfile,e.dateEnv,r,e.dateProfileGenerator),a=r["slotMinWidth"],l=Fc(o,a||this.computeFallbackSlotMinWidth(o)),c=[{type:"header",key:"header",isSticky:i,chunks:[{key:"timeline",content:e=>S(Ic,{dateProfile:t.dateProfile,clientWidth:e.clientWidth,clientHeight:e.clientHeight,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,tDateProfile:o,slatCoords:n.slatCoords,onMaxCushionWidth:a?null:this.handleMaxCushionWidth})}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:e=>S(Gc,Object.assign({},t,{clientWidth:e.clientWidth,clientHeight:e.clientHeight,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,tDateProfile:o,onSlatCoords:this.handleSlatCoords,onScrollLeftRequest:this.handleScrollLeftRequest}))}]}];return s&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:xs}]}),S(Ks,{elClasses:["fc-timeline",!1===r.eventOverlap?"fc-timeline-overlap-disabled":""],viewSpec:e.viewSpec},S(Kl,{ref:this.scrollGridRef,liquid:!t.isHeightAuto&&!t.forPrint,forPrint:t.forPrint,collapsibleWidth:!1,colGroups:[{cols:l}],sections:c}))}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}},usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});const qc={id:String,parentId:String,children:n,title:String,businessHours:n,extendedProps:n,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:n,eventOverlap:Boolean,eventAllow:n,eventClassNames:zn,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function Yc(e,t="",n,r){var{refined:e,extra:i}=In(e,qc),s={id:e.id||"_fc:"+c(),parentId:e.parentId||t,title:e.title||"",businessHours:e.businessHours?er(e.businessHours,r):null,ui:Gn({editable:e.eventEditable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:e.eventOverlap,allow:e.eventAllow,classNames:e.eventClassNames,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),extendedProps:Object.assign(Object.assign({},i),e.extendedProps)};if(Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),!n[s.id]&&(n[s.id]=s,e.children))for(var o of e.children)Yc(o,s.id,n,r);return s}function Qc(e){return 0===e.indexOf("_fc:")?"":e}class C{constructor(e,t){this._context=e,this._resource=t}setProp(e,t){var n=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:n.id,propName:e,propValue:t}),this.sync(n)}setExtendedProp(e,t){var n=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:n.id,propName:e,propValue:t}),this.sync(n)}sync(e){let t=this._context,n=e.id;this._resource=t.getCurrentData().resourceStore[n],t.emitter.trigger("resourceChange",{oldResource:new C(t,e),resource:this,revert(){t.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:e}})}})}remove(){let e=this._context,t=this._resource,n=t.id;e.dispatch({type:"REMOVE_RESOURCE",resourceId:n}),e.emitter.trigger("resourceRemove",{resource:this,revert(){e.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:t}})}})}getParent(){var e=this._context,t=this._resource.parentId;return t?new C(e,e.getCurrentData().resourceStore[t]):null}getChildren(){var e,t=this._resource.id,n=this._context,r=n.getCurrentData()["resourceStore"],i=[];for(e in r)r[e].parentId===t&&i.push(new C(n,r[e]));return i}getEvents(){var e,t=this._resource.id,n=this._context,{defs:r,instances:i}=n.getCurrentData().eventStore,s=[];for(e in i){var o=i[e],a=r[o.defId];-1!==a.resourceIds.indexOf(t)&&s.push(new P(n,a,o))}return s}get id(){return Qc(this._resource.id)}get title(){return this._resource.title}get eventConstraint(){return this._resource.ui.constraints[0]||null}get eventOverlap(){return this._resource.ui.overlap}get eventAllow(){return this._resource.ui.allows[0]||null}get eventBackgroundColor(){return this._resource.ui.backgroundColor}get eventBorderColor(){return this._resource.ui.borderColor}get eventTextColor(){return this._resource.ui.textColor}get eventClassNames(){return this._resource.ui.classNames}get extendedProps(){return this._resource.extendedProps}toPlainObject(e={}){var t=this._resource,n=t["ui"],r=this.id,i={};return r&&(i.id=r),t.title&&(i.title=t.title),e.collapseEventColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.eventColor=n.backgroundColor:(n.backgroundColor&&(i.eventBackgroundColor=n.backgroundColor),n.borderColor&&(i.eventBorderColor=n.borderColor)),n.textColor&&(i.eventTextColor=n.textColor),n.classNames.length&&(i.eventClassNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function Zc(e){return{resource:new C(e.context,e.resource)}}const Xc=gt("id,title");class Jc extends s{constructor(){super(...arguments),this.refineRenderProps=an($c)}render(){const n=this["props"];return S(u.Consumer,null,e=>{var t=e["options"],e=this.refineRenderProps({resource:n.resource,date:n.date,context:e});return S(h,Object.assign({},n,{elAttrs:Object.assign(Object.assign({},n.elAttrs),{"data-resource-id":n.resource.id,"data-date":n.date?nn(n.date):void 0}),renderProps:e,generatorName:"resourceLabelContent",customGenerator:t.resourceLabelContent,defaultGenerator:Kc,classNameGenerator:t.resourceLabelClassNames,didMount:t.resourceLabelDidMount,willUnmount:t.resourceLabelWillUnmount}))})}}function Kc(e){return e.resource.title||e.resource.id}function $c(e){return{resource:new C(e.context,e.resource),date:e.date?e.context.dateEnv.toDate(e.date):null,view:e.context.viewApi}}class ed extends s{render(){let t=this["props"];return S(Jc,{elTag:"th",elClasses:["fc-col-header-cell","fc-resource"],elAttrs:{role:"columnheader",colSpan:t.colSpan},resource:t.resource,date:t.date},e=>S("div",{className:"fc-scrollgrid-sync-inner"},S(e,{elTag:"span",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"]})))}}class td extends s{constructor(){super(...arguments),this.buildDateFormat=m(nd)}render(){let{props:n,context:r}=this,i=this.buildDateFormat(r.options.dayHeaderFormat,n.datesRepDistinctDays,n.dates.length);return S(y,{unit:"day"},(e,t)=>1===n.dates.length?this.renderResourceRow(n.resources,n.dates[0]):r.options.datesAboveResources?this.renderDayAndResourceRows(n.dates,i,t,n.resources):this.renderResourceAndDayRows(n.resources,n.dates,i,t))}renderResourceRow(e,t){e=e.map(e=>S(ed,{key:e.id,resource:e,colSpan:1,date:t}));return this.buildTr(e,"resources")}renderDayAndResourceRows(e,t,n,r){var i,s=[],o=[];for(i of e){s.push(this.renderDateCell(i,t,n,r.length,null,!0));for(var a of r)o.push(S(ed,{key:a.id+":"+i.toISOString(),resource:a,colSpan:1,date:i}))}return S(A,null,this.buildTr(s,"day"),this.buildTr(o,"resources"))}renderResourceAndDayRows(e,t,n,r){var i,s=[],o=[];for(i of e){s.push(S(ed,{key:i.id,resource:i,colSpan:t.length,isSticky:!0}));for(var a of t)o.push(this.renderDateCell(a,n,r,1,i))}return S(A,null,this.buildTr(s,"resources"),this.buildTr(o,"day"))}renderDateCell(e,t,n,r,i,s){var o=this["props"],a=i?":"+i.id:"",l=i?{resource:new C(this.context,i)}:{},i=i?{"data-resource-id":i.id}:{};return o.datesRepDistinctDays?S(qi,{key:e.toISOString()+a,date:e,dateProfile:o.dateProfile,todayRange:n,colCnt:o.dates.length*o.resources.length,dayHeaderFormat:t,colSpan:r,isSticky:s,extraRenderProps:l,extraDataAttrs:i}):S(Qi,{key:e.getUTCDay()+a,dow:e.getUTCDay(),dayHeaderFormat:t,colSpan:r,isSticky:s,extraRenderProps:l,extraDataAttrs:i})}buildTr(e,t){var n=this.props["renderIntro"];return e.length||(e=[S("td",{key:0},"Â ")]),S("tr",{key:t,role:"row"},n&&n(t),e)}}function nd(e,t,n){return e||Bi(t,n)}class rd{constructor(t){var n={},r=[];for(let e=0;e<t.length;e+=1){var i=t[e].id;r.push(i),n[i]=e}this.ids=r,this.indicesById=n,this.length=t.length}}class id{constructor(e,t,n){this.dayTableModel=e,this.resources=t,this.context=n,this.resourceIndex=new rd(t),this.rowCnt=e.rowCnt,this.colCnt=e.colCnt*t.length,this.cells=this.buildCells()}buildCells(){var{rowCnt:e,dayTableModel:r,resources:i}=this,t=[];for(let n=0;n<e;n+=1){var s=[];for(let t=0;t<r.colCnt;t+=1)for(let e=0;e<i.length;e+=1){var o=i[e],a={resource:new C(this.context,o)},l={"data-resource-id":o.id},c=["fc-resource"],d={resourceId:o.id},u=r.cells[n][t].date;s[this.computeCol(t,e)]={key:o.id+":"+u.toISOString(),date:u,extraRenderProps:a,extraDataAttrs:l,extraClassNames:c,extraDateSpan:d}}t.push(s)}return t}}class sd extends id{computeCol(e,t){return t*this.dayTableModel.colCnt+e}computeColRanges(e,t,n){return[{firstCol:this.computeCol(e,n),lastCol:this.computeCol(t,n),isStart:!0,isEnd:!0}]}}class od extends id{computeCol(e,t){return e*this.resources.length+t}computeColRanges(t,n,r){var i=[];for(let e=t;e<=n;e+=1){var s=this.computeCol(e,r);i.push({firstCol:s,lastCol:s,isStart:e===t,isEnd:e===n})}return i}}const ad=[];class ld{constructor(){this.joinDateSelection=m(this.joinSegs),this.joinBusinessHours=m(this.joinSegs),this.joinFgEvents=m(this.joinSegs),this.joinBgEvents=m(this.joinSegs),this.joinEventDrags=m(this.joinInteractions),this.joinEventResizes=m(this.joinInteractions)}joinProps(e,t){let n=[],r=[],i=[],s=[],o=[],a=[],l="",c=t.resourceIndex.ids.concat([""]);for(var d of c){var u=e[d];n.push(u.dateSelectionSegs),r.push(d?u.businessHourSegs:ad),i.push(d?u.fgEventSegs:ad),s.push(u.bgEventSegs),o.push(u.eventDrag),a.push(u.eventResize),l=l||u.eventSelection}return{dateSelectionSegs:this.joinDateSelection(t,...n),businessHourSegs:this.joinBusinessHours(t,...r),fgEventSegs:this.joinFgEvents(t,...i),bgEventSegs:this.joinBgEvents(t,...s),eventDrag:this.joinEventDrags(t,...o),eventResize:this.joinEventResizes(t,...a),eventSelection:l}}joinSegs(t,...n){var r=t.resources.length,i=[];for(let e=0;e<r;e+=1){for(var s of n[e])i.push(...this.transformSeg(s,t,e));for(var o of n[r])i.push(...this.transformSeg(o,t,e))}return i}expandSegs(t,n){var r=t.resources.length,i=[];for(let e=0;e<r;e+=1)for(var s of n)i.push(...this.transformSeg(s,t,e));return i}joinInteractions(t,...n){let r=t.resources.length,i={},s=[],o=!1,a=!1;for(let e=0;e<r;e+=1){var l=n[e];if(l){o=!0;for(var c of l.segs)s.push(...this.transformSeg(c,t,e));Object.assign(i,l.affectedInstances),a=a||l.isEvent}if(n[r])for(var d of n[r].segs)s.push(...this.transformSeg(d,t,e))}return o?{affectedInstances:i,segs:s,isEvent:a}:null}}class cd extends pr{getKeyInfo(e){let t=e["resourceDayTableModel"],n=I(t.resourceIndex.indicesById,e=>t.resources[e]);return n[""]={},n}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){e=e.resourceIds;return e.length?e:[""]}}function dd(e,t){return ud(e,[],t,!1,{},!0).map(e=>e.resource)}function ud(a,e,t,n,r,i){var s=[];return function t(n,r,i,s,o,a,l){for(let e=0;e<n.length;e+=1){var c,d,u,h=n[e],f=h.group;f?i?(u=r.length,d=s.length,t(h.children,r,i,s.concat(0),o,a,l),u<r.length&&(((c=r[u]).rowSpans=c.rowSpans.slice())[d]=r.length-u)):(d=null!=a[c=f.spec.field+":"+f.value]?a[c]:l,r.push({id:c,group:f,isExpanded:d}),d&&t(h.children,r,i,s,o+1,a,l)):h.resource&&(f=null!=a[u=h.resource.id]?a[u]:l,r.push({id:u,rowSpans:s,depth:o,isExpanded:f,hasChildren:Boolean(h.children.length),resource:h.resource,resourceFields:h.resourceFields}),f)&&t(h.children,r,i,s,o+1,a,l)}}(function(e,t,n){var r,i=function(e,t){var n,r,i={};for(n in e){var s=e[n];i[n]={resource:s,resourceFields:fd(s),children:[]}}for(r in e){var o=e[r];o.parentId&&(o=i[o.parentId])&&hd(i[r],o.children,t)}return i}(a,n),s=[];for(r in i){var o=i[r];o.resource.parentId||function e(t,n,r,i,s,o){r.length&&(-1===s||i<=s)?e(t,function(e,n,r){let i,s,o=e.resourceFields[r.field];if(r.order)for(s=0;s<n.length;s+=1){let t=n[s];if(t.group){let e=vt(o,t.group.value)*r.order;if(0==e){i=t;break}if(e<0)break}}else for(s=0;s<n.length;s+=1){let e=n[s];if(e.group&&o===e.group.value){i=e;break}}return i||(i={group:{value:o,spec:r},children:[]},n.splice(s,0,i)),i}(t,n,r[0]).children,r.slice(1),i+1,s,o):hd(t,n,o)}(o,s,t,0,e,n)}return s}(n?-1:1,e,t),s,n,[],0,r,i),s}function hd(e,t,n){let r;for(r=0;r<t.length&&!(0<mt(t[r].resourceFields,e.resourceFields,n));r+=1);t.splice(r,0,e)}function fd(e){e=Object.assign(Object.assign(Object.assign({},e.extendedProps),e.ui),e);return delete e.ui,delete e.extendedProps,e}class pd extends pr{getKeyInfo(e){return Object.assign({"":{}},e.resourceStore)}getKeysForDateSpan(e){return[e.resourceId||""]}getKeysForEventDef(e){e=e.resourceIds;return e.length?e:[""]}}function gd(e,t){let n=e["resourceEditable"];return n=null==n&&(e=e.sourceId&&t.getCurrentData().eventSources[e.sourceId],null==(n=e?e.extendedProps.resourceEditable:n))&&null==(n=t.options.eventResourceEditable)?t.options.editable:n}function md(e,t,r,i){if(t){let n=function(e,t){var n,r,i={};for(n in e)for(r of t[e[n].defId].resourceIds)i[r]=!0;return i}((t=r.instances,s=i,_(t,e=>br(e.range,s))),r.defs);return Object.assign(n,function(e,t){var n,r,i={};for(n in e)for(;(r=t[n])&&(n=r.parentId);)i[n]=!0;return i}(n,e)),_(e,(e,t)=>n[t])}var s;return e}function vd(e){return I(e,e=>e.ui)}function yd(e,o,a){return I(e,(e,t)=>{if(t){var n,r=e,t=o[t],i=a,s=[];for(n of t.resourceIds)i[n]&&s.unshift(i[n]);return s.unshift(r),Fn(s)}return e})}let bd=[];function Sd(e){bd.push(e)}function Ed(e){return bd[e]}const Cd={id:String,resources:n,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:n};function Dd(e){let t;if("string"==typeof e?t={url:e}:"function"==typeof e||Array.isArray(e)?t={resources:e}:"object"==typeof e&&e&&(t=e),t){var n,{refined:r,extra:i}=In(t,Cd);for(n in i)console.warn(`Unknown resource prop '${n}'`);i=function(t){var n=bd;for(let e=n.length-1;0<=e;--e){var r=n[e].parseMeta(t);if(r)return{meta:r,sourceDefId:e}}return null}(r);if(i)return{_raw:e,sourceId:c(),sourceDefId:i.sourceDefId,meta:i.meta,publicId:r.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}function wd(e,t,n,r){return e?Rd(Dd(e),n?t:null,r):null}function Rd(e,t,n){let r=Ed(e.sourceDefId),i=c();return r.fetch({resourceSource:e,range:t,context:n},e=>{n.dispatch({type:"RECEIVE_RESOURCES",fetchId:i,fetchRange:t,rawResources:e.rawResources})},e=>{n.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:i,fetchRange:t,error:e})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:i})}var Ad={resourceId:String,resourceIds:n,resourceEditable:Boolean};function xd(e,t){return Object.assign(Object.assign({},t),{constraints:(r=e,t.constraints.map(e=>{var t=e.defs;if(t)for(var n in t){n=t[n].resourceIds;if(n.length&&-1===n.indexOf(r))return!1}return e}))});var r}ro.prototype.addResource=function(e,t=!0){let n,r,i=this.getCurrentData();e instanceof C?(r=e._resource,n={[r.id]:r}):(n={},r=Yc(e,"",n,i)),this.dispatch({type:"ADD_RESOURCE",resourceHash:n}),t&&this.trigger("_scrollRequest",{resourceId:r.id});e=new C(i,r);return i.emitter.trigger("resourceAdd",{resource:e,revert:()=>{this.dispatch({type:"REMOVE_RESOURCE",resourceId:r.id})}}),e},ro.prototype.getResourceById=function(e){e=String(e);var t=this.getCurrentData();if(t.resourceStore){e=t.resourceStore[e];if(e)return new C(t,e)}return null},ro.prototype.getResources=function(){var e=this.getCurrentData(),t=e["resourceStore"],n=[];if(t)for(var r in t)n.push(new C(e,t[r]));return n},ro.prototype.getTopLevelResources=function(){var e=this.getCurrentData(),t=e["resourceStore"],n=[];if(t)for(var r in t)t[r].parentId||n.push(new C(e,t[r]));return n},ro.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};var Td={initialResources:n,resources:n,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:gt,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:n,resourceAreaColumns:n,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:n,resourceAreaHeaderContent:n,resourceAreaHeaderDidMount:n,resourceAreaHeaderWillUnmount:n,resourceGroupLabelClassNames:n,resourceGroupLabelContent:n,resourceGroupLabelDidMount:n,resourceGroupLabelWillUnmount:n,resourceLabelClassNames:n,resourceLabelContent:n,resourceLabelDidMount:n,resourceLabelWillUnmount:n,resourceLaneClassNames:n,resourceLaneContent:n,resourceLaneDidMount:n,resourceLaneWillUnmount:n,resourceGroupLaneClassNames:n,resourceGroupLaneContent:n,resourceGroupLaneDidMount:n,resourceGroupLaneWillUnmount:n},kd={resourcesSet:n,resourceAdd:n,resourceChange:n,resourceRemove:n},Ad=(P.prototype.getResources=function(){let t=this._context["calendarApi"];return this._def.resourceIds.map(e=>t.getResourceById(e))},P.prototype.setResources=function(e){var t,n=[];for(t of e){let e=null;"string"==typeof t?e=t:"number"==typeof t?e=String(t):t instanceof C?e=t.id:console.warn("unknown resource type: "+t),e&&n.push(e)}this.mutate({standardProps:{resourceIds:n}})},Sd({ignoreRange:!0,parseMeta:e=>Array.isArray(e.resources)?e.resources:null,fetch(e,t){t({rawResources:e.resourceSource.meta})}}),Sd({parseMeta:e=>"function"==typeof e.resources?e.resources:null,fetch(e,t,n){var r=e.context.dateEnv,i=e.resourceSource.meta,e=e.range?{start:r.toDate(e.range.start),end:r.toDate(e.range.end),startStr:r.formatIso(e.range.start),endStr:r.formatIso(e.range.end),timeZone:r.timeZone}:{};Hr(i.bind(null,e),e=>t({rawResources:e}),n)}}),Sd({parseMeta:e=>e.url?{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams}:null,fetch(c,n,e){var t=c.resourceSource.meta,r=function(e,t){let n,r,i,s,{dateEnv:o,options:a}=c.context,l={};return t&&(null==(n=e.startParam)&&(n=a.startParam),null==(r=e.endParam)&&(r=a.endParam),null==(i=e.timeZoneParam)&&(i=a.timeZoneParam),l[n]=o.formatIso(t.start),l[r]=o.formatIso(t.end),"local"!==o.timeZone)&&(l[i]=o.timeZone),s="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},Object.assign(l,s),l}(t,c.range);fs(t.method,t.url,r).then(([e,t])=>{n({rawResources:e,response:t})},e)}}),p({name:"@fullcalendar/resource",premiumReleaseDate:"2023-05-25",deps:[Fl],reducers:[function(e,t,n){var r=function(e,t,n){var r,i,s,o,{options:a,dateProfile:l}=n;if(!e||!t)return wd(a.initialResources||a.resources,l.activeRange,a.refetchResourcesOnNavigate,n);switch(t.type){case"RESET_RESOURCE_SOURCE":return wd(t.resourceSourceInput,l.activeRange,a.refetchResourcesOnNavigate,n);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r=e,i=l.activeRange,s=a.refetchResourcesOnNavigate,o=n,!s||Boolean(Ed(r.sourceDefId).ignoreRange)||r.fetchRange&&yr(r.fetchRange,i)?r:Rd(r,i,o);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return s=e,r=t.fetchId,i=t.fetchRange,r===s.latestFetchId?Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:i}):s;case"REFETCH_RESOURCES":return Rd(e,l.activeRange,n);default:return e}}(e&&e.resourceSource,t,n);return{resourceSource:r,resourceStore:function(e,t,n,r){if(!e||!t)return{};switch(t.type){case"RECEIVE_RESOURCES":var i=t.rawResources,s=t.fetchId,o=r;if(n.latestFetchId!==s)return e;var a,l={};for(a of i)Yc(a,"",l,o);return l;case"ADD_RESOURCE":return s=t.resourceHash,Object.assign(Object.assign({},e),s);case"REMOVE_RESOURCE":var c,d=t.resourceId,u=Object.assign({},e);for(c in delete u[d],u)u[c].parentId===d&&(u[c]=Object.assign(Object.assign({},u[c]),{parentId:""}));return u;case"SET_RESOURCE_PROP":return i=e,f=t.resourceId,p=t.propName,g=t.propValue,(m=i[f])?Object.assign(Object.assign({},i),{[f]:Object.assign(Object.assign({},m),{[p]:g})}):i;case"SET_RESOURCE_EXTENDED_PROP":return f=e,m=t.resourceId,p=t.propName,g=t.propValue,(h=f[m])?Object.assign(Object.assign({},f),{[m]:Object.assign(Object.assign({},h),{extendedProps:Object.assign(Object.assign({},h.extendedProps),{[p]:g})})}):f;default:return e}var h,f,p,g,m}(e&&e.resourceStore,t,r,n),resourceEntityExpansions:(r=e&&e.resourceEntityExpansions,n=t,r&&n?"SET_RESOURCE_ENTITY_EXPANDED"!==n.type?r:Object.assign(Object.assign({},r),{[n.id]:n.isExpanded}):{})}}],isLoadingFuncs:[e=>e.resourceSource&&e.resourceSource.isFetching],eventRefiners:Ad,eventDefMemberAdders:[function(e){return{resourceIds:(e.resourceIds||[]).map(e=>String(e)).concat(e.resourceId?[e.resourceId]:[]),resourceEditable:e.resourceEditable}}],isDraggableTransformers:[function(e,t,n,r){if(!e){var i=r.getCurrentData();if(i.viewSpecs[i.currentViewType].optionDefaults.needsResourceData&&gd(t,r))return!0}return e}],eventDragMutationMassagers:[function(e,t,n){t=t.dateSpan.resourceId,n=n.dateSpan.resourceId;t&&n&&t!==n&&(e.resourceMutation={matchResourceId:t,setResourceId:n})}],eventDefMutationAppliers:[function(e,t,n){var r,t=t.resourceMutation;t&&gd(e,n)&&-1!==(n=e.resourceIds.indexOf(t.matchResourceId))&&((r=e.resourceIds.slice()).splice(n,1),-1===r.indexOf(t.setResourceId)&&r.push(t.setResourceId),e.resourceIds=r)}],dateSelectionTransformers:[function(e,t){e=e.dateSpan.resourceId,t=t.dateSpan.resourceId;return e&&t?{resourceId:e}:null}],datePointTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],dateSpanTransforms:[function(e,t){return e.resourceId?{resource:t.calendarApi.getResourceById(e.resourceId)}:{}}],viewPropsTransformers:[class{constructor(){this.filterResources=m(md)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(t.resourceStore,t.options.filterResourcesWithEvents,t.eventStore,t.dateProfile.activeRange),resourceEntityExpansions:t.resourceEntityExpansions}:null}},class{constructor(){this.buildResourceEventUis=m(vd,g),this.injectResourceEventUis=m(yd)}transform(e,t){return t.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(e.eventUiBases,e.eventStore.defs,this.buildResourceEventUis(t.resourceStore))}}}],isPropsValid:function(e,t){var n,r=(new pd).splitProps(Object.assign(Object.assign({},e),{resourceStore:t.getCurrentData().resourceStore}));for(n in r){let e=r[n];if(!cs(e=n&&r[""]?Object.assign(Object.assign({},e),{eventStore:Bn(r[""].eventStore,e.eventStore),eventUiBases:Object.assign(Object.assign({},r[""].eventUiBases),e.eventUiBases)}):e,t,{resourceId:n},xd.bind(null,n)))return!1}return!0},externalDefTransforms:[function(e){return e.resourceId?{resourceId:e.resourceId}:{}}],eventDropTransformers:[function(e,t){e=e.resourceMutation;return e?(t=t["calendarApi"],{oldResource:t.getResourceById(e.matchResourceId),newResource:t.getResourceById(e.setResourceId)}):{oldResource:null,newResource:null}}],optionChangeHandlers:{resources:function(e,t){t.getCurrentData().resourceSource._raw!==e&&t.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:e})}},optionRefiners:Td,listenerRefiners:kd,propSetHandlers:{resourceStore:function(e,t){var n=t["emitter"];n.hasHandlers("resourcesSet")&&n.trigger("resourcesSet",function(e,t){var n,r=[];for(n in e)r.push(new C(t,e[n]));return r}(e,t))}}}));class Md extends ld{transformSeg(t,e,n){return e.computeColRanges(t.firstCol,t.lastCol,n).map(e=>Object.assign(Object.assign(Object.assign({},t),e),{isStart:t.isStart&&e.isStart,isEnd:t.isEnd&&e.isEnd}))}}class _d extends a{constructor(){super(...arguments),this.splitter=new cd,this.slicers={},this.joiner=new Md,this.tableRef={current:null},this.isHitComboAllowed=(e,t)=>1===this.props.resourceDayTableModel.dayTableModel.colCnt||e.dateSpan.resourceId===t.dateSpan.resourceId}render(){let{props:e,context:n}=this,{resourceDayTableModel:r,nextDayThreshold:i,dateProfile:s}=e,o=this.splitter.splitProps(e);this.slicers=I(o,(e,t)=>this.slicers[t]||new ja);var t=I(this.slicers,(e,t)=>e.sliceProps(o[t],s,i,n,r.dayTableModel));return S(Ba,Object.assign({forPrint:e.forPrint,ref:this.tableRef},this.joiner.joinProps(t,r),{cells:r.cells,dateProfile:s,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,isHitComboAllowed:this.isHitComboAllowed}))}}function Id(e,t,n,r,i){e=Fa(e,t);return new(r?od:sd)(e,n,i)}Td=p({name:"@fullcalendar/resource-daygrid",premiumReleaseDate:"2023-05-25",deps:[Fl,Ad,va],initialView:"resourceDayGridDay",views:{resourceDayGrid:{type:"dayGrid",component:class extends Ga{constructor(){super(...arguments),this.flattenResources=m(dd),this.buildResourceDayTableModel=m(Id),this.headerRef={current:null},this.tableRef={current:null}}render(){let{props:t,context:e}=this,n=e["options"],r=n.resourceOrder||Xc,i=this.flattenResources(t.resourceStore,r),s=this.buildResourceDayTableModel(t.dateProfile,e.dateProfileGenerator,i,n.datesAboveResources,e),o=n.dayHeaders&&S(td,{ref:this.headerRef,resources:i,dateProfile:t.dateProfile,dates:s.dayTableModel.headerDates,datesRepDistinctDays:!0}),a=e=>S(_d,{ref:this.tableRef,dateProfile:t.dateProfile,resourceDayTableModel:s,businessHours:t.businessHours,eventStore:t.eventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,nextDayThreshold:n.nextDayThreshold,tableMinWidth:e.tableMinWidth,colGroupNode:e.tableColGroupNode,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!t.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:t.forPrint});return n.dayMinWidth?this.renderHScrollLayout(o,a,s.colCnt,n.dayMinWidth):this.renderSimpleLayout(o,a)}},needsResourceData:!0},resourceDayGridDay:{type:"resourceDayGrid",duration:{days:1}},resourceDayGridWeek:{type:"resourceDayGrid",duration:{weeks:1}},resourceDayGridMonth:{type:"resourceDayGrid",duration:{months:1},fixedWeekCount:!0}}});class Od extends ld{transformSeg(e,t,n){return[Object.assign(Object.assign({},e),{col:t.computeCol(e.col,n)})]}}class Nd extends a{constructor(){super(...arguments),this.buildDayRanges=m(El),this.splitter=new cd,this.slicers={},this.joiner=new Od,this.timeColsRef={current:null},this.isHitComboAllowed=(e,t)=>1===this.dayRanges.length||e.dateSpan.resourceId===t.dateSpan.resourceId}render(){let{props:n,context:r}=this,{dateEnv:e,options:i}=r,{dateProfile:s,resourceDayTableModel:o}=n,a=this.dayRanges=this.buildDayRanges(o.dayTableModel,s,e),l=this.splitter.splitProps(n),c=(this.slicers=I(l,(e,t)=>this.slicers[t]||new bl),I(this.slicers,(e,t)=>e.sliceProps(l[t],s,null,r,a)));return S(y,{unit:i.nowIndicator?"minute":"day"},(e,t)=>S(vl,Object.assign({ref:this.timeColsRef},this.joiner.joinProps(c,o),{dateProfile:s,axis:n.axis,slotDuration:n.slotDuration,slatMetas:n.slatMetas,cells:o.cells[0],tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,clientWidth:n.clientWidth,clientHeight:n.clientHeight,expandRows:n.expandRows,nowDate:e,nowIndicatorSegs:i.nowIndicator&&this.buildNowIndicatorSegs(e),todayRange:t,onScrollTopRequest:n.onScrollTopRequest,forPrint:n.forPrint,onSlatCoords:n.onSlatCoords,isHitComboAllowed:this.isHitComboAllowed})))}buildNowIndicatorSegs(e){e=this.slicers[""].sliceNowDate(e,this.props.dateProfile,this.context.options.nextDayThreshold,this.context,this.dayRanges);return this.joiner.expandSegs(this.props.resourceDayTableModel,e)}}function Pd(e,t,n,r,i){e=wl(e,t);return new(r?od:sd)(e,n,i)}kd=p({name:"@fullcalendar/resource-timegrid",premiumReleaseDate:"2023-05-25",deps:[Fl,Ad,Rl],initialView:"resourceTimeGridDay",views:{resourceTimeGrid:{type:"timeGrid",component:class extends Ja{constructor(){super(...arguments),this.flattenResources=m(dd),this.buildResourceTimeColsModel=m(Pd),this.buildSlatMetas=m(Dl)}render(){let{props:t,context:e}=this,{options:n,dateEnv:r}=e,i=t["dateProfile"],s=this.allDaySplitter.splitProps(t),o=n.resourceOrder||Xc,a=this.flattenResources(t.resourceStore,o),l=this.buildResourceTimeColsModel(i,e.dateProfileGenerator,a,n.datesAboveResources,e),c=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,n.slotLabelInterval,n.slotDuration,r),d=n["dayMinWidth"],u=!d,h=d,f=n.dayHeaders&&S(td,{resources:a,dates:l.dayTableModel.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),p=!1!==n.allDaySlot&&(e=>S(_d,Object.assign({},s.allDay,{dateProfile:i,resourceDayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:e.tableMinWidth,colGroupNode:e.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:t.forPrint},this.getAllDayMaxEventProps()))),g=e=>S(Nd,Object.assign({},s.timed,{dateProfile:i,axis:u,slotDuration:n.slotDuration,slatMetas:c,resourceDayTableModel:l,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:e.expandRows,forPrint:t.forPrint,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(f,p,g,l.colCnt,d,c,this.state.slatCoords):this.renderSimpleLayout(f,p,g)}},needsResourceData:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}});function Hd({depth:t,hasChildren:e,isExpanded:n,onExpanderClick:r}){var i=[];for(let e=0;e<t;e+=1)i.push(S("span",{className:"fc-icon"}));var s=["fc-icon"];return e&&s.push(n?"fc-icon-minus-square":"fc-icon-plus-square"),i.push(S("span",{className:"fc-datagrid-expander"+(e?"":" fc-datagrid-expander-placeholder"),onClick:r},S("span",{className:s.join(" ")}))),S(A,{},...i)}Ge(".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}");class Wd extends s{constructor(){super(...arguments),this.refineRenderProps=an(jd),this.onExpanderClick=e=>{var t=this["props"];t.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:t.resource.id,isExpanded:!t.isExpanded})}}render(){let{props:t,context:e}=this,n=t["colSpec"],r=this.refineRenderProps({resource:t.resource,fieldValue:t.fieldValue,context:e});return S(h,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":t.resource.id},renderProps:r,generatorName:n.isMain?"resourceLabelContent":void 0,customGenerator:n.cellContent,defaultGenerator:Bd,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},e=>S("div",{className:"fc-datagrid-cell-frame",style:{height:t.innerHeight}},S("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},n.isMain&&S(Hd,{depth:t.depth,hasChildren:t.hasChildren,isExpanded:t.isExpanded,onExpanderClick:this.onExpanderClick}),S(e,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))}}function Bd(e){return e.fieldValue||S(A,null,"Â ")}function jd(e){return{resource:new C(e.context,e.resource),fieldValue:e.fieldValue,view:e.context.viewApi}}class zd extends s{render(){var{props:e,context:t}=this,n=e["colSpec"],t={groupValue:e.fieldValue,view:t.viewApi};return S(h,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:e.rowSpan},renderProps:t,generatorName:"resourceGroupLabelContent",customGenerator:n.cellContent,defaultGenerator:Ld,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},e=>S("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},S(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]})))}}function Ld(e){return e.groupValue||S(A,null,"Â ")}class Ud extends s{render(){let i=this["props"],{resource:s,rowSpans:o,depth:a}=i,l=fd(s);return S("tr",{role:"row"},i.colSpecs.map((e,t)=>{let n=o[t];if(0===n)return null;null==n&&(n=1);var r=e.field?l[e.field]:s.title||Qc(s.id);return 1<n?S(zd,{key:t,colSpec:e,fieldValue:r,rowSpan:n}):S(Wd,{key:t,colSpec:e,resource:s,fieldValue:r,depth:a,hasChildren:i.hasChildren,isExpanded:i.isExpanded,innerHeight:i.innerHeight})}))}}Ud.addPropsEquality({rowSpans:d});class Gd extends s{constructor(){super(...arguments),this.innerInnerRef={current:null},this.onExpanderClick=()=>{var e=this["props"];this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.id,isExpanded:!e.isExpanded})}}render(){let{props:t,context:e}=this,n={groupValue:t.group.value,view:e.viewApi},r=t.group.spec;return S("tr",{role:"row"},S(h,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",e.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:t.spreadsheetColCnt},renderProps:n,generatorName:"resourceGroupLabelContent",customGenerator:r.labelContent,defaultGenerator:Fd,classNameGenerator:r.labelClassNames,didMount:r.labelDidMount,willUnmount:r.labelWillUnmount},e=>S("div",{className:"fc-datagrid-cell-frame",style:{height:t.innerHeight}},S("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},S(Hd,{depth:0,hasChildren:!0,isExpanded:t.isExpanded,onExpanderClick:this.onExpanderClick}),S(e,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}}function Fd(e){return e.groupValue||S(A,null,"Â ")}Gd.addPropsEquality({group:function(e,t){return e.spec===t.spec&&e.value===t.value}});class Vd extends s{constructor(){super(...arguments),this.resizerElRefs=new f(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:e,superHeaderRendering:n,rowInnerHeights:r}=this.props,i={view:this.context.viewApi},s=[];if(r=r.slice(),n){let t=r.shift();s.push(S("tr",{key:"row-super",role:"row"},S(h,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:e.length},renderProps:i,generatorName:"resourceAreaHeaderContent",customGenerator:n.headerContent,defaultGenerator:n.headerDefault,classNameGenerator:n.headerClassNames,didMount:n.headerDidMount,willUnmount:n.headerWillUnmount},e=>S("div",{className:"fc-datagrid-cell-frame",style:{height:t}},S(e,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]})))))}let o=r.shift();return s.push(S("tr",{key:"row",role:"row"},e.map((t,n)=>{let r=n===e.length-1;return S(h,{key:n,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:i,generatorName:"resourceAreaHeaderContent",customGenerator:t.headerContent,defaultGenerator:t.headerDefault,classNameGenerator:t.headerClassNames,didMount:t.headerDidMount,willUnmount:t.headerWillUnmount},e=>S("div",{className:"fc-datagrid-cell-frame",style:{height:o}},S("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},t.isMain&&S("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},S("span",{className:"fc-icon"})),S(e,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!r&&S("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(n)})))}))),S(A,null,s)}_handleColResizerEl(e,t){var n=this["colDraggings"];e?(e=this.initColResizing(e,parseInt(t,10)))&&(n[t]=e):(e=n[t])&&(e.destroy(),delete n[t])}initColResizing(r,i){let{pluginHooks:e,isRtl:s}=this.context,o=this.props["onColWidthChange"],a=e.elementDraggingImpl;if(a){let t,n,e=new a(r);return e.emitter.on("dragstart",()=>{var e=Ze(l(r,"tr"),"th");n=e.map(e=>e.getBoundingClientRect().width),t=n[i]}),e.emitter.on("dragmove",e=>{n[i]=Math.max(t+e.deltaX*(s?-1:1),20),o&&o(n.slice())}),e.setAutoScrollEnabled(!1),e}return null}}class qd extends s{constructor(){super(...arguments),this.refineRenderProps=an(Zc),this.handleHeightChange=(e,t)=>{this.props.onHeightChange&&this.props.onHeightChange(l(e,"tr"),t)}}render(){let{props:t,context:e}=this,n=e["options"],r=this.refineRenderProps({resource:t.resource,context:e});return S("tr",{ref:t.elRef},S(h,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":t.resource.id},renderProps:r,generatorName:"resourceLaneContent",customGenerator:n.resourceLaneContent,classNameGenerator:n.resourceLaneClassNames,didMount:n.resourceLaneDidMount,willUnmount:n.resourceLaneWillUnmount},e=>S("div",{className:"fc-timeline-lane-frame",style:{height:t.innerHeight}},S(e,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),S(Uc,{dateProfile:t.dateProfile,tDateProfile:t.tDateProfile,nowDate:t.nowDate,todayRange:t.todayRange,nextDayThreshold:t.nextDayThreshold,businessHours:t.businessHours,eventStore:t.eventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,timelineCoords:t.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:t.resource.id}))))}}class Yd extends s{render(){let{props:t,context:e}=this,n=t["renderHooks"],r={groupValue:t.groupValue,view:e.viewApi};return S("tr",{ref:t.elRef},S(h,{elTag:"td",elRef:t.elRef,elClasses:["fc-timeline-lane","fc-resource-group",e.theme.getClass("tableCellShaded")],renderProps:r,generatorName:"resourceGroupLaneContent",customGenerator:n.laneContent,classNameGenerator:n.laneClassNames,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},e=>S(e,{elTag:"div",elStyle:{height:t.innerHeight}})))}}class Qd extends s{render(){let{props:r,context:i}=this,{rowElRefs:s,innerHeights:o}=r;return S("tbody",null,r.rowNodes.map((e,t)=>{var n;return e.group?S(Yd,{key:e.id,elRef:s.createRef(e.id),groupValue:e.group.value,renderHooks:e.group.spec,innerHeight:o[t]||""}):e.resource?(n=e.resource,S(qd,Object.assign({key:e.id,elRef:s.createRef(e.id)},r.splitProps[n.id],{resource:n,dateProfile:r.dateProfile,tDateProfile:r.tDateProfile,nowDate:r.nowDate,todayRange:r.todayRange,nextDayThreshold:i.options.nextDayThreshold,businessHours:n.businessHours||r.fallbackBusinessHours,innerHeight:o[t]||"",timelineCoords:r.slatCoords,onHeightChange:r.onRowHeightChange}))):null}))}}class Zd extends s{constructor(){super(...arguments),this.rootElRef={current:null},this.rowElRefs=new f}render(){var{props:e,context:t}=this;return S("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},S(Qd,{rowElRefs:this.rowElRefs,rowNodes:e.rowNodes,dateProfile:e.dateProfile,tDateProfile:e.tDateProfile,nowDate:e.nowDate,todayRange:e.todayRange,splitProps:e.splitProps,fallbackBusinessHours:e.fallbackBusinessHours,slatCoords:e.slatCoords,innerHeights:e.innerHeights,onRowHeightChange:e.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){var t,e=this["props"];e.onRowCoords&&null!==e.clientWidth&&this.props.onRowCoords(new Br(this.rootElRef.current,(t=this.rowElRefs.currentMap,e.rowNodes.map(e=>t[e.id])),!1,!0))}}class Xd extends a{constructor(){super(...arguments),this.computeHasResourceBusinessHours=m(Jd),this.resourceSplitter=new pd,this.bgSlicer=new Bc,this.slatsRef={current:null},this.state={slatCoords:null},this.handleEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)},this.handleRowCoords=e=>{this.rowCoords=e,this.props.onRowCoords&&this.props.onRowCoords(e)}}render(){let{props:n,state:e,context:r}=this,{dateProfile:i,tDateProfile:s}=n,t=_t(s.slotDuration).unit,o=this.computeHasResourceBusinessHours(n.rowNodes),a=this.resourceSplitter.splitProps(n),l=a[""],c=this.bgSlicer.sliceProps(l,i,s.isTimeScale?null:n.nextDayThreshold,r,i,r.dateProfileGenerator,s,r.dateEnv),d=e.slatCoords&&e.slatCoords.dateProfile===n.dateProfile?e.slatCoords:null;return S("div",{ref:this.handleEl,className:["fc-timeline-body",n.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:n.tableMinWidth}},S(y,{unit:t},(e,t)=>S(A,null,S(Pc,{ref:this.slatsRef,dateProfile:i,tDateProfile:s,nowDate:e,todayRange:t,clientWidth:n.clientWidth,tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:n.onScrollLeftRequest}),S(Wc,{businessHourSegs:o?null:c.businessHourSegs,bgEventSegs:c.bgEventSegs,timelineCoords:d,eventResizeSegs:c.eventResize?c.eventResize.segs:[],dateSelectionSegs:c.dateSelectionSegs,nowDate:e,todayRange:t}),S(Zd,{rowNodes:n.rowNodes,dateProfile:i,tDateProfile:n.tDateProfile,nowDate:e,todayRange:t,splitProps:a,fallbackBusinessHours:o?n.businessHours:null,clientWidth:n.clientWidth,minHeight:n.expandRows?n.clientHeight:"",tableMinWidth:n.tableMinWidth,innerHeights:n.rowInnerHeights,slatCoords:d,onRowCoords:this.handleRowCoords,onRowHeightChange:n.onRowHeightChange}),r.options.nowIndicator&&d&&d.isDateInRange(e)&&S("div",{className:"fc-timeline-now-indicator-container"},S(Ns,{elClasses:["fc-timeline-now-indicator-line"],elStyle:Mc(d.dateToCoord(e),r.isRtl),isAxis:!1,date:e})))))}queryHit(e,t){var n=this.rowCoords,t=n.topToIndex(t);if(null!=t){var r=this.props.rowNodes[t].resource;if(r){e=this.slatsRef.current.positionToHit(e);if(e)return{dateProfile:this.props.dateProfile,dateSpan:{range:e.dateSpan.range,allDay:e.dateSpan.allDay,resourceId:r.id},rect:{left:e.left,right:e.right,top:n.tops[t],bottom:n.bottoms[t]},dayEl:e.dayEl,layer:0}}}return null}}function Jd(e){for(var t of e){t=t.resource;if(t&&t.businessHours)return!0}return!1}class Kd extends s{constructor(){super(...arguments),this.scrollGridRef={current:null},this.timeBodyScrollerElRef={current:null},this.spreadsheetHeaderChunkElRef={current:null},this.rootElRef={current:null},this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout(()=>{this.scrollGridRef.current.handleSizing(!1)},H.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){var{props:e,state:t,context:n}=this,r=n["options"],i=!e.forPrint&&Ts(r),s=!e.forPrint&&ks(r),i=[{type:"header",key:"header",syncRowHeights:!0,isSticky:i,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:e.spreadsheetHeaderRows},{key:"divider",outerContent:S("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:e.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:Boolean(r.expandRows),chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:e.spreadsheetBodyRows},{key:"divider",outerContent:S("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:e.timeBodyContent}]}],s=(s&&i.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:xs},{key:"divider",outerContent:S("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:xs}]}),null!=t.resourceAreaWidthOverride?t.resourceAreaWidthOverride:r.resourceAreaWidth);return S(Kl,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!e.isHeightAuto&&!e.forPrint,forPrint:e.forPrint,collapsibleWidth:!1,colGroups:[{cols:e.spreadsheetCols,width:s},{cols:[]},{cols:e.timeCols}],sections:i})}forceTimeScroll(e){this.scrollGridRef.current.forceScrollLeft(2,e)}forceResourceScroll(e){this.scrollGridRef.current.forceScrollTop(1,e)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:i,pluginHooks:e}=this.context,s=e.elementDraggingImpl,o=this.spreadsheetHeaderChunkElRef.current;if(s){let t,n,e=this.rootElRef.current,r=this.spreadsheetResizerDragging=new s(e,".fc-resource-timeline-divider");r.emitter.on("dragstart",()=>{t=o.getBoundingClientRect().width,n=e.getBoundingClientRect().width}),r.emitter.on("dragmove",e=>{e=t+e.deltaX*(i?-1:1),e=Math.max(e,30);e=Math.min(e,n-30),this.setState({resourceAreaWidthOverride:e},this.ensureScrollGridResize)}),r.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}class $d extends s{constructor(e,t){super(e,t),this.processColOptions=m(nu),this.buildTimelineDateProfile=m(vc),this.hasNesting=m(tu),this.buildRowNodes=m(ud),this.layoutRef={current:null},this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=m(eu),this.handleSlatCoords=e=>{this.setState({slatCoords:e})},this.handleRowCoords=e=>{this.rowCoords=e,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=e=>{this.setState({slotCushionMaxWidth:Math.ceil(e)})},this.handleScrollLeftRequest=e=>{this.layoutRef.current.forceTimeScroll(e)},this.handleScrollRequest=e=>{var t=this["rowCoords"],n=this.layoutRef.current,r=e.rowId||e.resourceId;return t?(r&&null!=(r=this.buildRowIndex(this.renderedRowNodes)[r])&&(e=null!=e.fromBottom?t.bottoms[r]-e.fromBottom:t.tops[r],n.forceResourceScroll(e)),!0):null},this.handleColWidthChange=e=>{this.setState({spreadsheetColWidths:e})},this.state={resourceAreaWidth:t.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:t,state:n,context:r}=this,{options:e,viewSpec:i}=r,{superHeaderRendering:s,groupSpecs:o,orderSpecs:a,isVGrouping:l,colSpecs:c}=this.processColOptions(r.options),d=this.buildTimelineDateProfile(t.dateProfile,r.dateEnv,e,r.dateProfileGenerator),u=this.rowNodes=this.buildRowNodes(t.resourceStore,o,a,l,t.resourceEntityExpansions,e.resourcesInitiallyExpanded),h=e["slotMinWidth"],f=Fc(d,h||this.computeFallbackSlotMinWidth(d));return S(Ks,{elClasses:["fc-resource-timeline",!this.hasNesting(u)&&"fc-resource-timeline-flat","fc-timeline",!1===e.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:i},S(Kd,{ref:this.layoutRef,forPrint:t.forPrint,isHeightAuto:t.isHeightAuto,spreadsheetCols:(p=c,g=n.spreadsheetColWidths,m="",p.map((e,t)=>({className:e.isMain?"fc-main-col":"",width:g[t]||e.width||m}))),spreadsheetHeaderRows:e=>S(Vd,{superHeaderRendering:s,colSpecs:c,onColWidthChange:this.handleColWidthChange,rowInnerHeights:e.rowSyncHeights}),spreadsheetBodyRows:e=>S(A,null,this.renderSpreadsheetRows(u,c,e.rowSyncHeights)),timeCols:f,timeHeaderContent:e=>S(Ic,{clientWidth:e.clientWidth,clientHeight:e.clientHeight,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,dateProfile:t.dateProfile,tDateProfile:d,slatCoords:n.slatCoords,rowInnerHeights:e.rowSyncHeights,onMaxCushionWidth:h?null:this.handleMaxCushionWidth}),timeBodyContent:e=>S(Xd,{dateProfile:t.dateProfile,clientWidth:e.clientWidth,clientHeight:e.clientHeight,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,expandRows:e.expandRows,tDateProfile:d,rowNodes:u,businessHours:t.businessHours,dateSelection:t.dateSelection,eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,resourceStore:t.resourceStore,nextDayThreshold:r.options.nextDayThreshold,rowInnerHeights:e.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:e.reportRowHeightChange})}));var p,g,m}renderSpreadsheetRows(e,n,r){return e.map((e,t)=>e.group?S(Gd,{key:e.id,id:e.id,spreadsheetColCnt:n.length,isExpanded:e.isExpanded,group:e.group,innerHeight:r[t]||""}):e.resource?S(Ud,{key:e.id,colSpecs:n,rowSpans:e.rowSpans,depth:e.depth,isExpanded:e.isExpanded,hasChildren:e.hasChildren,resource:e.resource,innerHeight:r[t]||""}):null)}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(e,t,n){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(e.dateProfile!==this.props.dateProfile),n.resourceScroll&&this.handleScrollRequest(n.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(e){return Math.max(30,(this.state.slotCushionMaxWidth||0)/e.slotsPerLabel)}queryResourceScroll(){var{rowCoords:e,renderedRowNodes:t}=this;if(e){var n=this.layoutRef.current,r=e.bottoms,i=n.getResourceScroll(),s={};for(let e=0;e<r.length;e+=1){var o=t[e],a=r[e]-i;if(0<a){s.rowId=o.id,s.fromBottom=a;break}}return s}return null}}function eu(t){var n={};for(let e=0;e<t.length;e+=1)n[t[e].id]=e;return n}function tu(e){for(var t of e){if(t.group)return!0;if(t.resource&&t.hasChildren)return!0}return!1}function nu(e){let t=e.resourceAreaColumns||[],n=null,r=(t.length?e.resourceAreaHeaderContent&&(n={headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}):t.push({headerClassNames:e.resourceAreaHeaderClassNames,headerContent:e.resourceAreaHeaderContent,headerDefault:()=>"Resources",headerDidMount:e.resourceAreaHeaderDidMount,headerWillUnmount:e.resourceAreaHeaderWillUnmount}),[]),i=[],s=[],o=!1;for(var a of t)a.group?i.push(Object.assign(Object.assign({},a),{cellClassNames:a.cellClassNames||e.resourceGroupLabelClassNames,cellContent:a.cellContent||e.resourceGroupLabelContent,cellDidMount:a.cellDidMount||e.resourceGroupLabelDidMount,cellWillUnmount:a.cellWillUnmount||e.resourceGroupLaneWillUnmount})):r.push(a);var l,c=r[0],c=(c.isMain=!0,c.cellClassNames=c.cellClassNames||e.resourceLabelClassNames,c.cellContent=c.cellContent||e.resourceLabelContent,c.cellDidMount=c.cellDidMount||e.resourceLabelDidMount,c.cellWillUnmount=c.cellWillUnmount||e.resourceLabelWillUnmount,i.length?(s=i,o=!0):(c=e.resourceGroupField)&&s.push({field:c,labelClassNames:e.resourceGroupLabelClassNames,labelContent:e.resourceGroupLabelContent,labelDidMount:e.resourceGroupLabelDidMount,labelWillUnmount:e.resourceGroupLabelWillUnmount,laneClassNames:e.resourceGroupLaneClassNames,laneContent:e.resourceGroupLaneContent,laneDidMount:e.resourceGroupLaneDidMount,laneWillUnmount:e.resourceGroupLaneWillUnmount}),e.resourceOrder||Xc),d=[];for(l of c){let e=!1;for(var u of s)if(u.field===l.field){u.order=l.order,e=!0;break}e||d.push(l)}return{superHeaderRendering:n,isVGrouping:o,groupSpecs:s,colSpecs:i.concat(r),orderSpecs:d}}$d.addStateEquality({spreadsheetColWidths:d});Fl=p({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2023-05-25",deps:[Fl,Ad,Vc],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:$d,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}});return Mo.push(ma,va,Rl,Nl,Ll,lc,gc,Vc,Ad,Td,kd,Fl),e.Calendar=class extends ro{constructor(e,t={}){var n;super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=e=>{switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=e=>{this.currentData=e,this.renderRunner.request(e.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let i=this["currentData"];Fr(()=>{ae(S(Wi,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(e,t,n,r)=>(this.setClassNames(e),this.setHeight(t),S(Vi.Provider,{value:this.customContentRenderId},S(Zo,Object.assign({isHeightAuto:n,forPrint:r},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ae(null,this.el),this.setClassNames([]),this.setHeight(""))},(n=e).isConnected&&Fe(n.getRootNode()),this.el=e,this.renderRunner=new ps(this.handleRenderRequest),new Oo({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Fr(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!d(e,this.currentClassNames)){var t,n,r=this.el["classList"];for(t of this.currentClassNames)r.remove(t);for(n of e)r.add(n);this.currentClassNames=e}}setHeight(e){$e(this.el,"height",e)}},e.Draggable=class{constructor(e,t={}){this.handlePointerDown=e=>{var t=this["dragging"],{minDistance:n,longPressDelay:r}=this.settings;t.minDistance=null!=n?n:e.isTouch?0:wn.eventDragMinDistance,t.delay=e.isTouch?null!=r?r:wn.longPressDelay:0},this.handleDragStart=e=>{e.isTouch&&this.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&this.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;e=this.dragging=new da(e);e.touchScrollAllowed=!1,null!=t.itemSelector&&(e.pointer.selector=t.itemSelector),null!=t.appendTo&&(e.mirror.parentNode=t.appendTo),e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),new ya(e,t.eventData)}destroy(){this.dragging.destroy()}},e.Internal=io,e.JsonRequestError=hs,e.ThirdPartyDraggable=class{constructor(e,t){let n=document;t=e===document||e instanceof Element?(n=e,t||{}):e||{};e=this.dragging=new ba(n);"string"==typeof t.itemSelector?e.pointer.selector=t.itemSelector:n===document&&(e.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(e.mirrorSelector=t.mirrorSelector),new ya(e,t.eventData)}destroy(){this.dragging.destroy()}},e.createPlugin=p,e.formatDate=function(e,t={}){var n=Ko(t),t=N(t),e=n.createMarkerMeta(e);return e?n.format(e.marker,t,{forcedTzo:e.forcedTzo}):""},e.formatRange=function(e,t,n){var r=Ko("object"==typeof n&&n?n:{}),i=N(n),e=r.createMarkerMeta(e),t=r.createMarkerMeta(t);return e&&t?r.formatRange(e.marker,t.marker,i,{forcedStartTzo:e.forcedTzo,forcedEndTzo:t.forcedTzo,isEndExclusive:n.isEndExclusive,defaultSeparator:wn.defaultRangeSeparator}):""},e.globalLocales=so,e.globalPlugins=Mo,e.sliceEvents=function(e,t){return si(e.eventStore,e.eventUiBases,e.dateProfile.activeRange,t?e.nextDayThreshold:null).fg},e.version="6.1.8",Object.defineProperty(e,"__esModule",{value:!0}),e}({});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.toastui=t():(e.toastui=e.toastui||{},e.toastui.Editor=t())}(self,function(){return n={368:function(e){e.exports=function(){"use strict";var r,o=Object.hasOwnProperty,i=Object.setPrototypeOf,s=Object.isFrozen,a=Object.getPrototypeOf,l=Object.getOwnPropertyDescriptor,Ie=Object.freeze,e=Object.seal,c=Object.create,t="undefined"!=typeof Reflect&&Reflect,u=(u=t.apply)||function(e,t,n){return e.apply(t,n)},Ie=Ie||function(e){return e},e=e||function(e){return e},d=(d=t.construct)||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))},Re=p(Array.prototype.forEach),Pe=p(Array.prototype.pop),Be=p(Array.prototype.push),Fe=p(String.prototype.toLowerCase),He=p(String.prototype.match),ze=p(String.prototype.replace),qe=p(String.prototype.indexOf),rt=p(String.prototype.trim),Ve=p(RegExp.prototype.test),je=(r=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(r,t)});function p(o){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u(o,e,n)}}function $e(e,t){i&&i(e,null);for(var n=t.length;n--;){var r,o=t[n];"string"==typeof o&&(r=Fe(o))!==o&&(s(t)||(t[n]=r),o=r),e[o]=!0}return e}function _e(e){var t=c(null),n=void 0;for(n in e)u(o,e,[n])&&(t[n]=e[n]);return t}function Ue(e,t){for(;null!==e;){var n=l(e,t);if(n){if(n.get)return p(n.get);if("function"==typeof n.value)return p(n.value)}e=a(e)}return function(e){return console.warn("fallback value for",e),null}}var We=Ie(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Je=Ie(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ge=Ie(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ot=Ie(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ke=Ie(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),it=Ie(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ze=Ie(["#text"]),Xe=Ie(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Qe=Ie(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ye=Ie(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),et=Ie(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),st=e(/\{\{[\s\S]*|[\s\S]*\}\}/gm),at=e(/<%[\s\S]*|[\s\S]*%>/gm),lt=e(/^data-[\-\w.\u00B7-\uFFFF]/),ct=e(/^aria-[\-\w]+$/),ut=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),dt=e(/^(?:\w+script|data):/i),pt=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function nt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}return function B(e){var a=0<arguments.length&&void 0!==e?e:"undefined"==typeof window?null:window,c=function(e){return B(e)};if(c.version="2.3.3",c.removed=[],a&&a.document&&9===a.document.nodeType){var l=a.document,o=a.document,F=a.DocumentFragment,e=a.HTMLTemplateElement,u=a.Node,H=a.Element,t=a.NodeFilter,z=void 0===(n=a.NamedNodeMap)?a.NamedNodeMap||a.MozNamedAttrMap:n,q=a.Text,V=a.Comment,j=a.DOMParser,n=a.trustedTypes,$=Ue(r=H.prototype,"cloneNode"),_=Ue(r,"nextSibling"),U=Ue(r,"childNodes"),d=Ue(r,"parentNode"),p=("function"==typeof e&&(r=o.createElement("template")).content&&r.content.ownerDocument&&(o=r.content.ownerDocument),function(e,t){if("object"!==(void 0===e?"undefined":tt(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix",t="dompurify"+((n=t.currentScript&&t.currentScript.hasAttribute(r)?t.currentScript.getAttribute(r):n)?"#"+n:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(n,l)),W=p&&C?p.createHTML(""):"",e=o,i=e.implementation,J=e.createNodeIterator,G=e.createDocumentFragment,K=e.getElementsByTagName,Z=l.importNode,r={};try{r=_e(o).documentMode?o.documentMode:{}}catch(a){}var X,s={},h=(c.isSupported="function"==typeof d&&i&&void 0!==i.createHTMLDocument&&9!==r,st),f=at,Q=lt,Y=ct,ee=dt,te=pt,m=ut,g=null,ne=$e({},[].concat(nt(We),nt(Je),nt(Ge),nt(Ke),nt(Ze))),v=null,re=$e({},[].concat(nt(Xe),nt(Qe),nt(Ye),nt(et))),y=null,oe=null,ie=!0,se=!0,ae=!1,b=!1,w=!1,le=!1,ce=!1,k=!1,x=!1,ue=!0,C=!1,de=!0,pe=!0,T=!1,M={},E=null,he=$e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),fe=null,me=$e({},["audio","video","img","source","image","track"]),ge=null,ve=$e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ye="http://www.w3.org/1998/Math/MathML",be="http://www.w3.org/2000/svg",S="http://www.w3.org/1999/xhtml",N=S,O=void 0,we=["application/xhtml+xml","text/html"],D=void 0,A=null,ke=o.createElement("form"),xe=function(e){A&&A===e||(e=_e(e=e&&"object"===(void 0===e?"undefined":tt(e))?e:{}),g="ALLOWED_TAGS"in e?$e({},e.ALLOWED_TAGS):ne,v="ALLOWED_ATTR"in e?$e({},e.ALLOWED_ATTR):re,ge="ADD_URI_SAFE_ATTR"in e?$e(_e(ve),e.ADD_URI_SAFE_ATTR):ve,fe="ADD_DATA_URI_TAGS"in e?$e(_e(me),e.ADD_DATA_URI_TAGS):me,E="FORBID_CONTENTS"in e?$e({},e.FORBID_CONTENTS):he,y="FORBID_TAGS"in e?$e({},e.FORBID_TAGS):{},oe="FORBID_ATTR"in e?$e({},e.FORBID_ATTR):{},M="USE_PROFILES"in e&&e.USE_PROFILES,ie=!1!==e.ALLOW_ARIA_ATTR,se=!1!==e.ALLOW_DATA_ATTR,ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,b=e.SAFE_FOR_TEMPLATES||!1,w=e.WHOLE_DOCUMENT||!1,k=e.RETURN_DOM||!1,x=e.RETURN_DOM_FRAGMENT||!1,ue=!1!==e.RETURN_DOM_IMPORT,C=e.RETURN_TRUSTED_TYPE||!1,ce=e.FORCE_BODY||!1,de=!1!==e.SANITIZE_DOM,pe=!1!==e.KEEP_CONTENT,T=e.IN_PLACE||!1,m=e.ALLOWED_URI_REGEXP||m,N=e.NAMESPACE||S,O=-1===we.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,D="application/xhtml+xml"===O?function(e){return e}:Fe,b&&(se=!1),x&&(k=!0),M&&(g=$e({},[].concat(nt(Ze))),v=[],!0===M.html&&($e(g,We),$e(v,Xe)),!0===M.svg&&($e(g,Je),$e(v,Qe),$e(v,et)),!0===M.svgFilters&&($e(g,Ge),$e(v,Qe),$e(v,et)),!0===M.mathMl)&&($e(g,Ke),$e(v,Ye),$e(v,et)),e.ADD_TAGS&&$e(g=g===ne?_e(g):g,e.ADD_TAGS),e.ADD_ATTR&&$e(v=v===re?_e(v):v,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&$e(ge,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&$e(E=E===he?_e(E):E,e.FORBID_CONTENTS),pe&&(g["#text"]=!0),w&&$e(g,["html","head","body"]),g.table&&($e(g,["tbody"]),delete y.tbody),Ie&&Ie(e),A=e)},Ce=$e({},["mi","mo","mn","ms","mtext"]),Te=$e({},["foreignobject","desc","title","annotation-xml"]),L=$e({},Je),Me=($e(L,Ge),$e(L,ot),$e({},Ke)),I=($e(Me,it),function(t){Be(c.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=W}catch(e){t.remove()}}}),Ee=function(e,t){try{Be(c.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Be(c.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!v[e])if(k||x)try{I(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Se=function(e){var t=void 0,n=void 0,r=(ce?e="<remove></remove>"+e:n=(r=He(e,/^[\r\n\t ]+/))&&r[0],"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>"),p?p.createHTML(e):e);if(N===S)try{t=(new j).parseFromString(r,O)}catch(e){}if(!t||!t.documentElement){t=i.createDocument(N,"template",null);try{t.documentElement.innerHTML=X?"":r}catch(e){}}return r=t.body||t.documentElement,e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),N===S?K.call(t,w?"html":"body")[0]:w?t.documentElement:r},Ne=function(e){return J.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,null,!1)},R=function(e){return"object"===(void 0===u?"undefined":tt(u))?e instanceof u:e&&"object"===(void 0===e?"undefined":tt(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},P=function(e,t,n){s[e]&&Re(s[e],function(e){e.call(c,t,n,A)})},Oe=function(e){if(P("beforeSanitizeElements",e,null),((i=e)instanceof q||i instanceof V||"string"==typeof i.nodeName&&"string"==typeof i.textContent&&"function"==typeof i.removeChild&&i.attributes instanceof z&&"function"==typeof i.removeAttribute&&"function"==typeof i.setAttribute&&"string"==typeof i.namespaceURI&&"function"==typeof i.insertBefore)&&!He(e.nodeName,/[\u0080-\uFFFF]/)){var t,n,r,o,i=D(e.nodeName);if(P("uponSanitizeElement",e,{tagName:i,allowedTags:g}),(R(e.firstElementChild)||R(e.content)&&R(e.content.firstElementChild)||!Ve(/<[/\w]/g,e.innerHTML)||!Ve(/<[/\w]/g,e.textContent))&&("select"!==i||!Ve(/<template/i,e.innerHTML))){if(g[i]&&!y[i])return e instanceof H&&((n=d(t=e))&&n.tagName||(n={namespaceURI:S,tagName:"template"}),r=Fe(t.tagName),o=Fe(n.tagName),t.namespaceURI===be?n.namespaceURI===S?"svg"!==r:n.namespaceURI===ye?"svg"!==r||"annotation-xml"!==o&&!Ce[o]:!Boolean(L[r]):t.namespaceURI===ye?n.namespaceURI===S?"math"!==r:n.namespaceURI===be?"math"!==r||!Te[o]:!Boolean(Me[r]):t.namespaceURI!==S||n.namespaceURI===be&&!Te[o]||n.namespaceURI===ye&&!Ce[o]||(n=$e({},["title","style","font","a","script"]),Me[r])||!n[r]&&L[r])||("noscript"===i||"noembed"===i)&&Ve(/<\/no(script|embed)/i,e.innerHTML)?(I(e),!0):(b&&3===e.nodeType&&(t=e.textContent,t=ze(t,h," "),t=ze(t,f," "),e.textContent!==t)&&(Be(c.removed,{element:e.cloneNode()}),e.textContent=t),P("afterSanitizeElements",e,null),!1);if(pe&&!E[i]){var s=d(e)||e.parentNode,a=U(e)||e.childNodes;if(a&&s)for(var l=a.length-1;0<=l;--l)s.insertBefore($(a[l],!0),_(e))}}}return I(e),!0},De=function(e,t,n){if(de&&("id"===t||"name"===t)&&(n in o||n in ke))return!1;if((!se||oe[t]||!Ve(Q,t))&&(!ie||!Ve(Y,t))){if(!v[t]||oe[t])return!1;if(!ge[t]&&!Ve(m,ze(n,te,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==qe(n,"data:")||!fe[e])&&(!ae||Ve(ee,ze(n,te,"")))&&n)return!1}return!0},Ae=function(e){var t=void 0,n=void 0,r=(P("beforeSanitizeAttributes",e,null),e.attributes);if(r){for(var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v},n=r.length;n--;){var i=(a=r[n]).name,s=a.namespaceURI,t=rt(a.value),a=D(i);if(o.attrName=a,o.attrValue=t,o.keepAttr=!0,o.forceKeepAttr=void 0,P("uponSanitizeAttribute",e,o),t=o.attrValue,!o.forceKeepAttr&&(Ee(i,e),o.keepAttr))if(Ve(/\/>/i,t))Ee(i,e);else{b&&(t=ze(t,h," "),t=ze(t,f," "));var l=D(e.nodeName);if(De(l,a,t))try{s?e.setAttributeNS(s,i,t):e.setAttribute(i,t),Pe(c.removed)}catch(e){}}}P("afterSanitizeAttributes",e,null)}},Le=function e(t){var n,r=Ne(t);for(P("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)P("uponSanitizeShadowNode",n,null),Oe(n)||(n.content instanceof F&&e(n.content),Ae(n));P("afterSanitizeShadowDOM",t,null)};c.sanitize=function(e,t){var n,r=void 0,o=void 0,i=void 0;if("string"!=typeof(e=(X=!e)?"\x3c!--\x3e":e)&&!R(e)){if("function"!=typeof e.toString)throw je("toString is not a function");if("string"!=typeof(e=e.toString()))throw je("dirty is not a string, aborting")}if(!c.isSupported){if("object"===tt(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof e)return a.toStaticHTML(e);if(R(e))return a.toStaticHTML(e.outerHTML)}return e}if(le||xe(t),c.removed=[],!(T="string"!=typeof e&&T))if(e instanceof u)1===(t=(r=Se("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?r=t:r.appendChild(t);else{if(!k&&!b&&!w&&-1===e.indexOf("<"))return p&&C?p.createHTML(e):e;if(!(r=Se(e)))return k?null:W}r&&ce&&I(r.firstChild);for(var s=Ne(T?e:r);n=s.nextNode();)3===n.nodeType&&n===o||Oe(n)||(n.content instanceof F&&Le(n.content),Ae(n),o=n);if(o=null,T)return e;if(k){if(x)for(i=G.call(r.ownerDocument);r.firstChild;)i.appendChild(r.firstChild);else i=r;return i=ue?Z.call(l,i,!0):i}return t=w?r.outerHTML:r.innerHTML,b&&(t=ze(t,h," "),t=ze(t,f," ")),p&&C?p.createHTML(t):t},c.setConfig=function(e){xe(e),le=!0},c.clearConfig=function(){A=null,le=!1},c.isValidAttribute=function(e,t,n){return A||xe({}),e=D(e),t=D(t),De(e,t,n)},c.addHook=function(e,t){"function"==typeof t&&(s[e]=s[e]||[],Be(s[e],t))},c.removeHook=function(e){s[e]&&Pe(s[e])},c.removeHooks=function(e){s[e]&&(s[e]=[])},c.removeAllHooks=function(){s={}}}else c.isSupported=!1;return c}()}()},928:function(e,t,n){"use strict";var i=n(322);e.exports=function(e,t,n){var r,o;if(n=n||0,i(t)){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,r=n;0<=n&&r<o;r+=1)if(t[r]===e)return r}return-1}},690:function(e,t,n){"use strict";var r=n(322),o=n(893),i=n(956);e.exports=function(e,t,n){(r(e)?o:i)(e,t,n)}},893:function(e){"use strict";e.exports=function(e,t,n){var r=0,o=e.length;for(n=n||null;r<o&&!1!==t.call(n,e[r],r,e);r+=1);}},956:function(e){"use strict";e.exports=function(e,t,n){for(var r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},354:function(e,t,n){"use strict";var r=n(893);e.exports=function(t){var n;try{n=Array.prototype.slice.call(t)}catch(e){n=[],r(t,function(e){n.push(e)})}return n}},755:function(e){"use strict";var r="_feEventKey";e.exports=function(e,t){var n=e[r];return(n=n||(e[r]={}))[t]||(n[t]=[])}},349:function(e,t,n){"use strict";var r=n(758),s=n(690),a=n(755);function o(n,r,o){var i,e=a(n,r);o?(s(e,function(e,t){return o!==e.handler||(l(n,r,e.wrappedHandler),i=t,!1)}),e.splice(i,1)):(s(e,function(e){l(n,r,e.wrappedHandler)}),e.splice(0,e.length))}function l(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(n,e,t){r(e)?s(e.split(/\s+/g),function(e){o(n,e,t)}):s(e,function(e,t){o(n,t,e)})}},348:function(e,t,n){"use strict";var o=n(758),l=n(690),c=n(755);function i(t,e,n,r){function o(e){n.call(r||t,e||window.event)}var i,s,a;"addEventListener"in t?t.addEventListener(e,o):"attachEvent"in t&&t.attachEvent("on"+e,o),i=n,s=o,e=c(t,e),a=!1,l(e,function(e){return e.handler!==i||!(a=!0)}),a||e.push({handler:i,wrappedHandler:s})}e.exports=function(n,e,r,t){o(e)?l(e.split(/\s+/g),function(e){i(n,e,r,t)}):l(e,function(e,t){i(n,t,e,r)})}},24:function(e,t,n){"use strict";var r=n(322),o=n(929);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(e.className.baseVal)?e.className=t:e.className.baseVal=t}},204:function(e,t,n){"use strict";var o=n(690),i=n(928),s=n(902),a=n(24);e.exports=function(t){var e=Array.prototype.slice.call(arguments,1),n=t.classList,r=[];n?o(e,function(e){t.classList.add(e)}):((n=s(t))&&(e=[].concat(n.split(/\s+/),e)),o(e,function(e){i(e,r)<0&&r.push(e)}),a(t,r))}},522:function(e,t,n){"use strict";var o=n(758),i=n(690);e.exports=function(e,t,n){var r=e.style;o(t)?r[t]=n:i(t,function(e,t){r[t]=e})}},902:function(e,t,n){"use strict";var r=n(929);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},714:function(e,t,n){"use strict";var r=n(928),o=n(902);e.exports=function(e,t){return e.classList?e.classList.contains(t):(e=o(e).split(/\s+/),-1<r(t,e))}},471:function(e,t,n){"use strict";var r=n(928),o=n(354),n=Element.prototype,i=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return-1<r(this,o(t.querySelectorAll(e)))};e.exports=function(e,t){return i.call(e,t)}},462:function(e,t,n){"use strict";var i=n(893),s=n(928),a=n(902),l=n(24);e.exports=function(e){var t,n,r=Array.prototype.slice.call(arguments,1),o=e.classList;o?i(r,function(e){o.remove(e)}):(t=a(e).split(/\s+/),n=[],i(t,function(e){s(e,r)<0&&n.push(e)}),l(e,n))}},969:function(e){"use strict";e.exports=function(e,t){for(var n,r,o=Object.prototype.hasOwnProperty,i=1,s=arguments.length;i<s;i+=1)for(r in n=arguments[i])o.call(n,r)&&(e[r]=n[r]);return e}},254:function(e,t,n){"use strict";var o=n(956);e.exports=function(e,t){var n=document.createElement("img"),r="";return o(t,function(e,t){r+="&"+t+"="+e}),r=r.substring(1),n.src=e+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},391:function(e,t,n){"use strict";var i=n(929),s=n(254);e.exports=function(e,t){var n=location.hostname,r="TOAST UI "+e+" for "+n+": Statistics",o=window.localStorage.getItem(r);!i(window.tui)&&!1===window.tui.usageStatistics||(!o||(o=o,6048e5<(new Date).getTime()-o))&&(window.localStorage.setItem(r,(new Date).getTime()),setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||s("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})},1e3))}},516:function(e){"use strict";e.exports=function(e,t){var n,r;return t=t||0,function(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout(function(){e.apply(null,r)},t)}}},423:function(e,t,n){"use strict";var c=n(516);e.exports=function(t,e){function n(e){t.apply(null,e),r=null}var r,o,i,s,a=!0;function l(){s=Array.prototype.slice.call(arguments),a?(n(s),a=!1):(i=Number(new Date),r=r||i,o(s),e<=i-r&&n(s))}return o=c(n,e=e||0),l.reset=function(){a=!0,r=null},l}},322:function(e){"use strict";e.exports=function(e){return e instanceof Array}},326:function(e){"use strict";e.exports=function(e){return"boolean"==typeof e||e instanceof Boolean}},65:function(e,t,n){"use strict";var r=n(929),o=n(934);e.exports=function(e){return!r(e)&&!o(e)}},404:function(e,t,n){"use strict";var r=n(790);e.exports=function(e){return!r(e)}},294:function(e){"use strict";e.exports=function(e){return e instanceof Function}},934:function(e){"use strict";e.exports=function(e){return null===e}},321:function(e){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},73:function(e){"use strict";e.exports=function(e){return e===Object(e)}},758:function(e){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},790:function(e,t,n){"use strict";var r=n(65);e.exports=function(e){return r(e)&&!1!==e}},929:function(e){"use strict";e.exports=function(e){return void 0===e}}},r={},l0.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l0.d(t,{a:t}),t},l0.d=function(e,t){for(var n in t)l0.o(t,n)&&!l0.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l0.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l0.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c0={},function(){"use strict";l0.d(c0,{default:function(){return a0}});var P=function(e,t){return(P=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function B(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function d(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function F(e){this.content=e}Object.create,Object.create,F.prototype={constructor:F,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){e=this.find(e);return-1==e?void 0:this.content[e+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),r=r.content.slice();return-1==o?r.push(n||e,t):(r[o+1]=t,n&&(r[o]=n)),new F(r)},remove:function(e){var t,e=this.find(e);return-1==e?this:((t=this.content.slice()).splice(e,2),new F(t))},addToStart:function(e,t){return new F([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new F(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),r=r.find(e);return o.splice(-1==r?o.length:r,0,t,n),new F(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=F.from(e)).size?new F(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=F.from(e)).size?new F(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=F.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},F.from=function(e){if(e instanceof F)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new F(t)};var H=F;class C{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(n,r,o,i=0,s){for(let e=0,t=0;t<r;e++){var a,l=this.content[e],c=t+l.nodeSize;n<c&&!1!==o(l,i+t,s||null,e)&&l.content.size&&(a=t+1,l.nodesBetween(Math.max(0,n-a),Math.min(l.content.size,r-a),o,i+a)),t=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(n,r,o,i){let s="",a=!0;return this.nodesBetween(n,r,(e,t)=>{e.isText?(s+=e.text.slice(Math.max(n,t)-t,r-t),a=!o):e.isLeaf?(i?s+="function"==typeof i?i(e):i:e.type.spec.leafText&&(s+=e.type.spec.leafText(e)),a=!o):!a&&e.isBlock&&(s+=o,a=!0)},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new C(r,this.size+e.size)}cut(o,i=this.size){if(0==o&&i==this.size)return this;let s=[],a=0;if(o<i)for(let n=0,r=0;r<i;n++){let e=this.content[n],t=r+e.nodeSize;o<t&&((r<o||i<t)&&(e=e.isText?e.cut(Math.max(0,o-r),Math.min(e.text.length,i-r)):e.cut(Math.max(0,o-r-1),Math.min(e.content.size,i-r-1))),s.push(e),a+=e.nodeSize),r=t}return new C(s,a)}cutByIndex(e,t){return e==t?C.empty:0==e&&t==this.content.length?this:new C(this.content.slice(e,t))}replaceChild(e,t){var n,r=this.content[e];return r==t?this:(n=this.content.slice(),r=this.size+t.nodeSize-r.nodeSize,n[e]=t,new C(n,r))}addToStart(e){return new C([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new C(this.content.concat(e),this.size+e.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){var t=this.content[e];if(t)return t;throw new RangeError("Index "+e+" out of range for "+this)}maybeChild(e){return this.content[e]||null}forEach(n){for(let e=0,t=0;e<this.content.length;e++){var r=this.content[e];n(r,t,e),t+=r.nodeSize}}findDiffStart(e,t=0){return function t(n,r,o){for(let e=0;;e++){if(e==n.childCount||e==r.childCount)return n.childCount==r.childCount?null:o;var i=n.child(e),s=r.child(e);if(i!=s){if(!i.sameMarkup(s))return o;if(i.isText&&i.text!=s.text){for(let e=0;i.text[e]==s.text[e];e++)o++;return o}if(i.content.size||s.content.size){var a=t(i.content,s.content,o+1);if(null!=a)return a}}o+=i.nodeSize}}(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return function n(r,o,i,s){for(let e=r.childCount,t=o.childCount;;){if(0==e||0==t)return e==t?null:{a:i,b:s};var a=r.child(--e),l=o.child(--t),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:i,b:s};if(a.isText&&a.text!=l.text){let e=0,t=Math.min(a.text.length,l.text.length);for(;e<t&&a.text[a.text.length-e-1]==l.text[l.text.length-e-1];)e++,i--,s--;return{a:i,b:s}}if(a.content.size||l.content.size){var u=n(a.content,l.content,i-1,s-1);if(u)return u}}i-=c,s-=c}}(this,e,t,n)}findIndex(n,r=-1){if(0==n)return q(0,n);if(n==this.size)return q(this.content.length,n);if(n>this.size||n<0)throw new RangeError(`Position ${n} outside of fragment (${this})`);for(let e=0,t=0;;e++){var o=t+this.child(e).nodeSize;if(n<=o)return o==n||0<r?q(e+1,o):q(e,t);t=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return C.empty;if(Array.isArray(t))return new C(t.map(e.nodeFromJSON));throw new RangeError("Invalid input for Fragment.fromJSON")}static fromArray(t){if(!t.length)return C.empty;let n,r=0;for(let e=0;e<t.length;e++){var o=t[e];r+=o.nodeSize,e&&o.isText&&t[e-1].sameMarkup(o)?(n=n||t.slice(0,e))[n.length-1]=o.withText(n[n.length-1].text+o.text):n&&n.push(o)}return new C(n||t,r)}static from(e){if(!e)return C.empty;if(e instanceof C)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new C([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}C.empty=new C([],0);const z={index:0,offset:0};function q(e,t){return z.index=e,z.offset=t,z}function V(t,n){if(t!==n){if(!t||"object"!=typeof t||!n||"object"!=typeof n)return!1;var e=Array.isArray(t);if(Array.isArray(n)!=e)return!1;if(e){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if(!V(t[e],n[e]))return!1}else{for(var r in t)if(!(r in n&&V(t[r],n[r])))return!1;for(var o in n)if(!(o in t))return!1}}return!0}class v{constructor(e,t){this.type=e,this.attrs=t}addToSet(t){let n,r=!1;for(let e=0;e<t.length;e++){var o=t[e];if(this.eq(o))return t;if(this.type.excludes(o.type))n=n||t.slice(0,e);else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&((n=n||t.slice(0,e)).push(this),r=!0),n&&n.push(o)}}return n=n||t.slice(),r||n.push(this),n}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(e){return this==e||this.type==e.type&&V(this.attrs,e.attrs)}toJSON(){var e,t={type:this.type.name};for(e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");e=e.marks[t.type];if(e)return e.create(t.attrs);throw new RangeError(`There is no mark type ${t.type} in this schema`)}static sameSet(t,n){if(t!=n){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if(!t[e].eq(n[e]))return!1}return!0}static setFrom(e){return!e||Array.isArray(e)&&0==e.length?v.none:e instanceof v?[e]:((e=e.slice()).sort((e,t)=>e.type.rank-t.type.rank),e)}}v.none=[];class j extends Error{}class Z{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){e=function e(t,n,r,o){let{index:i,offset:s}=t.findIndex(n),a=t.maybeChild(i);if(s==n||a.isText)return o&&!o.canReplace(i,i,r)?null:t.cut(0,n).append(r).append(t.cut(n));let l=e(a.content,n-s-1,r);return l&&t.replaceChild(i,a.copy(l))}(this.content,e+this.openStart,t);return e&&new Z(e,this.openStart,this.openEnd)}removeBetween(e,t){return new Z(function e(t,n,r){let{index:o,offset:i}=t.findIndex(n),s=t.maybeChild(o),{index:a,offset:l}=t.findIndex(r);if(i==n||s.isText){if(l==r||t.child(a).isText)return t.cut(0,n).append(t.cut(r));throw new RangeError("Removing non-flat range")}if(o!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(e(s.content,n-i-1,r-i-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){var e;return this.content.size?(e={content:this.content.toJSON()},0<this.openStart&&(e.openStart=this.openStart),0<this.openEnd&&(e.openEnd=this.openEnd),e):null}static fromJSON(e,t){if(!t)return Z.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Z(C.fromJSON(e,t.content),n,r)}static maxOpen(t,n=!0){let r=0,o=0;for(let e=t.firstChild;e&&!e.isLeaf&&(n||!e.type.spec.isolating);e=e.firstChild)r++;for(let e=t.lastChild;e&&!e.isLeaf&&(n||!e.type.spec.isolating);e=e.lastChild)o++;return new Z(t,r,o)}}function $(e,t,n){if(n.openStart>e.depth)throw new j("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new j("Inconsistent open depths");return function t(n,r,o,i){let s=n.index(i),a=n.node(i);if(s==r.index(i)&&i<n.depth-o.openStart){let e=t(n,r,o,i+1);return a.copy(a.content.replaceChild(s,e))}if(o.content.size){if(o.openStart||o.openEnd||n.depth!=i||r.depth!=i){let{start:e,end:t}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;0<=e;e--)r=t.node(e).copy(C.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(o,n);return G(a,K(n,e,t,r,i))}{let e=n.parent,t=e.content;return G(e,t.cut(0,n.parentOffset).append(o.content).append(t.cut(r.parentOffset)))}}return G(a,X(n,r,i))}(e,t,n,0)}function _(e,t){if(!t.type.compatibleContent(e.type))throw new j("Cannot join "+t.type.name+" onto "+e.type.name)}function U(e,t,n){e=e.node(n);return _(e,t.node(n)),e}function W(e,t){var n=t.length-1;0<=n&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function J(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(W(e.nodeAfter,r),i++));for(let e=i;e<s;e++)W(o.child(e),r);t&&t.depth==n&&t.textOffset&&W(t.nodeBefore,r)}function G(e,t){if(e.type.validContent(t))return e.copy(t);throw new j("Invalid content for node "+e.type.name)}function K(e,t,n,r,o){var i=e.depth>o&&U(e,t,o+1),s=r.depth>o&&U(n,r,o+1),a=[];return J(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(_(i,s),W(G(i,K(e,t,n,r,o+1)),a)):(i&&W(G(i,X(e,t,o+1)),a),J(t,n,o,a),s&&W(G(s,X(n,r,o+1)),a)),J(r,null,o,a),new C(a)}function X(e,t,n){var r=[];return J(null,e,n,r),e.depth>n&&W(G(U(e,t,n+1),X(e,t,n+1)),r),J(t,null,n,r),new C(r)}Z.empty=new Z(C.empty,0,0);class Q{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e))return e==this.depth+1?this.pos:this.path[3*e-1];throw new RangeError("There is no position before the top-level node")}after(e){if(e=this.resolveDepth(e))return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize;throw new RangeError("There is no position after the top-level node")}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){var e,t,n=this.parent,r=this.index(this.depth);return r==n.childCount?null:(e=this.pos-this.path[this.path.length-1],t=n.child(r),e?n.child(r).cut(e):t)}get nodeBefore(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){var e=this.parent,t=this.index();if(0==e.content.size)return v.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t),o=(n||(e=n,n=r,r=e),n.marks);for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;0<e;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let e=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);0<=e;e--)if(t.pos<=this.end(e)&&(!n||n(this.node(e))))return new ne(this,t,e);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(0<=e&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,o=e;for(let e=t;;){var{index:i,offset:s}=e.content.findIndex(o),a=o-s;if(n.push(e,i,r+s),!a)break;if((e=e.child(i)).isText)break;o=a-1,r+=s+1}return new Q(e,n,o)}static resolveCached(t,n){for(let e=0;e<Y.length;e++){var r=Y[e];if(r.pos==n&&r.doc==t)return r}var e=Y[ee]=Q.resolve(t,n);return ee=(ee+1)%te,e}}let Y=[],ee=0,te=12;class ne{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const re=Object.create(null);class oe{constructor(e,t,n,r=v.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||C.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&V(this.attrs,t||e.defaultAttrs||re)&&v.sameSet(this.marks,n||v.none)}copy(e=null){return e==this.content?this:new oe(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new oe(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){var r;return e==t?Z.empty:(e=this.resolve(e),r=this.resolve(t),n=n?0:e.sharedDepth(t),t=e.start(n),t=e.node(n).content.cut(e.pos-t,r.pos-t),new Z(t,e.depth-n,r.depth-n))}replace(e,t,n){return $(this.resolve(e),this.resolve(t),n)}nodeAt(t){for(let e=this;;){var{index:n,offset:r}=e.content.findIndex(t);if(!(e=e.maybeChild(n)))return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(e){var{index:e,offset:t}=this.content.findIndex(e);return{node:this.content.maybeChild(e),index:e,offset:t}}childBefore(e){var t,n;return 0==e?{node:null,index:0,offset:0}:({index:t,offset:n}=this.content.findIndex(e),n<e?{node:this.content.child(t),index:t,offset:n}:{node:e=this.content.child(t-1),index:t-1,offset:n-e.nodeSize})}resolve(e){return Q.resolveCached(this,e)}resolveNoCache(e){return Q.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return e<t&&this.nodesBetween(e,t,e=>!(r=n.isInSet(e.marks)?!0:r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),se(this.marks,e)}contentMatchAt(e){e=this.type.contentMatch.matchFragment(this.content,0,e);if(e)return e;throw new Error("Called contentMatchAt on a node with invalid content")}canReplace(e,t,n=C.empty,r=0,o=n.childCount){e=this.contentMatchAt(e).matchFragment(n,r,o),e=e&&e.matchFragment(this.content,t);if(!e||!e.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){return!(r&&!this.type.allowsMarks(r)||!(e=(r=this.contentMatchAt(e).matchType(n))&&r.matchFragment(this.content,t)))&&e.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: `+this.content.toString().slice(0,50));let t=v.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!v.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: `+this.marks.map(e=>e.type.name));this.content.forEach(e=>e.check())}toJSON(){var e,t={type:this.type.name};for(e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=C.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}oe.prototype.text=void 0;class ie extends oe{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):se(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ie(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ie(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){var e=super.toJSON();return e.text=this.text,e}}function se(t,n){for(let e=t.length-1;0<=e;e--)n=t[e].type.name+"("+n+")";return n}class ae{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){e=new le(e,t);if(null==e.next)return ae.empty;var n=ce(e),t=(e.next&&e.err("Unexpected trailing text"),function(i){let s=Object.create(null);return function n(e){let r=[];e.forEach(e=>{i[e].forEach(({term:n,to:e})=>{if(n){let t;for(let e=0;e<r.length;e++)r[e][0]==n&&(t=r[e][1]);pe(i,e).forEach(e=>{t||r.push([n,t=[]]),-1==t.indexOf(e)&&t.push(e)})}})});let o=s[e.join(",")]=new ae(-1<e.indexOf(i.length-1));for(let t=0;t<r.length;t++){let e=r[t][1].sort(de);o.next.push({type:r[t][0],next:s[e.join(",")]||n(e)})}return o}(pe(i,0))}(function(){let r=[[]];return a(function n(r,o){if("choice"==r.type)return r.exprs.reduce((e,t)=>e.concat(n(t,o)),[]);if("seq"!=r.type){if("star"==r.type){let e=i();return s(o,e),a(n(r.expr,e),e),[s(e)]}if("plus"==r.type){let e=i();return a(n(r.expr,o),e),a(n(r.expr,e),e),[s(e)]}if("opt"==r.type)return[s(o)].concat(n(r.expr,o));if("range"==r.type){let t=o;for(let e=0;e<r.min;e++){let e=i();a(n(r.expr,t),e),t=e}if(-1==r.max)a(n(r.expr,t),t);else for(let e=r.min;e<r.max;e++){let e=i();s(t,e),a(n(r.expr,t),e),t=e}return[s(t)]}if("name"==r.type)return[s(o,void 0,r.value)];throw new Error("Unknown expr type")}for(let t=0;;t++){let e=n(r.exprs[t],o);if(t==r.exprs.length-1)return e;a(e,o=i())}}(n,0),i()),r;function i(){return r.push([])-1}function s(e,t,n){n={term:n,to:t};return r[e].push(n),n}function a(e,t){e.forEach(e=>e.to=t)}}())),i=e;for(let e=0,o=[t];e<o.length;e++){let t=o[e],n=!t.validEnd,r=[];for(let e=0;e<t.next.length;e++){var{type:s,next:a}=t.next[e];r.push(s.name),!n||s.isText||s.hasRequiredAttrs()||(n=!1),-1==o.indexOf(a)&&o.push(a)}n&&i.err("Only non-generatable nodes ("+r.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}return t}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let e=n;o&&e<r;e++)o=o.matchType(t.child(e).type);return o}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){var t=this.next[e]["type"];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(n){for(let t=0;t<this.next.length;t++)for(let e=0;e<n.next.length;e++)if(this.next[t].type==n.next[e].type)return!0;return!1}fillBefore(s,a=!1,l=0){let c=[this];return function t(n,r){var e=n.matchFragment(s,l);if(e&&(!a||e.validEnd))return C.from(r.map(e=>e.createAndFill()));for(let e=0;e<n.next.length;e++){var{type:o,next:i}=n.next[e];if(!o.isText&&!o.hasRequiredAttrs()&&-1==c.indexOf(i)){c.push(i);i=t(i,r.concat(o));if(i)return i}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){var i=[];for(let e=r;e.type;e=e.via)i.push(e.type);return i.reverse()}for(let e=0;e<o.next.length;e++){var{type:s,next:a}=o.next[e];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!a.validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let r=[];return function t(n){r.push(n);for(let e=0;e<n.next.length;e++)-1==r.indexOf(n.next[e].next)&&t(n.next[e].next)}(this),r.map((t,e)=>{let n=e+(t.validEnd?"*":" ")+" ";for(let e=0;e<t.next.length;e++)n+=(e?", ":"")+t.next[e].type.name+"->"+r.indexOf(t.next[e].next);return n}).join("\n")}}ae.empty=new ae(!0);class le{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ce(e){for(var t=[];t.push(function(e){var t=[];for(;t.push(function(e){let t=function(t){var e;return t.eat("(")?(e=ce(t),t.eat(")")||t.err("Missing closing paren"),e):/\W/.test(t.next)?void t.err("Unexpected token '"+t.next+"'"):(e=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o,i=[];for(o in n){var s=n[o];-1<s.groups.indexOf(t)&&i.push(s)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}(t,t.next).map(e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})),t.pos++,1==e.length?e[0]:{type:"choice",exprs:e})}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=function(e,t){let n=ue(e),r=n;return e.eat(",")&&(r="}"!=e.next?ue(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}(e,t)}return t}(e)),e.next&&")"!=e.next&&"|"!=e.next;);return 1==t.length?t[0]:{type:"seq",exprs:t}}(e)),e.eat("|"););return 1==t.length?t[0]:{type:"choice",exprs:t}}function ue(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function de(e,t){return t-e}function pe(i,e){let s=[];return function t(e){var n=i[e];if(1==n.length&&!n[0].term)return t(n[0].to);s.push(e);for(let e=0;e<n.length;e++){var{term:r,to:o}=n[e];r||-1!=s.indexOf(o)||t(o)}}(e),s.sort(de)}function he(e){var t,n=Object.create(null);for(t in e){var r=e[t];if(!r.hasDefault)return null;n[t]=r.default}return n}function fe(t,n){var r,o=Object.create(null);for(r in t){let e=n&&n[r];if(void 0===e){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);e=i.default}o[r]=e}return o}function me(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new ve(e[n]);return t}class ge{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=me(n.attrs),this.defaultAttrs=he(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ae.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:fe(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new oe(this,this.computeAttrs(e),C.from(t),v.setFrom(n))}createChecked(e=null,t,n){if(t=C.from(t),this.validContent(t))return new oe(this,this.computeAttrs(e),t,v.setFrom(n));throw new RangeError("Invalid content for node "+this.name)}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=C.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}r=this.contentMatch.matchFragment(t),r=r&&r.fillBefore(C.empty,!0);return r?new oe(this,e,t.append(r),v.setFrom(n)):null}validContent(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||-1<this.markSet.indexOf(e)}allowsMarks(t){if(null!=this.markSet)for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let n;for(let e=0;e<t.length;e++)this.allowsMarkType(t[e].type)?n&&n.push(t[e]):n=n||t.slice(0,e);return n?n.length?n:v.none:t}static compile(e,n){let r=Object.create(null);e.forEach((e,t)=>r[e]=new ge(e,n,t));var t,e=n.spec.topNode||"doc";if(!r[e])throw new RangeError("Schema is missing its top node type ('"+e+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(t in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class ve{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ye{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=me(r.attrs),this.excluded=null;e=he(this.attrs);this.instance=e?new v(this,e):null}create(e=null){return!e&&this.instance?this.instance:new v(this,fe(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((e,t)=>r[e]=new ye(e,o++,n,t)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(e){return-1<this.excluded.indexOf(e)}}class be{constructor(e){this.cached=Object.create(null),this.spec={nodes:H.from(e.nodes),marks:H.from(e.marks||{}),topNode:e.topNode},this.nodes=ge.compile(this.spec.nodes,this),this.marks=ye.compile(this.spec.marks,this);var t,n,r=Object.create(null);for(t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");var o=this.nodes[t],i=o.spec.content||"",s=o.spec.marks;o.contentMatch=r[i]||(r[i]=ae.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?we(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(n in this.marks){var a=this.marks[n],l=a.spec.excludes;a.excluded=null==l?[a]:""==l?[]:we(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ge))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){var n=this.nodes.text;return new ie(n,n.defaultAttrs,e,v.setFrom(t))}mark(e,t){return(e="string"==typeof e?this.marks[e]:e).create(t)}nodeFromJSON(e){return oe.fromJSON(this,e)}markFromJSON(e){return v.fromJSON(this,e)}nodeType(e){var t=this.nodes[e];if(t)return t;throw new RangeError("Unknown node type: "+e)}}function we(o,i){var s=[];for(let r=0;r<i.length;r++){let e=i[r],t=o.marks[e],n=t;if(t)s.push(t);else for(var a in o.marks){a=o.marks[a];("_"==e||a.spec.group&&-1<a.spec.group.split(" ").indexOf(e))&&s.push(n=a)}if(!n)throw new SyntaxError("Unknown mark type: '"+i[r]+"'")}return s}class ke{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)}),this.normalizeLists=!this.tags.some(e=>{return!(!/^(ul|ol)\b/.test(e.tag)||!e.node)&&(e=t.nodes[e.node]).contentMatch.matchType(e)})}parse(e,t={}){var n=new Se(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){var n=new Se(this,t,!0);return n.addAll(e,t.from,t.to),Z.maxOpen(n.finish())}matchTag(t,n,r){for(let e=r?this.tags.indexOf(r)+1:0;e<this.tags.length;e++){var o=this.tags[e];if(i=t,s=o.tag,(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,s)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){i=o.getAttrs(t);if(!1===i)continue;o.attrs=i||void 0}return o}}var i,s}matchStyle(t,n,r,o){for(let e=o?this.styles.indexOf(o)+1:0;e<this.styles.length;e++){var i=this.styles[e],s=i.style;if(!(0!=s.indexOf(t)||i.context&&!r.matchesContext(i.context)||s.length>t.length&&(61!=s.charCodeAt(t.length)||s.slice(t.length+1)!=n))){if(i.getAttrs){s=i.getAttrs(n);if(!1===s)continue;i.attrs=s||void 0}return i}}}static schemaRules(e){let o=[];function n(e){let t=null==e.priority?50:e.priority,n=0;for(;n<o.length;n++){var r=o[n];if((null==r.priority?50:r.priority)<t)break}o.splice(n,0,e)}for(let t in e.marks){var r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=Ne(e)),e.mark=t})}for(let t in e.nodes){var i=e.nodes[t].spec.parseDOM;i&&i.forEach(e=>{n(e=Ne(e)),e.node=t})}return o}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ke(e,ke.schemaRules(e)))}}const xe={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Te={ol:!0,ul:!0};function Me(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Ee{constructor(e,t,n,r,o,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=v.none,this.stashMarks=[],this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];var t,n,r=this.type.contentMatch.fillBefore(C.from(e));if(!r)return(t=(n=this.type.contentMatch).findWrapping(e.type))?(this.match=n,t):null;this.match=this.type.contentMatch.matchFragment(r)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];var n;t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))&&((n=t).text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}let t=C.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(C.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(t){for(let e=this.stashMarks.length-1;0<=e;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(n){for(let e=0,t=this.pendingMarks;e<t.length;e++){var r=t[e];(this.type?this.type.allowsMarkType(r.type):function(e,s){var t=s.schema.nodes;for(var n in t){n=t[n];if(n.allowsMarkType(e)){let o=[],i=t=>{o.push(t);for(let e=0;e<t.edgeCount;e++){var{type:n,next:r}=t.edge(e);if(n==s)return!0;if(o.indexOf(r)<0&&i(r))return!0}};if(i(n.contentMatch))return 1}}}(r.type,n))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!xe.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Se{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;var r=t.topNode,o=Me(null,t.preserveWhitespace,0)|(n?4:0),r=r?new Ee(r.type,r.attrs,v.none,v.none,!0,t.topMatch||r.type.contentMatch,o):new Ee(n?null:e.schema.topNodeType,null,v.none,v.none,!0,null,o);this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;var r,o;2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)?(1&n.options?t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," "):(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1&&(r=n.content[n.content.length-1],o=e.previousSibling,!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))),t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)):this.findInside(e)}addElement(r,o){let e,i=r.nodeName.toLowerCase();if(Te.hasOwnProperty(i)&&this.parser.normalizeLists)for(let e=r.firstChild,t=null;e;e=e.nextSibling){var n=1==e.nodeType?e.nodeName.toLowerCase():null;n&&Te.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):"li"==n?t=e:n&&(t=null)}o=this.options.ruleFromNode&&this.options.ruleFromNode(r)||(e=this.parser.matchTag(r,this,o));if(o?o.ignore:Ce.hasOwnProperty(i))this.findInside(r),this.ignoreFallback(r);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(r=o.skip);let e,t=this.top,n=this.needsBlock;if(xe.hasOwnProperty(i))e=!0,t.type||(this.needsBlock=!0);else if(!r.firstChild)return void this.leafFallback(r);this.addAll(r),e&&this.sync(t),this.needsBlock=n}else this.addElementByRule(r,o,!1===o.consuming?e:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(n){let r=v.none;e:for(let t=0;t<n.length;t+=2)for(let e;;){var o=this.parser.matchStyle(n[t],n[t+1],this,e);if(!o)continue e;if(o.ignore)return null;if(r=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(r),!1!==o.consuming)break;e=o}return r}addElementByRule(t,n,e){let r,o,i;n.node?(o=this.parser.schema.nodes[n.node]).isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):r=this.enter(o,n.attrs||null,n.preserveWhitespace):(i=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(i));var s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(e)this.addElement(t,e);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(e=>this.insertNode(e));else{let e=t;"string"==typeof n.contentElement?e=t.querySelector(n.contentElement):"function"==typeof n.contentElement?e=n.contentElement(t):n.contentElement&&(e=n.contentElement),this.findAround(t,e,!0),this.addAll(e)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(n,r,o){let i=r||0;for(let e=r?n.childNodes[r]:n.firstChild,t=null==o?null:n.childNodes[o];e!=t;e=e.nextSibling,++i)this.findAtPoint(n,i),this.addDOM(e);this.findAtPoint(n,i)}findPlace(t){let n,r;for(let e=this.open;0<=e;e--){var o=this.nodes[e],i=o.findWrapping(t);if(i&&(!n||n.length>i.length)&&(n=i,r=o,!i.length))break;if(o.solid)break}if(!n)return!1;this.sync(r);for(let e=0;e<n.length;e++)this.enterInner(n[e],null,!1);return!0}insertNode(n){var e;if(n.isInline&&this.needsBlock&&!this.top.type&&(e=this.textblockFromContext())&&this.enterInner(e),this.findPlace(n)){this.closeExtra();var r=this.top;r.applyPending(n.type),r.match&&(r.match=r.match.matchType(n.type));let t=r.activeMarks;for(let e=0;e<n.marks.length;e++)r.type&&!r.type.allowsMarkType(n.marks[e].type)||(t=n.marks[e].addToSet(t));return r.content.push(n.mark(t)),!0}return!1}enter(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=Me(e,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new Ee(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;0<=e;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;0<=e;e--){var n=this.nodes[e].content;for(let e=n.length-1;0<=e;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,n){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&this.find[e].offset==n&&(this.find[e].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&n.compareDocumentPosition(this.find[e].node)&(r?2:4)&&(this.find[e].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(e){if(-1<e.indexOf("|"))return e.split(/\s*\|\s*/).some(this.matchesContext,this);let o=e.split("/"),i=this.options.context,s=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),a=-(i?i.depth+1:0)+(s?0:1),l=(e,t)=>{for(;0<=e;e--){var n=o[e];if(""==n){if(e==o.length-1||0==e)continue;for(;t>=a;t--)if(l(e-1,t))return!0;return!1}var r=0<t||0==t&&s?this.nodes[t].type:i&&t>=a?i.node(t-a).type:null;if(!r||r.name!=n&&-1==r.groups.indexOf(n))return!1;t--}return!0};return l(o.length-1,this.open)}textblockFromContext(){var e,t=this.options.context;if(t)for(let e=t.depth;0<=e;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(e in this.parser.schema.nodes){var r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){var t=function(t,n){for(let e=0;e<n.length;e++)if(t.eq(n[e]))return n[e]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let e=this.open;0<=e;e--){var r,o=this.nodes[e];if(-1<o.pendingMarks.lastIndexOf(t)?o.pendingMarks=t.removeFromSet(o.pendingMarks):(o.activeMarks=t.removeFromSet(o.activeMarks),(r=o.popFromStashMark(t))&&o.type&&o.type.allowsMarkType(r.type)&&(o.activeMarks=r.addToSet(o.activeMarks))),o==n)break}}}function Ne(e){var t,n={};for(t in e)n[t]=e[t];return n}class Oe{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,s={},t){let a=t=t||Ae(s).createDocumentFragment(),l=[];return e.forEach(n=>{if(l.length||n.marks.length){let e=0,t=0;for(;e<l.length&&t<n.marks.length;){var r=n.marks[t];if(this.marks[r.type.name]){if(!r.eq(l[e][0])||!1===r.type.spec.spanning)break;e++}t++}for(;e<l.length;)a=l.pop()[1];for(;t<n.marks.length;){var o=n.marks[t++],i=this.serializeMark(o,n.isInline,s);i&&(l.push([o,a]),a.appendChild(i.dom),a=i.contentDOM||i.dom)}}a.appendChild(this.serializeNodeInner(n,s))}),t}serializeNodeInner(e,t){var{dom:n,contentDOM:r}=Oe.renderSpec(Ae(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let e=t.marks.length-1;0<=e;e--){var o=this.serializeMark(t.marks[e],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,n={}){var r=this.marks[e.type.name];return r&&Oe.renderSpec(Ae(n),r(e,t))}static renderSpec(t,n,r=null){if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;let o,e=n[0],i=e.indexOf(" "),s=(0<i&&(r=e.slice(0,i),e=e.slice(i+1)),r?t.createElementNS(r,e):t.createElement(e)),a=n[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var c in l=2,a){var u;null!=a[c]&&(0<(u=c.indexOf(" "))?s.setAttributeNS(c.slice(0,u),c.slice(u+1),a[c]):s.setAttribute(c,a[c]))}for(let e=l;e<n.length;e++){var d=n[e];if(0===d){if(e<n.length-1||e>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var{dom:d,contentDOM:p}=Oe.renderSpec(t,d,r);if(s.appendChild(d),p){if(o)throw new RangeError("Multiple content holes");o=p}}return{dom:s,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Oe(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){e=De(e.nodes);return e.text||(e.text=e=>e.text),e}static marksFromSchema(e){return De(e.marks)}}function De(e){var t,n={};for(t in e){var r=e[t].spec.toDOM;r&&(n[t]=r)}return n}function Ae(e){return e.document||window.document}var e=l0(956),Le=l0.n(e),e=l0(969),Ie=l0.n(e),e=l0(522),Re=l0.n(e),e=l0(204),Pe=l0.n(e),e=l0(462),Be=l0.n(e),e=l0(758),Fe=l0.n(e),e=l0(321),He=l0.n(e),e=l0(929),ze=l0.n(e),e=l0(934),qe=l0.n(e),e=l0(391),Ve=l0.n(e),je=(/Mac/.test(navigator.platform),/[\u0020]+/g),$e=/[>(){}[\]+-.!#|]/g,_e=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,Ue=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,We=/[*_~`]/g,Je=/!\[.*\]\(.*\)/g,Ge=/[[\]]/g,Ke=/(?:^|[^\\])\\(?!\\)/g,Ze=new RegExp('[&<>"]',"g");function Xe(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function Qe(e){return Ze.test(e)?e.replace(Ze,Xe):e}function T(e,t){return-1!==e.indexOf(t)}var Ye,et=["rel","target","hreflang","type"],tt={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function nt(t){var n;return t?(n={},et.forEach(function(e){ze()(t[e])||(n[e]=t[e])}),n):null}function rt(e,t){for(var n="",r=0;r<t;r+=1)n+=e;return n}function ot(e){for(var n=[],t=Je.exec(e);t;)n.push([t.index,t.index+t[0].length]),t=Je.exec(e);return e.replace(Ge,function(e,t){return n.some(function(e){return t>e[0]&&t<e[1]})?e:"\\"+e})}function it(e){function t(e){return"\\"+e}var n,r,e=e.replace(je," ");return Ue.test(e)&&(e=e.replace(Ue,t)),e=(e=Ke.test(e)?e.replace(Ke,function(e){return e+"\\"}):e).replace(We,t),_e.test(e)&&(e=e.replace(_e,t)),n=e,r=!1,Le()(tt,function(e){return!(r=e.test(n)?!0:r)}),e=r?e.replace($e,t):e}function st(e){return qe()(e)||ze()(e)}function at(e,t){if(null!==e||e!==t){if("object"!=typeof e||"object"!=typeof t||st(e)||st(t))return e===t;for(var n in e)if(e[n]!==t[n])return;for(var n in t)if(!(n in e))return}return 1}function lt(e){return e[e.length-1]}function ct(e){return"object"==typeof e&&null!==e}function ut(e,t){var n=x({},e);return e&&t&&Object.keys(t).forEach(function(e){ct(n[e])?Array.isArray(t[e])?n[e]=dt(t[e]):n.hasOwnProperty(e)?n[e]=ut(n[e],t[e]):n[e]=pt(t[e]):n[e]=t[e]}),n}function dt(e){return e.map(function(e){return ct(e)?(Array.isArray(e)?dt:pt)(e):e})}function pt(n){var e=Object.keys(n);return e.length?e.reduce(function(e,t){return ct(n[t])?e[t]=(Array.isArray(n[t])?dt:pt)(n[t]):e[t]=n[t],e},{}):n}function ht(t,n){return void 0===n&&(n={}),Object.keys(n).forEach(function(e){!t.hasOwnProperty(e)||"object"!=typeof t[e]||Array.isArray(n[e])?t[e]=n[e]:ht(t[e],n[e])}),t}function ft(e,t){return t<e?[t,e]:[e,t]}const mt=Math.pow(2,16);function gt(e){return 65535&e}class vt{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return 0<(8&this.delInfo)}get deletedBefore(){return 0<(5&this.delInfo)}get deletedAfter(){return 0<(6&this.delInfo)}get deletedAcross(){return 0<(4&this.delInfo)}}class yt{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&yt.empty)return yt.empty}recover(e){let t=0,n=gt(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+(e-(65535&e))/mt}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(r,o,i){let s=0,e=this.inverted?2:1,t=this.inverted?1:2;for(let n=0;n<this.ranges.length;n+=3){var a=this.ranges[n]-(this.inverted?s:0);if(r<a)break;var l=this.ranges[n+e],c=this.ranges[n+t],u=a+l;if(r<=u){var d=a+s+((l?r==a?-1:r==u?1:o:o)<0?0:c);if(i)return d;let e=r==(o<0?a:u)?null:n/3+(r-a)*mt,t=r==a?2:r==u?1:4;return(o<0?r!=a:r!=u)&&(t|=8),new vt(d,t,e)}s+=c-l}return i?r+s:new vt(r+s,0,null)}touches(t,e){let n=0,r=gt(e),o=this.inverted?2:1,i=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){var s=this.ranges[e]-(this.inverted?n:0);if(t<s)break;var a=this.ranges[e+o];if(t<=s+a&&e==3*r)return!0;n+=this.ranges[e+i]-a}return!1}forEach(n){var r=this.inverted?2:1,o=this.inverted?1:2;for(let e=0,t=0;e<this.ranges.length;e+=3){var i=this.ranges[e],s=i-(this.inverted?t:0),i=i+(this.inverted?0:t),a=this.ranges[e+r],l=this.ranges[e+o];n(s,s+a,i,i+l),t+=l-a}}invert(){return new yt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?yt.empty:new yt(e<0?[0,-e,0]:[0,0,e])}}yt.empty=new yt([]);class bt{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new bt(this.maps,this.mirror,e,t)}copy(){return new bt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(n){for(let e=0,t=this.maps.length;e<n.maps.length;e++){var r=n.getMirror(e);this.appendMap(n.maps[e],null!=r&&r<e?t+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(n){for(let e=n.maps.length-1,t=this.maps.length+n.maps.length;0<=e;e--){var r=n.getMirror(e);this.appendMap(n.maps[e].invert(),null!=r&&r>e?t-r-1:void 0)}}invert(){var e=new bt;return e.appendMappingInverted(this),e}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let e=this.from;e<this.to;e++)t=this.maps[e].map(t,n);return t}mapResult(e,t=1){return this._map(e,t,!1)}_map(t,n,e){let r=0;for(let e=this.from;e<this.to;e++){var o=this.maps[e].mapResult(t,n);if(null!=o.recover){var i=this.getMirror(e);if(null!=i&&i>e&&i<this.to){e=i,t=this.maps[i].recover(o.recover);continue}}r|=o.delInfo,t=o.pos}return e?t:new vt(t,r,null)}}const wt=Object.create(null);class kt{getMap(){return yt.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=wt[t.stepType];if(n)return n.fromJSON(e,t);throw new RangeError(`No step type ${t.stepType} defined`)}static jsonID(e,t){if(e in wt)throw new RangeError("Duplicate use of step JSON ID "+e);return(wt[e]=t).prototype.jsonID=e,t}}class xt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new xt(e,null)}static fail(e){return new xt(null,e)}static fromReplace(e,t,n,r){try{return xt.ok(e.replace(t,n,r))}catch(e){if(e instanceof j)return xt.fail(e.message);throw e}}}function Ct(n,r,o){var i=[];for(let t=0;t<n.childCount;t++){let e=n.child(t);(e=e.content.size?e.copy(Ct(e.content,r,e)):e).isInline&&(e=r(e,o,t)),i.push(e)}return C.fromArray(i)}class Tt extends kt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){var t=e.slice(this.from,this.to),n=e.resolve(this.from),n=n.node(n.sharedDepth(this.to)),n=new Z(Ct(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,n),t.openStart,t.openEnd);return xt.fromReplace(e,this.from,this.to,n)}invert(){return new Mt(this.from,this.to,this.mark)}map(e){var t=e.mapResult(this.from,1),e=e.mapResult(this.to,-1);return t.deleted&&e.deleted||t.pos>=e.pos?null:new Tt(t.pos,e.pos,this.mark)}merge(e){return e instanceof Tt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Tt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Tt(t.from,t.to,e.markFromJSON(t.mark))}}kt.jsonID("addMark",Tt);class Mt extends kt{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){var t=e.slice(this.from,this.to),t=new Z(Ct(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return xt.fromReplace(e,this.from,this.to,t)}invert(){return new Tt(this.from,this.to,this.mark)}map(e){var t=e.mapResult(this.from,1),e=e.mapResult(this.to,-1);return t.deleted&&e.deleted||t.pos>=e.pos?null:new Mt(t.pos,e.pos,this.mark)}merge(e){return e instanceof Mt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Mt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Mt(t.from,t.to,e.markFromJSON(t.mark))}}kt.jsonID("removeMark",Mt);class Et extends kt{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Nt(e,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new yt([this.from,this.to-this.from,this.slice.size])}invert(e){return new Et(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){var t=e.mapResult(this.from,1),e=e.mapResult(this.to,-1);return t.deletedAcross&&e.deletedAcross?null:new Et(t.pos,Math.max(t.pos,e.pos),this.slice)}merge(e){var t;return e instanceof Et&&!e.structure&&!this.structure?this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart?e.to!=this.from||this.slice.openStart||e.slice.openEnd?null:(t=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd),new Et(e.from,this.to,t,this.structure)):(t=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd),new Et(this.from,this.to+(e.to-e.from),t,this.structure)):null}toJSON(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Et(t.from,t.to,Z.fromJSON(e,t.slice),!!t.structure)}}kt.jsonID("replace",Et);class St extends kt{constructor(e,t,n,r,o,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){var t;return this.structure&&(Nt(e,this.from,this.gapFrom)||Nt(e,this.gapTo,this.to))?xt.fail("Structure gap-replace would overwrite content"):(t=e.slice(this.gapFrom,this.gapTo)).openStart||t.openEnd?xt.fail("Gap is not a flat range"):(t=this.slice.insertAt(this.insert,t.content))?xt.fromReplace(e,this.from,this.to,t):xt.fail("Content does not fit in gap")}getMap(){return new yt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){var t=this.gapTo-this.gapFrom;return new St(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){var t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),e=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||e>n.pos?null:new St(t.pos,n.pos,r,e,this.slice,this.insert,this.structure)}toJSON(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new St(t.from,t.to,t.gapFrom,t.gapTo,Z.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Nt(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;0<o&&0<i&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(0<o){let e=r.node(i).maybeChild(r.indexAfter(i));for(;0<o;){if(!e||e.isLeaf)return 1;e=e.firstChild,o--}}}function Ot(t){var n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let e=t.depth;;--e){var r=t.$from.node(e),o=t.$from.index(e),i=t.$to.indexAfter(e);if(e<t.depth&&r.canReplace(o,i,n))return e;if(0==e||r.type.spec.isolating||(r=r,i=i,0!=(o=o)&&!r.canReplace(o,r.childCount))||i!=r.childCount&&!r.canReplace(0,i))break}return null}function Dt(e){return{type:e,attrs:null}}function At(e,t,o=1,i){var s=e.resolve(t),a=s.depth-o,e=i&&i[i.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!e.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let n=s.depth-1,r=o-2;n>a;n--,r--){var l=s.node(n),c=s.index(n);if(l.type.spec.isolating)return!1;let e=l.content.cutByIndex(c,l.childCount),t=i&&i[r]||l;if(t!=l&&(e=e.replaceChild(0,t.type.create(t.attrs))),!l.canReplace(c+1,l.childCount)||!t.type.validContent(e))return!1}t=s.indexAfter(a),e=i&&i[0];return s.node(a).canReplaceWith(t,t,(e||s.node(1+a)).type)}function Lt(e,t){var n,r,e=e.resolve(t),t=e.index();return n=e.nodeBefore,r=e.nodeAfter,n&&r&&!n.isLeaf&&n.canAppend(r)&&e.parent.canReplace(t,t+1)}function It(e,t,n=t,r=Z.empty){var o;return t!=n||r.size?Rt(o=e.resolve(t),e=e.resolve(n),r)?new Et(t,n,r):new Pt(o,e,r).fit():null}function Rt(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}kt.jsonID("replaceAround",St);class Pt{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=C.empty;for(let e=0;e<=t.depth;e++){var r=t.node(e);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;0<e;e--)this.placed=C.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,a=o.depth;for(;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var l=new Z(i,s,a);return-1<t?new St(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Et(r.pos,o.pos,l):null}findFittable(){for(let a=1;a<=2;a++)for(let s=this.unplaced.openStart;0<=s;s--){let e,i=null;var l=(e=(s?i=Ht(this.unplaced.content,s-1).firstChild:this.unplaced).content).firstChild;for(let o=this.depth;0<=o;o--){let e,{type:t,match:n}=this.frontier[o],r=null;if(1==a&&(l?n.matchType(l.type)||(r=n.fillBefore(C.from(l),!1)):i&&t.compatibleContent(i.type)))return{sliceDepth:s,frontierDepth:o,parent:i,inject:r};if(2==a&&l&&(e=n.findWrapping(l.type)))return{sliceDepth:s,frontierDepth:o,parent:i,wrap:e};if(i&&n.matchType(i.type))break}}}openMore(){var{content:e,openStart:t,openEnd:n}=this.unplaced,r=Ht(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new Z(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){var{content:e,openStart:t,openEnd:n}=this.unplaced,r=Ht(e,t);r.childCount<=1&&0<t?(r=e.size-t<=t+r.size,this.unplaced=new Z(Bt(e,t-1,1),t-1,r?t-1:n)):this.unplaced=new Z(Bt(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let i=this.unplaced,s=(n||i).content,a=i.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let p=s.size+e-(i.content.size-i.openEnd);for(;l<s.childCount;){var h=s.child(l),f=u.matchType(h.type);if(!f)break;(1<++l||0==a||h.content.size)&&(u=f,c.push(function e(t,n,r){if(n<=0)return t;let o=t.content;return 1<n&&(o=o.replaceChild(0,e(o.firstChild,n-1,1==o.childCount?r-1:0))),0<n&&(o=t.type.contentMatch.fillBefore(o).append(o),r<=0)&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(C.empty,!0))),t.copy(o)}(h.mark(d.allowedMarks(h.marks)),1==l?a:0,l==s.childCount?p:-1)))}var m=l==s.childCount;m||(p=-1),this.placed=Ft(this.placed,t,C.from(c)),this.frontier[t].match=u,m&&p<0&&n&&n.type==this.frontier[this.depth].type&&1<this.frontier.length&&this.closeFrontierNode();for(let e=0,t=s;e<p;e++){var g=t.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),t=g.content}this.unplaced=m?0==e?Z.empty:new Z(Bt(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new Z(Bt(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!zt(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let n=this.$to["depth"],r=this.$to.after(n);for(;1<n&&r==this.$to.end(--n);)++r;return r}findCloseLevel(n){e:for(let t=Math.min(this.depth,n.depth);0<=t;t--){var{match:e,type:r}=this.frontier[t],o=t<n.depth&&n.end(t+1)==n.pos+(n.depth-(t+1)),r=zt(n,t,r,e,o);if(r){for(let e=t-1;0<=e;e--){var{match:i,type:s}=this.frontier[e],s=zt(n,e,s,i,!0);if(!s||s.childCount)continue e}return{depth:t,fit:r,move:o?n.doc.resolve(n.after(t+1)):n}}}}close(t){var n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ft(this.placed,n.depth,n.fit)),t=n.move;for(let e=n.depth+1;e<=t.depth;e++){var r=t.node(e),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(e));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(e,t=null,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Ft(this.placed,this.depth,C.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){var e=this.frontier.pop().match.fillBefore(C.empty,!0);e.childCount&&(this.placed=Ft(this.placed,this.frontier.length,e))}}function Bt(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Bt(e.firstChild.content,t-1,n)))}function Ft(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Ft(e.lastChild.content,t-1,n)))}function Ht(t,n){for(let e=0;e<n;e++)t=t.firstChild.content;return t}function zt(e,t,n,r,o){var i=e.node(t),s=o?e.indexAfter(t):e.index(t);return(s!=i.childCount||n.compatibleContent(i.type))&&(o=r.fillBefore(i.content,!0,s))&&!function(t,n){for(let e=s;e<n.childCount;e++)if(!t.allowsMarks(n.child(e).marks))return 1}(n,i.content)?o:null}function qt(t,n){var r=[];for(let e=Math.min(t.depth,n.depth);0<=e;e--){var o=t.start(e);if(o<t.pos-(t.depth-e)||n.end(e)>n.pos+(n.depth-e)||t.node(e).type.spec.isolating||n.node(e).type.spec.isolating)break;(o==n.start(e)||e==t.depth&&e==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&e&&n.start(e-1)==o-1)&&r.push(e)}return r}(class extends Error{});let Vt;(((Vt=function e(t){t=Error.call(this,t);return t.__proto__=e.prototype,t}).prototype=Object.create(Error.prototype)).constructor=Vt).prototype.name="TransformError";const jt=Object.create(null);class g{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new $t(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){var t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Z.empty){let r=n.content.lastChild,o=null;for(let e=0;e<n.openEnd;e++)r=(o=r).lastChild;var i=t.steps.length,s=this.ranges;for(let e=0;e<s.length;e++){var{$from:a,$to:l}=s[e],c=t.mapping.slice(i);t.replaceRange(c.map(a.pos),c.map(l.pos),e?Z.empty:n),0==e&&Xt(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){var r=t.steps.length,o=this.ranges;for(let e=0;e<o.length;e++){var{$from:i,$to:s}=o[e],a=t.mapping.slice(r),i=a.map(i.pos),a=a.map(s.pos);e?t.deleteRange(i,a):(t.replaceRangeWith(i,a,n),Xt(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){var e=t.parent.inlineContent?new y(t):Zt(t.node(0),t.parent,t.pos,t.index(),n,r);if(e)return e;for(let e=t.depth-1;0<=e;e--){var o=n<0?Zt(t.node(0),t.node(e),t.before(e+1),t.index(e),n,r):Zt(t.node(0),t.node(e),t.after(e+1),t.index(e)+1,n,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Gt(e.node(0))}static atStart(e){return Zt(e,e,0,0,1)||new Gt(e)}static atEnd(e){return Zt(e,e,e.content.size,e.childCount,-1)||new Gt(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=jt[t.type];if(n)return n.fromJSON(e,t);throw new RangeError(`No selection type ${t.type} defined`)}static jsonID(e,t){if(e in jt)throw new RangeError("Duplicate use of selection JSON ID "+e);return(jt[e]=t).prototype.jsonID=e,t}getBookmark(){return y.between(this.$anchor,this.$head).getBookmark()}}class $t{constructor(e,t){this.$from=e,this.$to=t}}let _t=!(g.prototype.visible=!0);function Ut(e){_t||e.parent.inlineContent||(_t=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class y extends g{constructor(e,t=e){Ut(e),Ut(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){var n=e.resolve(t.map(this.head));return n.parent.inlineContent?(e=e.resolve(t.map(this.anchor)),new y(e.parent.inlineContent?e:n,n)):g.near(n)}replace(e,t=Z.empty){super.replace(e,t),t==Z.empty&&(t=this.$from.marksAcross(this.$to))&&e.ensureMarks(t)}eq(e){return e instanceof y&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Wt(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new y(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){var r=e.pos-t.pos;if(n&&!r||(n=0<=r?1:-1),!t.parent.inlineContent){var o=g.findFrom(t,n,!0)||g.findFrom(t,-n,!0);if(!o)return g.near(t,n);t=o.$head}return e.parent.inlineContent||(0!=r&&(e=(g.findFrom(e,-n,!0)||g.findFrom(e,n,!0)).$anchor).pos<t.pos==r<0||(e=t)),new y(e,t)}}g.jsonID("text",y);class Wt{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Wt(e.map(this.anchor),e.map(this.head))}resolve(e){return y.between(e.resolve(this.anchor),e.resolve(this.head))}}class p extends g{constructor(e){var t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){var{deleted:t,pos:n}=t.mapResult(this.anchor),e=e.resolve(n);return t?g.near(e):new p(e)}content(){return new Z(C.from(this.node),0,0)}eq(e){return e instanceof p&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Jt(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new p(e.resolve(t.anchor))}static create(e,t){return new p(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}p.prototype.visible=!1,g.jsonID("node",p);class Jt{constructor(e){this.anchor=e}map(e){var{deleted:e,pos:t}=e.mapResult(this.anchor);return e?new Wt(t,t):new Jt(t)}resolve(e){var e=e.resolve(this.anchor),t=e.nodeAfter;return t&&p.isSelectable(t)?new p(e):g.near(e)}}class Gt extends g{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Z.empty){var n;t==Z.empty?(e.delete(0,e.doc.content.size),(n=g.atStart(e.doc)).eq(e.selection)||e.setSelection(n)):super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Gt(e)}map(e){return new Gt(e)}eq(e){return e instanceof Gt}getBookmark(){return Kt}}g.jsonID("all",Gt);const Kt={map(){return this},resolve:e=>new Gt(e)};function Zt(t,n,r,o,i,s=!1){if(n.inlineContent)return y.create(t,r);for(let e=o-(0<i?0:1);0<i?e<n.childCount:0<=e;e+=i){var a=n.child(e);if(a.isAtom){if(!s&&p.isSelectable(a))return p.create(t,r-(i<0?a.nodeSize:0))}else{var l=Zt(t,a,r+i,i<0?a.childCount:0,i,s);if(l)return l}r+=a.nodeSize*i}return null}function Xt(t,e,n){var r=t.steps.length-1;if(!(r<e)){let o,e=t.steps[r];(e instanceof Et||e instanceof St)&&(t.mapping.maps[r].forEach((e,t,n,r)=>{null==o&&(o=r)}),t.setSelection(g.near(t.doc.resolve(o),n)))}}class Qt extends class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new bt}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){e=this.maybeStep(e);if(e.failed)throw new Vt(e.failed);return this}maybeStep(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return 0<this.steps.length}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Z.empty){t=It(this.doc,e,t,n);return t&&this.step(t),this}replaceWith(e,t,n){return this.replace(e,t,new Z(C.from(n),0,0))}delete(e,t){return this.replace(e,t,Z.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(r,t,o,i){if(!i.size)return r.deleteRange(t,o);var s=r.doc.resolve(t),a=r.doc.resolve(o);if(Rt(s,a,i))return r.step(new Et(t,o,i));var l=qt(s,r.doc.resolve(o));0==l[l.length-1]&&l.pop();let n=-(s.depth+1);l.unshift(n);for(let e=s.depth,t=s.pos-1;0<e;e--,t--){var c=s.node(e).type.spec;if(c.defining||c.definingAsContext||c.isolating)break;-1<l.indexOf(e)?n=e:s.before(e)==t&&l.splice(1,0,-e)}let u=l.indexOf(n),d=[],p=i.openStart;for(let e=i.content,t=0;;t++){var h=e.firstChild;if(d.push(h),t==i.openStart)break;e=h.content}for(let e=p-1;0<=e;e--){var f=d[e].type,m=(m=f).spec.defining||m.spec.definingForContent;if(m&&s.node(u).type!=f)p=e;else if(m||!f.isTextblock)break}for(let e=i.openStart;0<=e;e--){var g=(e+p+1)%(i.openStart+1),v=d[g];if(v)for(let n=0;n<l.length;n++){let e=l[(n+u)%l.length],t=!0;e<0&&(t=!1,e=-e);var y=s.node(e-1),b=s.index(e-1);if(y.canReplaceWith(b,b,v.type,v.marks))return r.replace(s.before(e),t?a.after(e):o,new Z(function e(t,n,r,o,i){var s;return n<r&&(s=t.firstChild,t=t.replaceChild(0,s.copy(e(s.content,n+1,r,o,s)))),t=o<n?(s=(r=i.contentMatchAt(0)).fillBefore(t).append(t)).append(r.matchFragment(s).fillBefore(C.empty,!0)):t}(i.content,0,i.openStart,g),g,i.openEnd))}}var w=r.steps.length;for(let e=l.length-1;0<=e&&(r.replace(t,o,i),!(r.steps.length>w));e--){var k=l[e];k<0||(t=s.before(k),o=a.after(k))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return r=this,e=e,t=t,!(n=n).isInline&&e==t&&r.doc.resolve(e).parent.content.size&&null!=(o=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;0<=e;e--){var o=r.index(e);if(r.node(e).canReplaceWith(o,o,n))return r.before(e+1);if(0<o)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;0<=e;e--){var i=r.indexAfter(e);if(r.node(e).canReplaceWith(i,i,n))return r.after(e+1);if(i<r.node(e).childCount)return null}return null}(r.doc,e,n.type))&&(e=t=o),r.replaceRange(e,t,new Z(C.from(n),0,0)),this;var r,o}deleteRange(e,t){return function(t,n,r){var o=t.doc.resolve(n),i=t.doc.resolve(r),s=qt(o,i);for(let e=0;e<s.length;e++){var a=s[e],l=e==s.length-1;if(l&&0==a||o.node(a).type.contentMatch.validEnd)return t.delete(o.start(a),i.end(a));if(0<a&&(l||o.node(a-1).canReplace(o.index(a-1),i.indexAfter(a-1))))return t.delete(o.before(a),i.after(a))}for(let e=1;e<=o.depth&&e<=i.depth;e++)if(n-o.start(e)==o.depth-e&&r>o.end(e)&&i.end(e)-r!=i.depth-e)return t.delete(o.before(e),r);t.delete(n,r)}(this,e,t),this}lift(d,p){{var h=this,f=p;let{$from:n,$to:r,depth:o}=d,e=n.before(o+1),t=r.after(o+1),i=e,s=t,a=C.empty,l=0;for(let e=o,t=!1;e>f;e--)t||0<n.index(e)?(t=!0,a=C.from(n.node(e).copy(a)),l++):i--;let c=C.empty,u=0;for(let e=o,t=!1;e>f;e--)t||r.after(e+1)<r.end(e)?(t=!0,c=C.from(r.node(e).copy(c)),u++):s++;h.step(new St(i,s,e,t,new Z(a.append(c),l,u),a.size-l,!0))}return this}join(e,t=1){var n=this;return e=new Et(e-t,e+t,Z.empty,!0),n.step(e),this}wrap(e,n){{var r=this,o=n;let t=C.empty;for(let e=o.length-1;0<=e;e--){if(t.size){var i=o[e].type.contentMatch.matchFragment(t);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}t=C.from(o[e].type.create(o[e].attrs,t))}n=e.start,e=e.end,r.step(new St(n,e,n,e,new Z(t,0,0),o.length,!0))}return this}setBlockType(e,t=e,n,r=null){{var i=this,s=e,a=n,l=r;if(!a.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=i.steps.length;i.doc.nodesBetween(s,t,(e,t)=>{var n,r;if(e.isTextblock&&!e.hasMarkup(a,l)&&function(e,t,n){e=e.resolve(t),t=e.index();return e.parent.canReplaceWith(t,t+1,n)}(i.doc,i.mapping.slice(o).map(t),a))return i.clearIncompatible(i.mapping.slice(o).map(t,1),a),n=(r=i.mapping.slice(o)).map(t,1),r=r.map(t+e.nodeSize,1),i.step(new St(n,r,n+1,r-1,new Z(C.from(a.create(l,null,e.marks)),0,0),1,!0)),!1})}return this}setNodeMarkup(e,t,n=null,r=[]){return function(e,t,n,r,o){var i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");r=(n=n||i.type).create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,r);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new St(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Z(C.from(r),0,0),1,!0))}(this,e,t,n,r),this}split(e,t=1,s){{var[e,t,s=1,a]=[this,e,t,s];let r=e.doc.resolve(t),o=C.empty,i=C.empty;for(let e=r.depth,t=r.depth-s,n=s-1;e>t;e--,n--){o=C.from(r.node(e).copy(o));var l=a&&a[n];i=C.from(l?l.type.create(l.attrs,i):r.node(e).copy(i))}e.step(new Et(t,t,new Z(o.append(i),s,s),!0))}return this}addMark(e,t,n){{var r=this,d=e,p=t,h=n;let a,l,c=[],u=[];r.doc.nodesBetween(d,p,(e,t,n)=>{if(e.isInline){var r=e.marks;if(!h.isInSet(r)&&n.type.allowsMarkType(h.type)){var o=Math.max(t,d),i=Math.min(t+e.nodeSize,p),s=h.addToSet(r);for(let e=0;e<r.length;e++)r[e].isInSet(s)||(a&&a.to==o&&a.mark.eq(r[e])?a.to=i:c.push(a=new Mt(o,i,r[e])));l&&l.to==o?l.to=i:u.push(l=new Tt(o,i,h))}}}),c.forEach(e=>r.step(e)),u.forEach(e=>r.step(e))}return this}removeMark(e,t,n){{var r=this,c=e,u=t,d=n;let a=[],l=0;r.doc.nodesBetween(c,u,(n,o)=>{if(n.isInline){l++;let r=null;if(d instanceof ye){let e,t=n.marks;for(;e=d.isInSet(t);)(r=r||[]).push(e),t=e.removeFromSet(t)}else d?d.isInSet(n.marks)&&(r=[d]):r=n.marks;if(r&&r.length){var i=Math.min(o+n.nodeSize,u);for(let e=0;e<r.length;e++){let t,n=r[e];for(let e=0;e<a.length;e++){var s=a[e];s.step==l-1&&n.eq(a[e].style)&&(t=s)}t?(t.to=i,t.step=l):a.push({style:n,from:Math.max(o,c),to:i,step:l})}}}}),a.forEach(e=>r.step(new Mt(e.from,e.to,e.style)))}return this}clearIncompatible(e,t,n){return function(t,e,n,r=n.contentMatch){let o=t.doc.nodeAt(e),i=[],s=e+1;for(let e=0;e<o.childCount;e++){var a=o.child(e),l=s+a.nodeSize,c=r.matchType(a.type);if(c){r=c;for(let e=0;e<a.marks.length;e++)n.allowsMarkType(a.marks[e].type)||t.step(new Mt(s,l,a.marks[e]))}else i.push(new Et(s,l,Z.empty));s=l}r.validEnd||(e=r.fillBefore(C.empty,!0),t.replace(s,s,new Z(e,0,0)));for(let e=i.length-1;0<=e;e--)t.step(i[e])}(this,e,t,n),this}}{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return 0<(1&this.updated)}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return v.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return 0<(2&this.updated)}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){var n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||v.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){var o,i=this.doc.type.schema;if(null==n)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r=null==(r=null==r?n:r)?n:r,!t)return this.deleteRange(n,r);let e=this.storedMarks;return e||(o=this.doc.resolve(n),e=r==n?o.marks():o.marksAcross(this.doc.resolve(r))),this.replaceRangeWith(n,r,i.text(t,e)),this.selection.empty||this.setSelection(g.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(var e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return 0<(4&this.updated)}}function Yt(e,t){return t&&e?e.bind(t):e}class en{constructor(e,t,n){this.name=e,this.init=Yt(t.init,n),this.apply=Yt(t.apply,n)}}const tn=[new en("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new en("selection",{init:(e,t)=>e.selection||g.atStart(t.doc),apply:e=>e.selection}),new en("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new en("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class nn{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=tn.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),(this.pluginsByKey[e.key]=e).spec.state&&this.fields.push(new en(e.key,e.spec.state,e))})}}class rn{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(t,n=-1){for(let e=0;e<this.config.plugins.length;e++)if(e!=n){var r=this.config.plugins[e];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(n){if(!this.filterTransaction(n))return{state:this,transactions:[]};let r=[n],o=this.applyInner(n),i=null;for(;;){let e=!1;for(let t=0;t<this.config.plugins.length;t++){var s=this.config.plugins[t];if(s.spec.appendTransaction){var a=i?i[t].n:0,l=i?i[t].state:this,s=a<r.length&&s.spec.appendTransaction.call(s,a?r.slice(a):r,l,o);if(s&&o.filterTransaction(s,t)){if(s.setMeta("appendedTransaction",n),!i){i=[];for(let e=0;e<this.config.plugins.length;e++)i.push(e<t?{state:o,n:r.length}:{state:this,n:0})}r.push(s),o=o.applyInner(s),e=!0}i&&(i[t]={state:o,n:r.length})}}if(!e)return{state:o,transactions:r}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");var n=new rn(this.config),r=this.config.fields;for(let e=0;e<r.length;e++){var o=r[e];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new Qt(this)}static create(t){var n=new nn((t.doc?t.doc.type:t).schema,t.plugins),r=new rn(n);for(let e=0;e<n.fields.length;e++)r[n.fields[e].name]=n.fields[e].init(t,r);return r}reconfigure(t){var e=new nn(this.schema,t.plugins),n=e.fields,r=new rn(e);for(let e=0;e<n.length;e++){var o=n[e].name;r[o]=this.hasOwnProperty(o)?this[o]:n[e].init(t,r)}return r}toJSON(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(o,i,s){if(!i)throw new RangeError("Invalid input for EditorState.fromJSON");if(!o.schema)throw new RangeError("Required config field 'schema' missing");let e=new nn(o.schema,o.plugins),a=new rn(e);return e.fields.forEach(e=>{if("doc"==e.name)a.doc=oe.fromJSON(o.schema,i.doc);else if("selection"==e.name)a.selection=g.fromJSON(a.doc,i.selection);else if("storedMarks"==e.name)i.storedMarks&&(a.storedMarks=i.storedMarks.map(o.schema.markFromJSON));else{if(s)for(var t in s){var n=s[t],r=n.spec.state;if(n.key==e.name&&r&&r.fromJSON&&Object.prototype.hasOwnProperty.call(i,t))return void(a[e.name]=r.fromJSON.call(n,o,i[t],a))}a[e.name]=e.init(o,a)}}),a}}class on{constructor(e){this.spec=e,this.props={},e.props&&function t(n,r,o){for(var i in n){let e=n[i];e instanceof Function?e=e.bind(r):"handleDOMEvents"==i&&(e=t(e,r,{})),o[i]=e}return o}(e.props,this,this.props),this.key=e.key?e.key.key:an("plugin")}getState(e){return e[this.key]}}const sn=Object.create(null);function an(e){return e in sn?e+"$"+ ++sn[e]:(sn[e]=0,e+"$")}class ln{constructor(e="key"){this.key=an(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}function cn(e){return(e=e.assignedSlot||e.parentNode)&&11==e.nodeType?e.host:e}const un="undefined"!=typeof navigator?navigator:null,dn="undefined"!=typeof document?document:null,pn=un&&un.userAgent||"",hn=/Edge\/(\d+)/.exec(pn),fn=/MSIE \d/.exec(pn),mn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pn),gn=!!(fn||mn||hn),vn=fn?document.documentMode:mn?+mn[1]:hn?+hn[1]:0,yn=!gn&&/gecko\/(\d+)/i.test(pn),bn=(yn&&(/Firefox\/(\d+)/.exec(pn)||[0,0])[1],!gn&&/Chrome\/(\d+)/.exec(pn)),wn=!!bn,kn=bn?+bn[1]:0,xn=!gn&&!!un&&/Apple Computer/.test(un.vendor),Cn=xn&&(/Mobile\/\w+/.test(pn)||!!un&&2<un.maxTouchPoints),Tn=Cn||!!un&&/Mac/.test(un.platform),Mn=/Android \d/.test(pn),En=!!dn&&"webkitFontSmoothing"in dn.documentElement.style,Sn=En?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Nn=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t};let On=null;function Dn(e,t,n,r){return n&&(In(e,t,n,r,-1)||In(e,t,n,r,1))}const An=function(e,t,n){var r=On=On||document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Ln=/^(img|br|input|textarea|hr)$/i;function In(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Rn(e))){var i=e.parentNode;if(!i||1!=i.nodeType||function(t){let n;for(let e=t;e&&!(n=e.pmViewDesc);e=e.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==t||n.contentDOM==t)}(e)||Ln.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Nn(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?Rn(e):0}}}function Rn(e){return(3==e.nodeType?e.nodeValue:e.childNodes).length}const Pn=function(e){let t=e.isCollapsed;return t=t&&wn&&e.rangeCount&&!e.getRangeAt(0).collapsed?!1:t};function Bn(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Fn(e,t){return"number"==typeof e?e:e[t]}function Hn(e,s,t){var a,l,c,u,d=e.someProp("scrollThreshold")||0,p=e.someProp("scrollMargin")||5,h=e.dom.ownerDocument;for(let i=t||e.dom;i;i=cn(i))if(1==i.nodeType){let e=i,t=e==h.body,n=t?{left:0,right:h.documentElement.clientWidth,top:0,bottom:h.documentElement.clientHeight}:(u=c=l=void 0,l=(a=e).getBoundingClientRect(),c=l.width/a.offsetWidth||1,u=l.height/a.offsetHeight||1,{left:l.left,right:l.left+a.clientWidth*c,top:l.top,bottom:l.top+a.clientHeight*u}),r=0,o=0;if(s.top<n.top+Fn(d,"top")?o=-(n.top-s.top+Fn(p,"top")):s.bottom>n.bottom-Fn(d,"bottom")&&(o=s.bottom-n.bottom+Fn(p,"bottom")),s.left<n.left+Fn(d,"left")?r=-(n.left-s.left+Fn(p,"left")):s.right>n.right-Fn(d,"right")&&(r=s.right-n.right+Fn(p,"right")),(r||o)&&(t?h.defaultView.scrollBy(r,o):(c=e.scrollLeft,l=e.scrollTop,o&&(e.scrollTop+=o),r&&(e.scrollLeft+=r),a=e.scrollLeft-c,u=e.scrollTop-l,s={left:s.left-a,top:s.top-u,right:s.right-a,bottom:s.bottom-u})),t)break}}function zn(t){var n=[],r=t.ownerDocument;for(let e=t;e&&(n.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),t!=r);e=cn(e));return n}function qn(t,n){for(let e=0;e<t.length;e++){var{dom:r,top:o,left:i}=t[e];r.scrollTop!=o+n&&(r.scrollTop=o+n),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Vn=null;function jn(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function $n(e,n){let r,t=e.dom.ownerDocument,o=0;if(t.caretPositionFromPoint)try{var i=t.caretPositionFromPoint(n.left,n.top);i&&({offsetNode:r,offset:o}=i)}catch(e){}var s;!r&&t.caretRangeFromPoint&&(i=t.caretRangeFromPoint(n.left,n.top))&&({startContainer:r,startOffset:o}=i);let a,l=(e.root.elementFromPoint?e.root:t).elementFromPoint(n.left,n.top);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){var i=e.dom.getBoundingClientRect();if(!jn(n,i))return null;if(!(l=function n(r,o,i){var s=r.childNodes.length;if(s&&i.top<i.bottom)for(let e=Math.max(0,Math.min(s-1,Math.floor(s*(o.top-i.top)/(i.bottom-i.top))-2)),t=e;;){var a=r.childNodes[t];if(1==a.nodeType){var l=a.getClientRects();for(let e=0;e<l.length;e++){var c=l[e];if(jn(o,c))return n(a,o,c)}}if((t=(t+1)%s)==e)break}return r}(e.dom,n,i)))return null}if(xn)for(let e=l;r&&e;e=cn(e))e.draggable&&(r=void 0);if(l=(i=l,c=n,(s=i.parentNode)&&/^li$/i.test(s.nodeName)&&c.left<i.getBoundingClientRect().left?s:i),r){if(yn&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length))<r.childNodes.length){let e,t=r.childNodes[o];"IMG"==t.nodeName&&(e=t.getBoundingClientRect()).right<=n.left&&e.bottom>n.top&&o++}r==e.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&n.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(a=function(t,n,e,r){let o=-1;for(let e=n;e!=t.dom;){var i=t.docView.nearestDesc(e,!0);if(!i)return null;if(i.node.isBlock&&i.parent){var s=i.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=i.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=i.posAfter}}e=i.dom.parentNode}return-1<o?o:t.docView.posFromDOM(n,e,1)}(e,r,o,n))}null==a&&(a=function(e,t,n){let{node:r,offset:o}=function e(t,o){let i,s,a=2e8,l=0,c=o.top,u=o.top;for(let n=t.firstChild,r=0;n;n=n.nextSibling,r++){let t;if(1==n.nodeType)t=n.getClientRects();else{if(3!=n.nodeType)continue;t=An(n).getClientRects()}for(let e=0;e<t.length;e++){var d=t[e];if(d.top<=c&&d.bottom>=u){c=Math.max(d.bottom,c),u=Math.min(d.top,u);var p=d.left>o.left?d.left-o.left:d.right<o.left?o.left-d.right:0;if(p<a){i=n,a=p,s=p&&3==i.nodeType?{left:d.right<o.left?d.right:d.left,top:o.top}:o,1==n.nodeType&&p&&(l=r+(o.left>=(d.left+d.right)/2?1:0));continue}}!i&&(o.left>=d.right&&o.top>=d.top||o.left>=d.left&&o.top>=d.bottom)&&(l=r+1)}}if(i&&3==i.nodeType){var n=i,r=s,h=n.nodeValue.length,f=document.createRange();for(let e=0;e<h;e++){f.setEnd(n,e+1),f.setStart(n,e);var m=_n(f,1);if(m.top!=m.bottom&&jn(r,m))return{node:n,offset:e+(r.left>=(m.left+m.right)/2?1:0)}}return{node:n,offset:0}}return!i||a&&1==i.nodeType?{node:t,offset:l}:e(i,s)}(t,n),i=-1;return 1!=r.nodeType||r.firstChild||(t=r.getBoundingClientRect(),i=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1),e.docView.posFromDOM(r,o,i)}(e,l,n));var c=e.docView.nearestDesc(l,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function _n(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const Un=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Wn(e,t,r){var{node:o,offset:i,atom:n}=e.docView.domFromPos(t,r<0?-1:1),s=En||yn;if(3==o.nodeType){if(!s||!Un.test(o.nodeValue)&&(r<0?i:i!=o.nodeValue.length)){let e=i,t=i,n=r<0?1:-1;return r<0&&!i?(t++,n=-1):0<=r&&i==o.nodeValue.length?(e--,n=1):r<0?e--:t++,Jn(_n(An(o,e,t),n),n<0)}var a=_n(An(o,i,i),r);if(yn&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var l=_n(An(o,i-1,i-1),-1);if(l.top==a.top){var c=_n(An(o,i,i+1),-1);if(c.top!=a.top)return Jn(c,c.left<l.left)}}return a}if(!e.state.doc.resolve(t-(n||0)).parent.inlineContent){if(null==n&&i&&(r<0||i==Rn(o))){c=o.childNodes[i-1];if(1==c.nodeType)return Gn(c.getBoundingClientRect(),!1)}if(null==n&&i<Rn(o)){l=o.childNodes[i];if(1==l.nodeType)return Gn(l.getBoundingClientRect(),!0)}return Gn(o.getBoundingClientRect(),0<=r)}if(null==n&&i&&(r<0||i==Rn(o))){a=o.childNodes[i-1],e=3==a.nodeType?An(a,Rn(a)-(s?0:1)):1!=a.nodeType||"BR"==a.nodeName&&a.nextSibling?null:a;if(e)return Jn(_n(e,1),!1)}if(null==n&&i<Rn(o)){let e=o.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;t=e?3==e.nodeType?An(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return Jn(_n(t,-1),!0)}return Jn(_n(3==o.nodeType?An(o):o,-r),0<=r)}function Jn(e,t){return 0==e.width?e:(t=t?e.left:e.right,{top:e.top,bottom:e.bottom,left:t,right:t})}function Gn(e,t){return 0==e.height?e:{top:t=t?e.top:e.bottom,bottom:t,left:e.left,right:e.right}}function Kn(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const Zn=/[\u0590-\u08ac]/;let Xn=null,Qn=null,Yn=!1;class er{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(n){for(let e=0,t=this.posAtStart;;e++){var r=this.children[e];if(r==n)return t;t+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(n,r,e){if(this.contentDOM&&this.contentDOM.contains(1==n.nodeType?n:n.parentNode)){if(e<0){let e,t;if(n==this.contentDOM)e=n.childNodes[r-1];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;e=n.previousSibling}for(;e&&(!(t=e.pmViewDesc)||t.parent!=this);)e=e.previousSibling;return e?this.posBeforeChild(t)+t.size:this.posAtStart}{let e,t;if(n==this.contentDOM)e=n.childNodes[r];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;e=n.nextSibling}for(;e&&(!(t=e.pmViewDesc)||t.parent!=this);)e=e.nextSibling;return e?this.posBeforeChild(t):this.posAtEnd}}let t;if(n==this.dom&&this.contentDOM)t=r>Nn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))t=2&n.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==r)for(let e=n;;e=e.parentNode){if(e==this.dom){t=!1;break}if(e.previousSibling)break}if(null==t&&r==n.childNodes.length)for(let e=n;;e=e.parentNode){if(e==this.dom){t=!0;break}if(e.nextSibling)break}}return(null==t?0<e:t)?this.posAtEnd:this.posAtStart}nearestDesc(o,i=!1){for(let n=!0,r=o;r;r=r.parentNode){let e,t=this.getDesc(r);if(t&&(!i||t.node)){if(!n||!(e=t.nodeDOM)||(1==e.nodeType?e.contains(1==o.nodeType?o:o.parentNode):e==o))return t;n=!1}}}getDesc(e){var t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(t,n,r){for(let e=t;e;e=e.parentNode){var o=this.getDesc(e);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(o){for(let n=0,r=0;n<this.children.length;n++){let e=this.children[n],t=r+e.size;if(r==o&&t!=r){for(;!e.border&&e.children.length;)e=e.children[0];return e}if(o<t)return e.descAt(o-r-e.border);r=t}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let e,r=0,o=0;for(let e=0;r<this.children.length;r++){var i=this.children[r],s=e+i.size;if(t<s||i instanceof ar){o=t-e;break}e=s}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(;r&&!(e=this.children[r-1]).size&&e instanceof tr&&0<=e.side;r--);if(n<=0){let e,t=!0;for(;(e=r?this.children[r-1]:null)&&e.dom.parentNode!=this.contentDOM;r--,t=!1);return e&&n&&t&&!e.border&&!e.domAtom?e.domFromPos(e.size,n):{node:this.contentDOM,offset:e?Nn(e.dom)+1:0}}{let e,t=!0;for(;(e=r<this.children.length?this.children[r]:null)&&e.dom.parentNode!=this.contentDOM;r++,t=!1);return e&&t&&!e.border&&!e.domAtom?e.domFromPos(0,n):{node:this.contentDOM,offset:e?Nn(e.dom):this.contentDOM.childNodes.length}}}parseRange(n,r,o=0){if(0==this.children.length)return{node:this.contentDOM,from:n,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let e=o,t=0;;t++){var a=this.children[t],l=e+a.size;if(-1==i&&n<=l){var c=e+a.border;if(c<=n&&r<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(n,r,c);n=e;for(let e=t;0<e;e--){var u=this.children[e-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){i=Nn(u.dom)+1;break}n-=u.size}-1==i&&(i=0)}if(-1<i&&(r<l||t==this.children.length-1)){r=l;for(let e=t+1;e<this.children.length;e++){var d=this.children[e];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Nn(d.dom);break}r+=d.size}-1==s&&(s=this.contentDOM.childNodes.length);break}e=l}return{node:this.contentDOM,from:n,to:r,fromOffset:i,toOffset:s}}emptyChildAt(e){var t;return!(this.border||!this.contentDOM||!this.children.length)&&(0==(t=this.children[e<0?0:this.children.length-1]).size||t.emptyChildAt(e))}domAfterPos(e){var{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(n,r,o,i=!1){var s=Math.min(n,r),a=Math.max(n,r);for(let e=0,t=0;e<this.children.length;e++){var l=this.children[e],c=t+l.size;if(s>t&&a<c)return l.setSelection(n-t-l.border,r-t-l.border,o,i);t=c}let u=this.domFromPos(n,n?-1:1),d=r==n?u:this.domFromPos(r,r?-1:1),t=o.getSelection(),p=!1;if((yn||xn)&&n==r){var{node:h,offset:f}=u;if(3==h.nodeType){if((p=!(!f||"\n"!=h.nodeValue[f-1]))&&f==h.nodeValue.length)for(let e,t=h;t;t=t.parentNode){if(e=t.nextSibling){"BR"==e.nodeName&&(u=d={node:e.parentNode,offset:Nn(e)+1});break}var m=t.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{var h=h.childNodes[f-1];p=h&&("BR"==h.nodeName||"false"==h.contentEditable)}}if((i=yn&&t.focusNode&&t.focusNode!=d.node&&1==t.focusNode.nodeType&&(f=t.focusNode.childNodes[t.focusOffset])&&"false"==f.contentEditable?!0:i)||p&&xn||!Dn(u.node,u.offset,t.anchorNode,t.anchorOffset)||!Dn(d.node,d.offset,t.focusNode,t.focusOffset)){let e=!1;if((t.extend||n==r)&&!p){t.collapse(u.node,u.offset);try{n!=r&&t.extend(d.node,d.offset),e=!0}catch(n){if(!(n instanceof DOMException))throw n}}e||(r<n&&(h=u,u=d,d=h),(f=document.createRange()).setEnd(d.node,d.offset),f.setStart(u.node,u.offset),t.removeAllRanges(),t.addRange(f))}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(n,r){for(let e=0,t=0;t<this.children.length;t++){var o=this.children[t],i=e+o.size;if(e==i?n<=i&&r>=e:n<i&&r>e){var s=e+o.border,a=i-o.border;if(s<=n&&r<=a)return this.dirty=n==e||r==i?2:1,void(n!=s||r!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(n-s,r-s):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}e=i}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class tr extends er{constructor(e,t,n,r){let o,i=t.type.toDOM;"function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),t.type.spec.raw||(1!=i.nodeType&&((n=document.createElement("span")).appendChild(i),i=n),i.contentEditable="false",i.classList.add("ProseMirror-widget")),super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class nr extends er{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class rr extends er{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=Oe.renderSpec(document,t.type.spec.toDOM(t,n))),new rr(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=rr.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=yr(o,t,i,n)),0<e&&(o=yr(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}}class or extends er{constructor(e,t,n,r,o,i,s,a,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s,i&&this.updateChildren(a,l)}static create(e,t,n,r,o,i){let s,a=o.nodeViews[t.type.name],l=a&&a(t,o,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i,n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=Oe.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));var d=c;return c=hr(c,n,t),l?s=new lr(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new sr(e,t,n,r,c,d,o):new or(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;0<=e;e--){var n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>C.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&fr(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(i,e){let s=this.node.inlineContent,a=e,u=i.composing?this.localCompositionInfo(i,e):null,t=u&&-1<u.pos?u:null,d=u&&u.pos<0,p=new gr(this,t&&t.node);{var h=this.node,f=this.innerDeco,m=(e,t,n)=>{e.spec.marks?p.syncToMarks(e.spec.marks,s,i):0<=e.type.side&&!n&&p.syncToMarks(t==this.node.childCount?v.none:this.node.child(t).marks,s,i),p.placeWidget(e,i,a)},g=(e,t,n,r)=>{let o;p.syncToMarks(e.marks,s,i),p.findNodeMatch(e,t,n,r)||d&&i.state.selection.from>a&&i.state.selection.to<a+e.nodeSize&&-1<(o=p.findIndexWithChild(u.node))&&p.updateNodeAt(e,t,n,o,i)||p.updateNextNode(e,t,n,i,r)||p.addNode(e,t,n,i,a),a+=e.nodeSize};let l=f.locals(h),c=0;if(0==l.length)for(let e=0;e<h.childCount;e++){var n=h.child(e);g(n,l,f.forChild(c,n),e),c+=n.nodeSize}else{let i=0,s=[],a=null;for(let o=0;;){if(i<l.length&&l[i].to==c){let t,e=l[i++];for(;i<l.length&&l[i].to==c;)(t=t||[e]).push(l[i++]);if(t){t.sort(vr);for(let e=0;e<t.length;e++)m(t[e],o,!!a)}else m(e,o,!!a)}let e,n;if(a)n=-1,e=a,a=null;else{if(!(o<h.childCount))break;n=o,e=h.child(o++)}for(let e=0;e<s.length;e++)s[e].to<=c&&s.splice(e--,1);for(;i<l.length&&l[i].from<=c&&l[i].to>c;)s.push(l[i++]);let r=c+e.nodeSize;if(e.isText){let t=r;i<l.length&&l[i].from<t&&(t=l[i].from);for(let e=0;e<s.length;e++)s[e].to<t&&(t=s[e].to);t<r&&(a=e.cut(t-c),e=e.cut(0,t-c),r=t,n=-1)}g(e,e.isInline&&!e.isLeaf?s.filter(e=>!e.inline):s.slice(),f.forChild(c,e),n),c=r}}}var r;p.syncToMarks([],s,i),this.node.isTextblock&&p.addTextblockHacks(),p.destroyRest(),!p.changed&&2!=this.dirty||(t&&this.protectLocalComposition(i,t),function r(o,i,s){let a=o.firstChild,l=!1;for(let n=0;n<i.length;n++){let t=i[n],e=t.dom;if(e.parentNode==o){for(;e!=a;)a=mr(a),l=!0;a=a.nextSibling}else l=!0,o.insertBefore(e,a);if(t instanceof rr){let e=a?a.previousSibling:o.lastChild;r(t.contentDOM,t.children,s),a=e?e.nextSibling:o.firstChild}}for(;a;)a=mr(a),l=!0;l&&s.trackWrites==o&&(s.trackWrites=null)}(this.contentDOM,this.children,i),!Cn)||"UL"!=(e=this.dom).nodeName&&"OL"!=e.nodeName||(r=e.style.cssText,e.style.cssText=r+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=r)}localCompositionInfo(e,t){var n,{from:r,to:o}=e.state.selection;return!(!(e.state.selection instanceof y)||r<t||o>t+this.node.content.size)&&(e=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&0<t){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=Rn(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}((e=e.domSelection()).focusNode,e.focusOffset))&&this.dom.contains(e.parentNode)?this.node.inlineContent?(n=e.nodeValue,(r=function(r,o,i,s){for(let t=0,n=0;t<r.childCount&&n<=s;){var a=r.child(t++),l=n;if(n+=a.nodeSize,a.isText){let e=a.text;for(;t<r.childCount;){var c=r.child(t++);if(n+=c.nodeSize,!c.isText)break;e+=c.text}if(n>=i){a=l<s?e.lastIndexOf(o,s-l-1):-1;if(0<=a&&a+o.length+l>=i)return l+a;if(i==s&&e.length>=s+o.length-l&&e.slice(s-l,s-l+o.length)==o)return s}}}return-1}(this.node.content,n,r-t,o-t))<0?null:{node:e,pos:r,text:n}):{node:e,pos:-1,text:""}:null}protectLocalComposition(t,{node:n,pos:r,text:o}){if(!this.getDesc(n)){let e=n;for(;e.parentNode!=this.contentDOM;e=e.parentNode){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling);for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling);e.pmViewDesc&&(e.pmViewDesc=void 0)}n=new nr(this,e,n,o);t.input.compositionNodes.push(n),this.children=yr(this.children,r,r+o.length,t,n)}}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){var t,n;fr(e,this.outerDeco)||(t=1!=this.nodeDOM.nodeType,n=this.dom,this.dom=pr(this.dom,this.nodeDOM,dr(this.outerDeco,this.node,t),dr(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e)}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function ir(e,t,n,r,o){return hr(r,t,e),new or(void 0,e,t,n,r,r,r,o,0)}class sr extends or{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0))}inParent(){var t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){e=this.node.cut(e,t),t=document.createTextNode(e.text);return new sr(this.parent,e,this.outerDeco,this.innerDeco,t,t,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class ar extends er{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class lr extends or{constructor(e,t,n,r,o,i,s,a,l,c){super(e,t,n,r,o,i,s,l,c),this.spec=a}update(e,t,n,r){var o;return 3!=this.dirty&&(this.spec.update?((o=this.spec.update(e,t,n))&&this.updateInner(e,t,n,r),o):!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r))}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}const cr=function(e){e&&(this.nodeName=e)},ur=(cr.prototype=Object.create(null),[new cr]);function dr(t,n,r){if(0==t.length)return ur;let o=r?ur[0]:new cr,i=[o];for(let e=0;e<t.length;e++){var s=t[e].type.attrs;if(s)for(var a in s.nodeName&&i.push(o=new cr(s.nodeName)),s){var l=s[a];null!=l&&(r&&1==i.length&&i.push(o=new cr(n.isInline?"span":"div")),"class"==a?o.class=(o.class?o.class+" ":"")+l:"style"==a?o.style=(o.style?o.style+";":"")+l:"nodeName"!=a&&(o[a]=l))}}return i}function pr(r,e,o,i){if(o==ur&&i==ur)return e;let s=e;for(let e=0;e<i.length;e++){let t=i[e],n=o[e];if(e){let e;n&&n.nodeName==t.nodeName&&s!=r&&(e=s.parentNode)&&e.nodeName.toLowerCase()==t.nodeName||((e=document.createElement(t.nodeName)).pmIsDeco=!0,e.appendChild(s),n=ur[0]),s=e}m=f=h=p=l=a=d=u=c=void 0;var a,l,c=s,u=n||ur[0],d=t;for(a in u)"class"==a||"style"==a||"nodeName"==a||a in d||c.removeAttribute(a);for(l in d)"class"!=l&&"style"!=l&&"nodeName"!=l&&d[l]!=u[l]&&c.setAttribute(l,d[l]);if(u.class!=d.class){var p=u.class?u.class.split(" ").filter(Boolean):[],h=d.class?d.class.split(" ").filter(Boolean):[];for(let e=0;e<p.length;e++)-1==h.indexOf(p[e])&&c.classList.remove(p[e]);for(let e=0;e<h.length;e++)-1==p.indexOf(h[e])&&c.classList.add(h[e]);0==c.classList.length&&c.removeAttribute("class")}if(u.style!=d.style){if(u.style)for(var f,m=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;f=m.exec(u.style);)c.style.removeProperty(f[1]);d.style&&(c.style.cssText+=d.style)}}return s}function hr(e,t,n){return pr(e,e,ur,dr(t,n,1!=e.nodeType))}function fr(t,n){if(t.length!=n.length)return!1;for(let e=0;e<t.length;e++)if(!t[e].type.eq(n[e].type))return!1;return!0}function mr(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}class gr{constructor(e,t){this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(t,n){let r=n,o=r.children.length,i=t.childCount,s=new Map,a=[];e:for(;0<i;){let e;for(;;)if(o){var l=r.children[o-1];if(!(l instanceof rr)){e=l,o--;break}r=l,o=l.children.length}else{if(r==n)break e;o=r.parent.children.indexOf(r),r=r.parent}var c=e.node;if(c){if(c!=t.child(i-1))break;--i,s.set(e,i),a.push(e)}}return{index:i,matched:s,matches:a.reverse()}}(e.node.content,e)}destroyBetween(t,n){if(t!=n){for(let e=t;e<n;e++)this.top.children[e].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(n,e,r){let t=0,o=this.stack.length>>1,i=Math.min(o,n.length);for(;t<i&&(t==o-1?this.top:this.stack[t+1<<1]).matchesMark(n[t])&&!1!==n[t].type.spec.spanning;)t++;for(;t<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<n.length;){this.stack.push(this.top,this.index+1);let t=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++)if(this.top.children[e].matchesMark(n[o])){t=e;break}var s;-1<t?(t>this.index&&(this.changed=!0,this.destroyBetween(this.index,t)),this.top=this.top.children[this.index]):(s=rr.create(this.top,n[o],e,r),this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0),this.index=0,o++}}findNodeMatch(n,r,o,e){let t,i=-1;if(e>=this.preMatch.index&&(t=this.preMatch.matches[e-this.preMatch.index]).parent==this.top&&t.matchesNode(n,r,o))i=this.top.children.indexOf(t,this.index);else for(let e=this.index,t=Math.min(this.top.children.length,e+5);e<t;e++){var s=this.top.children[e];if(s.matchesNode(n,r,o)&&!this.preMatch.matched.has(s)){i=e;break}}return!(i<0||(this.destroyBetween(this.index,i),this.index++,0))}updateNodeAt(e,t,n,r,o){var i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==n)return e;return-1}e=t}}updateNextNode(t,n,r,o,i){for(let e=this.index;e<this.top.children.length;e++){var s=this.top.children[e];if(s instanceof or){var a=this.preMatch.matched.get(s);if(null!=a&&a!=i)return!1;a=s.dom;if((!this.lock||!(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))||t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&fr(n,s.outerDeco))&&s.update(t,n,r,o))return this.destroyBetween(this.index,e),s.dom!=a&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,o){this.top.children.splice(this.index++,0,or.create(this.top,e,t,n,r,o)),this.changed=!0}placeWidget(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode?(r=new tr(this.top,e,t,n),this.top.children.splice(this.index++,0,r),this.changed=!0):this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof rr;)e=(t=e).children[t.children.length-1];e&&e instanceof sr&&!/\n$/.test(e.node.text)||((xn||wn)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){var n;t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e)?this.index++:(n=document.createElement(e),"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak"),e=new ar(this.top,[],n,null),t!=this.top?t.children.push(e):t.children.splice(this.index++,0,e),this.changed=!0)}}function vr(e,t){return e.type.side-t.type.side}function yr(n,r,o,i,s){var a=[];for(let e=0,t=0;e<n.length;e++){var l=n[e],c=t,u=t+=l.size;o<=c||u<=r?a.push(l):(c<r&&a.push(l.slice(0,r-c,i)),s&&(a.push(s),s=void 0),o<u&&a.push(l.slice(o-c,l.size,i)))}return a}function br(e,t=null){var n=e.domSelection(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=r.resolve(s);if(Pn(n)){for(a=c;o&&!o.node;)o=o.parent;var u=o.node;!(o&&u.isAtom&&p.isSelectable(u)&&o.parent)||u.isInline&&function(n,r,o){for(let e=0==r,t=r==Rn(n);e||t;){if(n==o)return 1;var i=Nn(n);if(!(n=n.parentNode))return;e=e&&0==i,t=t&&i==Rn(n)}}(n.focusNode,n.focusOffset,o.dom)||(u=o.posBefore,l=new p(s==u?c:r.resolve(u)))}else{u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;a=r.resolve(u)}return l=l||Nr(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}function wr(e){return e.editable?e.hasFocus():Dr(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function kr(o,i=!1){var e,t,n,s=o.state.selection;if(Er(o,s),wr(o)){if(!i&&o.input.mouseDown&&o.input.mouseDown.allowDefault&&wn){var r=o.domSelection(),a=o.domObserver.currentSelection;if(r.anchorNode&&a.anchorNode&&Dn(r.anchorNode,r.anchorOffset,a.anchorNode,a.anchorOffset))return o.input.mouseDown.delayedSelectionSync=!0,void o.domObserver.setCurSelection()}if(o.domObserver.disconnectSelection(),o.cursorWrapper)a=(r=o).domSelection(),e=document.createRange(),t=r.cursorWrapper.dom,(n="IMG"==t.nodeName)?e.setEnd(t.parentNode,Nn(t)+1):e.setEnd(t,0),e.collapse(!1),a.removeAllRanges(),a.addRange(e),!n&&!r.state.selection.visible&&gn&&vn<=11&&(t.disabled=!0,t.disabled=!1);else{let e,t,{anchor:n,head:r}=s;if(!xr||s instanceof y||(s.$from.parent.inlineContent||(e=Cr(o,s.from)),s.empty)||s.$from.parent.inlineContent||(t=Cr(o,s.to)),o.docView.setSelection(n,r,o.root,i),xr&&(e&&Mr(e),t)&&Mr(t),s.visible)o.dom.classList.remove("ProseMirror-hideselection");else{o.dom.classList.add("ProseMirror-hideselection");if("onselectionchange"in document){var l=o;let e=l.dom.ownerDocument,t=(e.removeEventListener("selectionchange",l.input.hideSelectionGuard),l.domSelection()),n=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",l.input.hideSelectionGuard=()=>{t.anchorNode==n&&t.anchorOffset==r||(e.removeEventListener("selectionchange",l.input.hideSelectionGuard),setTimeout(()=>{wr(l)&&!l.state.selection.visible||l.dom.classList.remove("ProseMirror-hideselection")},20))})}}}o.domObserver.setCurSelection(),o.domObserver.connectSelection()}}const xr=xn||wn&&kn<63;function Cr(e,t){var{node:e,offset:t}=e.docView.domFromPos(t,0),n=t<e.childNodes.length?e.childNodes[t]:null,e=t?e.childNodes[t-1]:null;return xn&&n&&"false"==n.contentEditable?Tr(n):n&&"false"!=n.contentEditable||e&&"false"!=e.contentEditable?void 0:n?Tr(n):e?Tr(e):void 0}function Tr(e){return e.contentEditable="true",xn&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Mr(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Er(e,t){t instanceof p?(t=e.docView.descAt(t.from))!=e.lastSelectedViewDesc&&(Sr(e),t&&t.selectNode(),e.lastSelectedViewDesc=t):Sr(e)}function Sr(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Nr(t,n,r,e){return t.someProp("createSelectionBetween",e=>e(t,n,r))||y.between(n,r,e)}function Or(e){return(!e.editable||e.root.activeElement==e.dom)&&Dr(e)}function Dr(e){var t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Ar(e,t){var{$anchor:n,$head:r}=e.selection,n=0<t?n.max(r):n.min(r),r=n.parent.inlineContent?n.depth?e.doc.resolve(0<t?n.after():n.before()):null:n;return r&&g.findFrom(r,t)}function Lr(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ir(e,t,n){var r,o,i,s=e.state.selection;return s instanceof y?!(!s.empty||-1<n.indexOf("s"))&&(e.endOfTextblock(0<t?"right":"left")?!!((o=Ar(e.state,t))&&o instanceof p)&&Lr(e,o):Tn&&-1<n.indexOf("m")?void 0:!(!(n=(o=s.$head).textOffset?null:t<0?o.nodeBefore:o.nodeAfter)||n.isText||(i=t<0?o.pos-n.nodeSize:o.pos,!(n.isAtom||(r=e.docView.descAt(i))&&!r.contentDOM)))&&(p.isSelectable(n)?Lr(e,new p(t<0?e.state.doc.resolve(o.pos-n.nodeSize):o)):!!En&&Lr(e,new y(e.state.doc.resolve(t<0?i:i+n.nodeSize))))):s instanceof p&&s.node.isInline?Lr(e,new y(0<t?s.$to:s.$from)):!!(r=Ar(e.state,t))&&Lr(e,r)}function Rr(e){return(3==e.nodeType?e.nodeValue:e.childNodes).length}function Pr(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Br(r){let o=r.domSelection(),i=o.focusNode,s=o.focusOffset;if(i){let t,n,e=!1;for(yn&&1==i.nodeType&&s<Rr(i)&&Pr(i.childNodes[s])&&(e=!0);;)if(0<s){if(1!=i.nodeType)break;var a=i.childNodes[s-1];if(Pr(a))t=i,n=--s;else{if(3!=a.nodeType)break;i=a,s=i.nodeValue.length}}else{if(Hr(i))break;{let e=i.previousSibling;for(;e&&Pr(e);)t=i.parentNode,n=Nn(e),e=e.previousSibling;if(e)i=e,s=Rr(i);else{if((i=i.parentNode)==r.dom)break;s=0}}}e?zr(r,o,i,s):t&&zr(r,o,t,n)}}function Fr(o){let e=o.domSelection(),i=e.focusNode,s=e.focusOffset;if(i){let t,n,r=Rr(i);for(;;)if(s<r){if(1!=i.nodeType)break;if(!Pr(i.childNodes[s]))break;t=i,n=++s}else{if(Hr(i))break;{let e=i.nextSibling;for(;e&&Pr(e);)t=e.parentNode,n=Nn(e)+1,e=e.nextSibling;if(e)i=e,s=0,r=Rr(i);else{if((i=i.parentNode)==o.dom)break;s=r=0}}}t&&zr(o,e,t,n)}}function Hr(e){e=e.pmViewDesc;return e&&e.node&&e.node.isBlock}function zr(e,t,n,r){var o;Pn(t)?((o=document.createRange()).setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)):t.extend&&t.extend(n,r),e.domObserver.setCurSelection();let i=e["state"];setTimeout(()=>{e.state==i&&kr(e)},50)}function qr(e,t,n){var r=e.state.selection;if(r instanceof y&&!r.empty||-1<n.indexOf("s"))return!1;if(Tn&&-1<n.indexOf("m"))return!1;var{$from:n,$to:o}=r;if(!n.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var i=Ar(e.state,t);if(i&&i instanceof p)return Lr(e,i)}return!n.parent.inlineContent&&(i=t<0?n:o,!!(n=r instanceof Gt?g.near(i,t):g.findFrom(i,t)))&&Lr(e,n)}function Vr(e,t){var n,r,o;return!(e.state.selection instanceof y&&({$head:n,$anchor:r,empty:o}=e.state.selection,n.sameParent(r))&&(!o||!e.endOfTextblock(0<t?"forward":"backward")&&(!(r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter))||r.isText||(o=e.state.tr,t<0?o.delete(n.pos-r.nodeSize,n.pos):o.delete(n.pos,n.pos+r.nodeSize),e.dispatch(o),0))))}function jr(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function $r(e,t){let n=[],{content:r,openStart:o,openEnd:i}=t;for(;1<o&&1<i&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=e.someProp("clipboardSerializer")||Oe.fromSchema(e.state.schema),l=Xr(),c=l.createElement("div");c.appendChild(a.serializeFragment(r,{document:l}));let u,d=c.firstChild,p=0;for(;d&&1==d.nodeType&&(u=Kr[d.nodeName.toLowerCase()]);){for(let e=u.length-1;0<=e;e--){for(var h=l.createElement(u[e]);c.firstChild;)h.appendChild(c.firstChild);c.appendChild(h),p++}d=c.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${o} ${i}${p?" -"+p:""} `+JSON.stringify(n)),{dom:c,text:e.someProp("clipboardTextSerializer",e=>e(t))||t.content.textBetween(0,t.content.size,"\n\n")}}function _r(e,t,n,r,i){let s,o,a=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",e=>{t=e(t,a||r)}),a)return t?new Z(C.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Z.empty;var c=e.someProp("clipboardTextParser",e=>e(t,i,r));if(c)o=c;else{let n=i.marks(),r=e.state["schema"],o=Oe.fromSchema(r);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{var t=s.appendChild(document.createElement("p"));e&&t.appendChild(o.serializeNode(r.text(e,n)))})}}else{e.someProp("transformPastedHTML",e=>{n=e(n)}),s=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=Xr().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&Kr[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n);if(En){var u=s;var d=u.querySelectorAll(wn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<d.length;e++){var p=d[e];1==p.childNodes.length&&"Â "==p.textContent&&p.parentNode&&p.parentNode.replaceChild(u.ownerDocument.createTextNode(" "),p)}}}var h,c=s&&s.querySelector("[data-pm-slice]"),c=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let e=+c[3];0<e&&s.firstChild;e--)s=s.firstChild;if(o||(h=e.someProp("clipboardParser")||e.someProp("domParser")||ke.fromSchema(e.state.schema),o=h.parseSlice(s,{preserveWhitespace:!(!l&&!c),context:i,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||Ur.test(e.parentNode.nodeName)?null:{ignore:!0}})),c)o=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:i,openEnd:s}=e;for(let e=n.length-2;0<=e;e-=2){var a=r.nodes[n[e]];if(!a||a.hasRequiredAttrs())break;o=C.from(a.create(n[e+1],o)),i++,s++}return new Z(o,i,s)}(Gr(o,+c[1],+c[2]),c[4]);else if((o=Z.maxOpen(function(t,n){if(!(t.childCount<2))for(let e=n.depth;0<=e;e--){let r,o=n.node(e).contentMatchAt(n.index(e)),i=[];if(t.forEach(e=>{var t,n;if(i)return(t=o.findWrapping(e.type))?void((n=i.length&&r.length&&function t(n,r,o,i,s){if(s<n.length&&s<r.length&&n[s]==r[s]){let e=t(n,r,o,i.lastChild,s+1);return e?i.copy(i.content.replaceChild(i.childCount-1,e)):i.contentMatchAt(i.childCount).matchType(s==n.length-1?o.type:n[s+1])?i.copy(i.content.append(C.from(Wr(o,n,s+1)))):void 0}}(t,r,e,i[i.length-1],0))?i[i.length-1]=n:(i.length&&(i[i.length-1]=function e(t,n){if(0==n)return t;let r=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),o=t.contentMatchAt(t.childCount).fillBefore(C.empty,!0);return t.copy(r.append(o))}(i[i.length-1],r.length)),n=Wr(e,t),i.push(n),o=o.matchType(n.type),r=t)):i=null}),i)return C.from(i)}return t}(o.content,i),!0)).openStart||o.openEnd){let t=0,n=0;for(let e=o.content.firstChild;t<o.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let e=o.content.lastChild;n<o.openEnd&&!e.type.spec.isolating;n++,e=e.lastChild);o=Gr(o,t,n)}return e.someProp("transformPasted",e=>{o=e(o)}),o}const Ur=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Wr(t,n,r=0){for(let e=n.length-1;e>=r;e--)t=n[e].create(null,C.from(t));return t}function Jr(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return o<r-1&&(a=Jr(a,t,n,r,o+1,i)),n<=o&&(a=t<0?s.contentMatchAt(0).fillBefore(a,1<e.childCount||i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(C.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function Gr(e,t,n){return e=n<(e=t<e.openStart?new Z(Jr(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd):e).openEnd?new Z(Jr(e.content,1,n,e.openEnd,0,0),e.openStart,n):e}const Kr={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Zr=null;function Xr(){return Zr=Zr||document.implementation.createHTMLDocument("title")}const Qr={};let Yr={};class eo{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function to(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function no(n){n.someProp("handleDOMEvents",e=>{for(var t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=e=>ro(n,e))})}function ro(t,n){return t.someProp("handleDOMEvents",e=>{e=e[n.type];return!!e&&(e(t,n)||n.defaultPrevented)})}function oo(e){return{left:e.clientX,top:e.clientY}}function io(r,e,o,t,i){if(-1!=t){let n=r.state.doc.resolve(t);for(let t=n.depth+1;0<t;t--)if(r.someProp(e,e=>t>n.depth?e(r,o,n.nodeAfter,n.before(t),i,!0):e(r,o,n.node(t),n.before(t),i,!1)))return!0}return!1}function so(e,t,n){e.focused||e.focus();t=e.state.tr.setSelection(t);"pointer"==n&&t.setMeta("pointer",!0),e.dispatch(t)}function ao(e){return mo(e)}Yr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!uo(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!Mn||!wn||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!Cn||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",e=>e(t,n))||(e=t,r=n,o=r.keyCode,i=function(){let e="";return r.ctrlKey&&(e+="c"),r.metaKey&&(e+="m"),r.altKey&&(e+="a"),r.shiftKey&&(e+="s"),e}(),8==o||Tn&&72==o&&"c"==i?Vr(e,-1)||Br(e):46==o||Tn&&68==o&&"c"==i?Vr(e,1)||Fr(e):13==o||27==o||(37==o||Tn&&66==o&&"c"==i?Ir(e,-1,i)||Br(e):39==o||Tn&&70==o&&"c"==i?Ir(e,1,i)||Fr(e):38==o||Tn&&80==o&&"c"==i?qr(e,-1,i)||Br(e):40==o||Tn&&78==o&&"c"==i?(function(t){if(xn&&!(0<t.state.selection.$head.parentOffset)){var{focusNode:n,focusOffset:e}=t.domSelection();if(n&&1==n.nodeType&&0==e&&n.firstChild&&"false"==n.firstChild.contentEditable){let e=n.firstChild;jr(t,e,"true"),setTimeout(()=>jr(t,e,"false"),20)}}}(e),qr(e,1,i)||Fr(e)):i==(Tn?"m":"c")&&(66==o||73==o||89==o||90==o)))?n.preventDefault():to(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",e=>e(t,Bn(13,"Enter"))),t.input.lastIOSEnter=0)},200)}var r,o,i},Yr.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Yr.keypress=(r,e)=>{let o=e;if(!(uo(r,o)||!o.charCode||o.ctrlKey&&!o.altKey||Tn&&o.metaKey))if(r.someProp("handleKeyPress",e=>e(r,o)))o.preventDefault();else{let n=r.state.selection;if(!(n instanceof y&&n.$from.sameParent(n.$to))){let t=String.fromCharCode(o.charCode);r.someProp("handleTextInput",e=>e(r,n.$from.pos,n.$to.pos,t))||r.dispatch(r.state.tr.insertText(t).scrollIntoView()),o.preventDefault()}}};const lo=Tn?"metaKey":"ctrlKey";Qr.mousedown=(e,t)=>{var n;e.input.shiftKey=t.shiftKey;let r=ao(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&(n=e.input.lastClick,s=n.x-t.clientX,n=n.y-t.clientY,s*s+n*n<100)&&!t[lo]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:i};var s=e.posAtCoords(oo(t));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new co(e,s,t,!!r)):("doubleClick"==i?function(t,n,e,r){return io(t,"handleDoubleClickOn",n,e,r)||t.someProp("handleDoubleClick",e=>e(t,n,r))}:function(t,n,e,r){return io(t,"handleTripleClickOn",n,e,r)||t.someProp("handleTripleClick",e=>e(t,n,r))||function(t,e,n){if(0==n.button){var r=t.state.doc;if(-1==e)return r.inlineContent&&(so(t,y.create(r,0,r.content.size),"pointer"),1);var o=r.resolve(e);for(let e=o.depth+1;0<e;e--){var i=e>o.depth?o.nodeAfter:o.node(e),s=o.before(e);if(i.inlineContent)so(t,y.create(r,s+1,s+1+i.content.size),"pointer");else{if(!p.isSelectable(i))continue;so(t,p.create(r,s),"pointer")}return 1}}}(t,e,r)})(e,s.pos,s.inside,t)?t.preventDefault():to(e,"pointer"))};class co{constructor(e,t,n,r){let o,i;this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[lo],this.allowDefault=n.shiftKey,i=-1<t.inside?(o=e.state.doc.nodeAt(t.inside),t.inside):(t=e.state.doc.resolve(t.pos),o=t.parent,t.depth?t.before():0);t=r?null:n.target,r=t?e.docView.nearestDesc(t,!0):null,this.target=r?r.dom:null,t=e.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||t instanceof p&&t.from<=i&&t.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!yn||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),to(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>kr(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),this.view.dom.contains(t.target)){let e=this.pos;var n,r,o,i,s;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(oo(t))),this.allowDefault||!e?to(this.view,"pointer"):(n=this.view,r=e.pos,o=e.inside,i=t,s=this.selectNode,io(n,"handleClickOn",r,o,i)||n.someProp("handleClick",e=>e(n,r,i))||(s?function(e,o){if(-1!=o){let t,n,r=e.state.selection;r instanceof p&&(t=r.node);var i=e.state.doc.resolve(o);for(let e=i.depth+1;0<e;e--){var s=e>i.depth?i.nodeAfter:i.node(e);if(p.isSelectable(s)){n=t&&0<r.$from.depth&&e>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?i.before(r.$from.depth):i.before(e);break}}return null!=n&&(so(e,p.create(e.state.doc,n),"pointer"),1)}}:function(e,t){var n;if(-1!=t)return(n=(t=e.state.doc.resolve(t)).nodeAfter)&&n.isAtom&&p.isSelectable(n)&&(so(e,new p(t),"pointer"),1)})(n,o)?t.preventDefault():0==t.button&&(this.flushed||xn&&this.mightDrag&&!this.mightDrag.node.isAtom||wn&&!(this.view.state.selection instanceof y)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(so(this.view,g.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):to(this.view,"pointer"))}}move(e){!this.allowDefault&&(4<Math.abs(this.event.x-e.clientX)||4<Math.abs(this.event.y-e.clientY))&&(this.allowDefault=!0),to(this.view,"pointer"),0==e.buttons&&this.done()}}function uo(e,t){return e.composing||xn&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500&&(e.input.compositionEndedAt=-2e8)}Qr.touchdown=e=>{ao(e),to(e,"pointer")},Qr.contextmenu=e=>ao(e);const po=Mn?5e3:-1;function ho(e,t){clearTimeout(e.input.composingTimeout),-1<t&&(e.input.composingTimeout=setTimeout(()=>mo(e),t))}function fo(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));0<e.input.compositionNodes.length;)e.input.compositionNodes.pop().markParentsDirty();var t}function mo(e,t=!1){if(!(Mn&&0<=e.domObserver.flushingSoon))return e.domObserver.forceFlush(),fo(e),!!(t||e.docView&&e.docView.dirty)&&((t=br(e))&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0)}Yr.compositionstart=Yr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();var t=e["state"],n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),mo(e,!0),e.markCursor=null;else if(mo(e),yn&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){var r=e.domSelection();for(let e=r.focusNode,t=r.focusOffset;e&&1==e.nodeType&&0!=t;){var o=t<0?e.lastChild:e.childNodes[t-1];if(!o)break;if(3==o.nodeType){r.collapse(o,o.nodeValue.length);break}e=o,t=-1}}e.input.composing=!0}ho(e,po)},Yr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,ho(e,20))};const go=gn&&vn<15||Cn&&Sn<604;function vo(t,e,n,r){let o=_r(t,e,n,t.input.shiftKey,t.state.selection.$from);return t.someProp("handlePaste",e=>e(t,r,o||Z.empty))||(o?(e=(n=0==(e=o).openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null)?t.state.tr.replaceSelectionWith(n,t.input.shiftKey):t.state.tr.replaceSelection(o),t.dispatch(e.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),1):void 0)}Qr.copy=Yr.cut=(e,t)=>{var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=go?null:t.clipboardData,{dom:n,text:i}=$r(e,n.content());if(o)t.preventDefault(),o.clearData(),o.setData("text/html",n.innerHTML),o.setData("text/plain",i);else{var s=e;t=n;if(s.dom.parentNode){let e=s.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";o=getSelection(),i=document.createRange();i.selectNodeContents(t),s.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),s.focus()},50)}}r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Yr.paste=(e,t)=>{if(!e.composing||Mn){var n=go?null:t.clipboardData;if(n&&vo(e,n.getData("text/plain"),n.getData("text/html"),t))t.preventDefault();else{var r=e,o=t;if(r.dom.parentNode){let e=r.input.shiftKey||r.state.selection.$from.parent.type.spec.code,t=r.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(t.contentEditable="true"),t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.parentNode&&t.parentNode.removeChild(t),e?vo(r,t.value,null,o):vo(r,t.textContent,t.innerHTML,o)},50)}}}};class yo{constructor(e,t){this.slice=e,this.move=t}}const bo=Tn?"altKey":"ctrlKey";for(Ye in Qr.dragstart=(e,t)=>{var n,r,o=e.input.mouseDown;o&&o.done(),t.dataTransfer&&((r=(n=e.state.selection).empty?null:e.posAtCoords(oo(t)))&&r.pos>=n.from&&r.pos<=(n instanceof p?n.to-1:n.to)||(o&&o.mightDrag?e.dispatch(e.state.tr.setSelection(p.create(e.state.doc,o.mightDrag.pos))):t.target&&1==t.target.nodeType&&(r=e.docView.nearestDesc(t.target,!0))&&r.node.type.spec.draggable&&r!=e.docView&&e.dispatch(e.state.tr.setSelection(p.create(e.state.doc,r.posBefore)))),n=e.state.selection.content(),{dom:o,text:r}=$r(e,n),t.dataTransfer.clearData(),t.dataTransfer.setData(go?"Text":"text/html",o.innerHTML),t.dataTransfer.effectAllowed="copyMove",go||t.dataTransfer.setData("text/plain",r),e.dragging=new yo(n,!t[bo]))},Qr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},Yr.dragover=Yr.dragenter=(e,t)=>t.preventDefault(),Yr.drop=(r,i)=>{let o=i,e=r.dragging;if(r.dragging=null,o.dataTransfer){i=r.posAtCoords(oo(o));if(i){i=r.state.doc.resolve(i.pos);if(i){let t=e&&e.slice,n=(t?r.someProp("transformPasted",e=>{t=e(t)}):t=_r(r,o.dataTransfer.getData(go?"Text":"text/plain"),go?null:o.dataTransfer.getData("text/html"),!1,i),!(!e||o[bo]));if(r.someProp("handleDrop",e=>e(r,o,t||Z.empty,n)))o.preventDefault();else if(t){o.preventDefault();let e=t?function(e,t,n){var s,a=e.resolve(t);if(!n.content.size)return t;let l=n.content;for(let e=0;e<n.openStart;e++)l=l.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let o=a.depth;0<=o;o--){let e=o==a.depth?0:a.pos<=(a.start(o+1)+a.end(o+1))/2?-1:1,t=a.index(o)+(0<e?1:0),n=a.node(o),r=!1;if(r=1==i?n.canReplace(t,t,l):(s=n.contentMatchAt(t).findWrapping(l.firstChild.type))&&n.canReplaceWith(t,t,s[0]))return 0==e?a.pos:e<0?a.before(o+1):a.after(o+1)}return null}(r.state.doc,i.pos,t):i.pos;null==e&&(e=i.pos);var i=r.state.tr,s=(n&&i.deleteSelection(),i.mapping.map(e)),a=0==t.openStart&&0==t.openEnd&&1==t.content.childCount,l=i.doc;if(a?i.replaceRangeWith(s,s,t.content.firstChild):i.replaceRange(s,s,t),!i.doc.eq(l)){l=i.doc.resolve(s);if(a&&p.isSelectable(t.content.firstChild)&&l.nodeAfter&&l.nodeAfter.sameMarkup(t.content.firstChild))i.setSelection(new p(l));else{let o=i.mapping.map(e);i.mapping.maps[i.mapping.maps.length-1].forEach((e,t,n,r)=>o=r),i.setSelection(Nr(r,l,i.doc.resolve(o)))}r.focus(),r.dispatch(i.setMeta("uiEvent","drop"))}}}}}},Qr.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&kr(e)},20))},Qr.blur=(e,t)=>{e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},Qr.beforeinput=(n,e)=>{if(wn&&Mn&&"deleteContentBackward"==e.inputType){n.domObserver.flushSoon();let t=n.input["domChangeCount"];setTimeout(()=>{var e;n.input.domChangeCount!=t||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",e=>e(n,Bn(8,"Backspace"))))||(e=n.state.selection["$cursor"],e&&0<e.pos&&n.dispatch(n.state.tr.delete(e.pos-1,e.pos).scrollIntoView()))},50)}},Yr)Qr[Ye]=Yr[Ye];function wo(e,t){if(e!=t){for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1}return!0}class ko{constructor(e,t){this.toDOM=e,this.spec=t||Eo,this.side=this.spec.side||0}map(e,t,n,r){var{pos:e,deleted:t}=e.mapResult(t.from+r,this.side<0?-1:1);return t?null:new To(e-n,e-n,this)}valid(){return!0}eq(e){return this==e||e instanceof ko&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class xo{constructor(e,t){this.attrs=e,this.spec=t||Eo}map(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,e=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return e<=o?null:new To(o,e,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof xo&&wo(this.attrs,e.attrs)&&wo(this.spec,e.spec)}static is(e){return e.type instanceof xo}destroy(){}}class Co{constructor(e,t){this.attrs=e,this.spec=t||Eo}map(e,t,n,r){var o=e.mapResult(t.from+r,1);return o.deleted||(e=e.mapResult(t.to+r,-1)).deleted||e.pos<=o.pos?null:new To(o.pos-n,e.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof Co&&wo(this.attrs,e.attrs)&&wo(this.spec,e.spec)}destroy(){}}class To{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new To(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new To(e,e,new ko(t,n))}static inline(e,t,n,r){return new To(e,t,new xo(n,r))}static node(e,t,n,r){return new To(e,t,new Co(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof xo}}const Mo=[],Eo={};class M{constructor(e,t){this.local=e.length?e:Mo,this.children=t.length?t:Mo}static create(e,t){return t.length?Lo(t,e,0,Eo):So}find(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(t,n,r,o,i){for(let e=0;e<this.local.length;e++){var s=this.local[e];s.from<=n&&s.to>=t&&(!i||i(s.spec))&&r.push(s.copy(s.from+o,s.to+o))}for(let e=0;e<this.children.length;e+=3){var a;this.children[e]<n&&this.children[e+1]>t&&(a=this.children[e]+1,this.children[e+2].findInner(t-a,n-a,r,o+a,i))}}map(e,t,n){return this==So||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Eo)}mapInner(r,o,i,s,a){let c;for(let e=0;e<this.local.length;e++){var t=this.local[e].map(r,i,s);t&&t.type.valid(o,t)?(c=c||[]).push(t):a.onRemove&&a.onRemove(this.local[e].spec)}if(this.children.length){var u=this.children,e=c||[],d=r,p=o,h=i,f=s,m=a;let l=u.slice(),t=(r,o,i,s)=>{for(let n=0;n<l.length;n+=3){let e,t=l[n+1];var a;t<0||t+f<r||((a=l[n]+f)<=o?l[n+1]=r<=a?-2:-1:h<=i&&(e=s-i-(o-r))&&(l[n]+=e,l[n+1]+=e))}};for(let e=0;e<d.maps.length;e++)d.maps[e].forEach(t);let n=!1;for(let e=0;e<l.length;e+=3)if(l[e+1]<0){if(-2==l[e+1]){n=!0,l[e+1]=-1;continue}var g=d.map(u[e]+f),v=g-h;if(v<0||v>=p.content.size){n=!0;continue}var y=d.map(u[e+1]+f,-1)-h,{index:b,offset:w}=p.content.findIndex(v),b=p.maybeChild(b);b&&w==v&&w+b.nodeSize==y?(w=l[e+2].mapInner(d,b,g+1,u[e]+f+1,m))!=So?(l[e]=v,l[e+1]=y,l[e+2]=w):(l[e+1]=-2,n=!0):n=!0}if(n){var k=Lo(function(t,n,i,s,a,r,l){for(let e=0;e<t.length;e+=3)-1==t[e+1]&&function t(n,r){for(let e=0;e<n.local.length;e++){var o=n.local[e].map(s,a,r);o?i.push(o):l.onRemove&&l.onRemove(n.local[e].spec)}for(let e=0;e<n.children.length;e+=3)t(n.children[e+2],n.children[e]+r+1)}(t[e+2],n[e]+r+1);return i}(l,u,e,d,h,f,m),p,0,m);e=k.local;for(let e=0;e<l.length;e+=3)l[e+1]<0&&(l.splice(e,3),e-=3);for(let e=0,t=0;e<k.children.length;e+=3){for(var x=k.children[e];t<l.length&&l[t]<x;)t+=3;l.splice(t,0,k.children[e],k.children[e+1],k.children[e+2])}}return new M(e.sort(Io),l)}return c?new M(c.sort(Io),Mo):So}add(e,t){return t.length?this==So?M.create(e,t):this.addInner(e,t,0):this}addInner(t,o,i){let s,a=0;t.forEach((e,t)=>{var n,r=t+i;if(n=Do(o,e,r)){for(s=s||this.children.slice();a<s.length&&s[a]<t;)a+=3;s[a]==t?s[a+2]=s[a+2].addInner(e,n,r+1):s.splice(a,0,t,t+e.nodeSize,Lo(n,e,r+1,Eo)),a+=3}});var n=Oo(a?Ao(o):o,-i);for(let e=0;e<n.length;e++)n[e].type.valid(t,n[e])||n.splice(e--,1);return new M(n.length?this.local.concat(n).sort(Io):this.local,s||this.children)}remove(e){return 0==e.length||this==So?this:this.removeInner(e,0)}removeInner(i,s){let t=this.children,n=this.local;for(let e=0;e<t.length;e+=3){let n,r=t[e]+s,o=t[e+1]+s;for(let e,t=0;t<i.length;t++)(e=i[t])&&e.from>r&&e.to<o&&(i[t]=null,(n=n||[]).push(e));var a;n&&((a=(t=t==this.children?this.children.slice():t)[e+2].removeInner(n,r+1))!=So?t[e+2]=a:(t.splice(e,3),e-=3))}if(n.length)for(let t,e=0;e<i.length;e++)if(t=i[e])for(let e=0;e<n.length;e++)n[e].eq(t,s)&&(n=n==this.local?this.local.slice():n).splice(e--,1);return t==this.children&&n==this.local?this:n.length||t.length?new M(n,t):So}forChild(t,e){if(this==So)return this;if(e.isLeaf)return M.empty;let n,r;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2]);break}var o=t+1,i=o+e.content.size;for(let e=0;e<this.local.length;e++){var s,a,l=this.local[e];l.from<i&&l.to>o&&l.type instanceof xo&&(s=Math.max(o,l.from)-o)<(a=Math.min(i,l.to)-o)&&(r=r||[]).push(l.copy(s,a))}return r?(e=new M(r.sort(Io),Mo),n?new No([e,n]):e):n||So}eq(t){if(this!=t){if(!(t instanceof M)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1}return!0}locals(e){return Ro(this.localsInner(e))}localsInner(e){if(this==So)return Mo;if(e.inlineContent||!this.local.some(xo.is))return this.local;var t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof xo||t.push(this.local[e]);return t}}M.empty=new M([],[]),M.removeOverlap=Ro;const So=M.empty;class No{constructor(e){this.members=e}map(t,n){var e=this.members.map(e=>e.map(t,n,Eo));return No.from(e)}forChild(t,n){if(n.isLeaf)return M.empty;let r=[];for(let e=0;e<this.members.length;e++){var o=this.members[e].forChild(t,n);o!=So&&(o instanceof No?r=r.concat(o.members):r.push(o))}return No.from(r)}eq(t){if(!(t instanceof No)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let n,r=!0;for(let e=0;e<this.members.length;e++){var o=this.members[e].localsInner(t);if(o.length)if(n){r&&(n=n.slice(),r=!1);for(let e=0;e<o.length;e++)n.push(o[e])}else n=o}return n?Ro(r?n:n.sort(Io)):Mo}static from(e){switch(e.length){case 0:return So;case 1:return e[0];default:return new No(e)}}}function Oo(t,n){if(!n||!t.length)return t;var r=[];for(let e=0;e<t.length;e++){var o=t[e];r.push(new To(o.from+n,o.to+n,o.type))}return r}function Do(n,e,r){if(e.isLeaf)return null;let o=r+e.nodeSize,i=null;for(let e,t=0;t<n.length;t++)(e=n[t])&&e.from>r&&e.to<o&&((i=i||[]).push(e),n[t]=null);return i}function Ao(t){var n=[];for(let e=0;e<t.length;e++)null!=t[e]&&n.push(t[e]);return n}function Lo(r,t,o,i){let s=[],a=!1;t.forEach((e,t)=>{var n=Do(r,e,t+o);n&&(a=!0,(n=Lo(n,e,o+t+1,i))!=So)&&s.push(t,t+e.nodeSize,n)});var n=Oo(a?Ao(r):r,-o).sort(Io);for(let e=0;e<n.length;e++)n[e].type.valid(t,n[e])||(i.onRemove&&i.onRemove(n[e].spec),n.splice(e--,1));return n.length||s.length?new M(n,s):So}function Io(e,t){return e.from-t.from||e.to-t.to}function Ro(n){let r=n;for(let t=0;t<r.length-1;t++){var o=r[t];if(o.from!=o.to)for(let e=t+1;e<r.length;e++){var i=r[e];if(i.from!=o.from){i.from<o.to&&((r=r==n?n.slice():r)[t]=o.copy(o.from,i.from),Po(r,e,o.copy(i.from,o.to)));break}i.to!=o.to&&((r=r==n?n.slice():r)[e]=i.copy(i.from,o.to),Po(r,e+1,i.copy(o.to,i.to)))}}return r}function Po(e,t,n){for(;t<e.length&&0<Io(n,e[t]);)t++;e.splice(t,0,n)}function Bo(t){let n=[];return t.someProp("decorations",e=>{e=e(t.state);e&&e!=So&&n.push(e)}),t.cursorWrapper&&n.push(M.create(t.state.doc,[t.cursorWrapper.deco])),No.from(n)}const Fo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ho=gn&&vn<=11;class zo{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class qo{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zo,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);gn&&vn<=11&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),Ho&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){-1<this.flushingSoon&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Fo)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){var t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Or(this.view)){if(this.suppressingSelectionUpdates)return kr(this.view);if(gn&&vn<=11&&!this.view.state.selection.empty){var e=this.view.domSelection();if(e.focusNode&&Dn(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){var t;return 0==e.rangeCount||(e=e.getRangeAt(0).commonAncestorContainer,(t=this.view.docView.nearestDesc(e))&&t.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0)}flush(){if(this.view.docView&&!(-1<this.flushingSoon)){let t=this.observer?this.observer.takeRecords():[],e=(this.queue.length&&(t=this.queue.concat(t),this.queue.length=0),this.view.domSelection()),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Or(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(let e=0;e<t.length;e++){var a=this.registerMutation(t[e],s);a&&(r=r<0?a.from:Math.min(a.from,r),o=o<0?a.to:Math.max(a.to,o),a.typeOver)&&(i=!0)}var l,c;yn&&1<s.length&&2==(c=s.filter(e=>"BR"==e.nodeName)).length&&(l=c[0],c=c[1],(l.parentNode&&l.parentNode.parentNode==c.parentNode?c:l).remove()),(-1<r||n)&&(-1<r&&(this.view.docView.markDirty(r,o),c=this.view,Vo||(Vo=!0,"normal"==getComputedStyle(c.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(r,o,i,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||kr(this.view),this.currentSelection.set(e))}}registerMutation(r,o){if(-1<o.indexOf(r.target))return null;var e=this.view.docView.nearestDesc(r.target);if("attributes"==r.type&&(e==this.view.docView||"contenteditable"==r.attributeName||"style"==r.attributeName&&!r.oldValue&&!r.target.getAttribute("style")))return null;if(!e||e.ignoreMutation(r))return null;if("childList"!=r.type)return"attributes"==r.type?{from:e.posAtStart-e.border,to:e.posAtEnd+e.border}:{from:e.posAtStart,to:e.posAtEnd,typeOver:r.target.nodeValue==r.oldValue};{for(let e=0;e<r.addedNodes.length;e++)o.push(r.addedNodes[e]);if(e.contentDOM&&e.contentDOM!=e.dom&&!e.contentDOM.contains(r.target))return{from:e.posBefore,to:e.posAfter};let t=r.previousSibling,n=r.nextSibling;if(gn&&vn<=11&&r.addedNodes.length)for(let e=0;e<r.addedNodes.length;e++){var{previousSibling:i,nextSibling:s}=r.addedNodes[e];(!i||Array.prototype.indexOf.call(r.addedNodes,i)<0)&&(t=i),(!s||Array.prototype.indexOf.call(r.addedNodes,s)<0)&&(n=s)}var a=t&&t.parentNode==r.target?Nn(t)+1:0,a=e.localPosFromDOM(r.target,a,-1),l=n&&n.parentNode==r.target?Nn(n):r.target.childNodes.length;return{from:a,to:e.localPosFromDOM(r.target,l,1)}}}}let Vo=!1;function jo(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(xn&&/^(ul|ol)$/i.test(e.parentNode.nodeName))return(t=document.createElement("div")).appendChild(document.createElement("li")),{skip:t};if(e.parentNode.lastChild==e||xn&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function $o(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Nr(e,t.resolve(n.anchor),t.resolve(n.head))}function _o(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;0<r&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,o++}return o}class Uo{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new eo,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Zo),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Go(this),Jo(this),this.nodeViews=Ko(this),this.docView=ir(this.state.doc,Wo(this),Bo(this),this.dom,this),this.domObserver=new qo(this,(r,d,o,p)=>{var h=this;if(r<0)f=h.input.lastSelectionTime>Date.now()-50?h.input.lastSelectionOrigin:null,(m=br(h,f))&&!h.state.selection.eq(m)&&(m=h.state.tr.setSelection(m),"pointer"==f?m.setMeta("pointer",!0):"key"==f&&m.scrollIntoView(),h.dispatch(m));else{var f=h.state.doc.resolve(r),m=f.sharedDepth(d),f=(r=f.before(m+1),d=h.state.doc.resolve(d).after(m+1),h.state.selection),m=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelection(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],Pn(c)||r.push({node:c.focusNode,offset:c.focusOffset})),wn&&8===e.input.lastKeyCode)for(let e=s;e>i;e--){var d=o.childNodes[e-1],p=d.pmViewDesc;if("BR"==d.nodeName&&!p){s=e;break}if(!p||p.size)break}let h=e.state.doc,f=e.someProp("domParser")||ke.fromSchema(e.state.schema),m=h.resolve(a),g=null,v=f.parse(o,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=m.parent.type.whitespace||"full",findPositions:r,ruleFromNode:jo,context:m});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),g={anchor:e+a,head:t+a}}return{doc:v,sel:g,from:a,to:l}}(h,r,d);wn&&h.cursorWrapper&&m.sel&&m.sel.anchor==h.cursorWrapper.deco.from&&m.sel.head==m.sel.anchor&&(d=(r=h.cursorWrapper.deco.type.toDOM.nextSibling)&&r.nodeValue?r.nodeValue.length:1,m.sel={anchor:m.sel.anchor+d,head:m.sel.anchor+d});let e,t,c=h.state.doc,n=c.slice(m.from,m.to),u=(t=8===h.input.lastKeyCode&&Date.now()-100<h.input.lastKeyCodeTime?(e=h.state.selection.to,"end"):(e=h.state.selection.from,"start"),h.input.lastKeyCode=null,function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);return"end"==o&&(r-=s+Math.max(0,i-Math.min(s,a))-i),s<i&&e.size<t.size?(i-=r<=i&&r>=s?i-r:0,a=i+(a-s),s=i):a<i&&(i-=r<=i&&r>=a?i-r:0,s=i+(s-a),a=i),{start:i,endA:s,endB:a}}(n.content,m.doc.content,m.from,e,t));if((Cn&&h.input.lastIOSEnter>Date.now()-225||Mn)&&p.some(e=>"DIV"==e.nodeName||"P"==e.nodeName)&&(!u||u.endA>=u.endB)&&h.someProp("handleKeyDown",e=>e(h,Bn(13,"Enter"))))h.input.lastIOSEnter=0;else{if(!u){if(!(o&&f instanceof y&&!f.empty&&f.$head.sameParent(f.$anchor))||h.composing||m.sel&&m.sel.anchor!=m.sel.head)return void(m.sel&&(r=$o(h,h.state.doc,m.sel))&&!r.eq(h.state.selection)&&h.dispatch(h.state.tr.setSelection(r)));u={start:f.from,endA:f.to,endB:f.to}}h.input.domChangeCount++,h.state.selection.from<h.state.selection.to&&u.start==u.endB&&h.state.selection instanceof y&&(u.start>h.state.selection.from&&u.start<=h.state.selection.from+2&&h.state.selection.from>=m.from?u.start=h.state.selection.from:u.endA<h.state.selection.to&&u.endA>=h.state.selection.to-2&&h.state.selection.to<=m.to&&(u.endB+=h.state.selection.to-u.endA,u.endA=h.state.selection.to)),gn&&vn<=11&&u.endB==u.start+1&&u.endA==u.start&&u.start>m.from&&" Â "==m.doc.textBetween(u.start-m.from-1,u.start-m.from+1)&&(u.start--,u.endA--,u.endB--);let e,i=m.doc.resolveNoCache(u.start-m.from),s=m.doc.resolveNoCache(u.endB-m.from),a=c.resolve(u.start),l=i.sameParent(s)&&i.parent.inlineContent&&a.end()>=u.endA;if((Cn&&h.input.lastIOSEnter>Date.now()-225&&(!l||p.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!l&&i.pos<m.doc.content.size&&(e=g.findFrom(m.doc.resolve(i.pos+1),1,!0))&&e.head==s.pos)&&h.someProp("handleKeyDown",e=>e(h,Bn(13,"Enter"))))h.input.lastIOSEnter=0;else if(h.state.selection.anchor>u.start&&function(e,t,n,r,o){if(!(!r.parent.isTextblock||n-t<=o.pos-r.pos||_o(r,!0,!1)<o.pos)){o=e.resolve(t);if(!(o.parentOffset<o.parent.content.size)&&o.parent.isTextblock)return!(!(t=e.resolve(_o(o,!0,!0))).parent.isTextblock||t.pos>n||_o(t,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(t.parent.content)}}(c,u.start,u.endA,i,s)&&h.someProp("handleKeyDown",e=>e(h,Bn(8,"Backspace"))))Mn&&wn&&h.domObserver.suppressSelectionUpdates();else{wn&&Mn&&u.endB==u.start&&(h.input.lastAndroidDelete=Date.now()),Mn&&!l&&i.start()!=s.start()&&0==s.parentOffset&&i.depth==s.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==u.endA&&(u.endB-=2,s=m.doc.resolveNoCache(u.endB-m.from),setTimeout(()=>{h.someProp("handleKeyDown",function(e){return e(h,Bn(13,"Enter"))})},20));let e,t,n,r=u.start,o=u.endA;if(l)if(i.pos==s.pos)gn&&vn<=11&&0==i.parentOffset&&(h.domObserver.suppressSelectionUpdates(),setTimeout(()=>kr(h),20)),e=h.state.tr.delete(r,o),t=c.resolve(u.start).marksAcross(c.resolve(u.endA));else if(u.endA==u.endB&&(n=function(e,t){let n,r,o,i=e.firstChild.marks,s=t.firstChild.marks,a=i,l=s;for(let e=0;e<s.length;e++)a=s[e].removeFromSet(a);for(let e=0;e<i.length;e++)l=i[e].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}var c=[];for(let e=0;e<t.childCount;e++)c.push(o(t.child(e)));if(C.from(c).eq(e))return{mark:r,type:n}}(i.parent.content.cut(i.parentOffset,s.parentOffset),a.parent.content.cut(a.parentOffset,u.endA-a.start()))))e=h.state.tr,"add"==n.type?e.addMark(r,o,n.mark):e.removeMark(r,o,n.mark);else if(i.parent.child(i.index()).isText&&i.index()==s.index()-(s.textOffset?0:1)){let t=i.parent.textBetween(i.parentOffset,s.parentOffset);if(h.someProp("handleTextInput",e=>e(h,r,o,t)))return;e=h.state.tr.insertText(t,r,o)}e=e||h.state.tr.replace(r,o,m.doc.slice(u.start-m.from,u.endB-m.from)),m.sel&&(d=$o(h,e.doc,m.sel))&&!(wn&&Mn&&h.composing&&d.empty&&(u.start!=u.endB||h.input.lastAndroidDelete<Date.now()-100)&&(d.head==r||d.head==e.mapping.map(o)-1)||gn&&d.empty&&d.head==r)&&e.setSelection(d),t&&e.ensureMarks(t),h.dispatch(e.scrollIntoView())}}}}),this.domObserver.start();var n,r=this;for(n in Qr){let t=Qr[n];r.dom.addEventListener(n,r.input.eventHandlers[n]=e=>{!function(t,n){if(!n.bubbles)return 1;if(!n.defaultPrevented){for(let e=n.target;e!=t.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(n))return;return 1}}(r,e)||ro(r,e)||!r.editable&&e.type in Yr||t(r,e)})}xn&&r.dom.addEventListener("input",()=>null),no(r),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){var e,t=this._props;for(e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&no(this),(this._props=e).plugins&&(e.plugins.forEach(Zo),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){var t,n,r={};for(t in this._props)r[t]=this._props[t];for(n in r.state=this.state,e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(t,e){let n=this.state,r=!1,o=!1;t.storedMarks&&this.composing&&(fo(this),o=!0),this.state=t,e&&(function(e,t){let n=0,r=0;for(var o in e){if(e[o]!=t[o])return 1;n++}for(var i in t)r++;return n!=r}(l=Ko(this),this.nodeViews)&&(this.nodeViews=l,r=!0),no(this)),this.editable=Go(this),Jo(this);var i,s,a,l=Bo(this),c=Wo(this),e=e?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",u=r||!this.docView.matchesNode(t.doc,c,l),d=(!u&&t.selection.eq(n.selection)||(o=!0),"preserve"==e&&o&&null==this.dom.style.overflowAnchor&&function(n){let r,o,i=n.dom.getBoundingClientRect(),s=Math.max(0,i.top);for(let e=(i.left+i.right)/2,t=s+1;t<Math.min(innerHeight,i.bottom);t+=5){var a=n.root.elementFromPoint(e,t);if(a&&a!=n.dom&&n.dom.contains(a)){var l=a.getBoundingClientRect();if(l.top>=s-20){r=a,o=l.top;break}}}return{refDOM:r,refTop:o,stack:zn(n.dom)}}(this));if(o){this.domObserver.stop();let e=u&&(gn||wn)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&(i=n.selection,s=t.selection,a=Math.min(i.$anchor.sharedDepth(i.head),s.$anchor.sharedDepth(s.head)),i.$anchor.start(a)!=s.$anchor.start(a));(e=u&&(i=wn?this.trackWrites=this.domSelection().focusNode:null,!r&&this.docView.update(t.doc,c,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ir(t.doc,c,l,this.dom,this)),i)&&!this.trackWrites?!0:e)||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&(a=(s=this).docView.domFromPos(s.state.selection.anchor,0),s=s.domSelection(),Dn(a.node,a.offset,s.anchorNode,s.anchorOffset)))?kr(this,e):(Er(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==e?this.dom.scrollTop=0:"to selection"==e?(u=this.domSelection().focusNode,this.someProp("handleScrollToSelection",e=>e(this))||(t.selection instanceof p?1==(c=this.docView.domAfterPos(t.selection.from)).nodeType&&Hn(this,c.getBoundingClientRect(),u):Hn(this,this.coordsAtPos(t.selection.head,1),u))):d&&({refDOM:l,refTop:e,stack:c}=[d][0],l=l?l.getBoundingClientRect().top:0,qn(c,0==l?0:l-e))}destroyPluginViews(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){var r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){var o=this.state.plugins[e];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}}someProp(t,n){let r,e=this._props&&this._props[t];if(null!=e&&(r=n?n(e):e))return r;for(let e=0;e<this.directPlugins.length;e++){var o=this.directPlugins[e].props[t];if(null!=o&&(r=n?n(o):o))return r}var i=this.state.plugins;if(i)for(let e=0;e<i.length;e++){var s=i[e].props[t];if(null!=s&&(r=n?n(s):s))return r}}hasFocus(){return this.root.activeElement==this.dom}focus(){var e,t;this.domObserver.stop(),this.editable&&((e=this.dom).setActive?e.setActive():Vn?e.focus(Vn):(t=zn(e),e.focus(null==Vn?{get preventScroll(){return Vn={preventScroll:!0},!0}}:void 0),Vn||(Vn=!1,qn(t,0)))),kr(this),this.domObserver.start()}get root(){var e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return $n(this,e)}coordsAtPos(e,t=1){return Wn(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){e=this.docView.descAt(e);return e?e.nodeDOM:null}posAtDOM(e,t,n=-1){e=this.docView.posFromDOM(e,t,n);if(null==e)throw new RangeError("DOM position not inside the editor");return e}endOfTextblock(e,t){return n=this,r=t||this.state,t=e,Xn==r&&Qn==t?Yn:(Xn=r,Qn=t,Yn="up"==t||"down"==t?function(o,i){let e=r.selection,s="up"==i?e.$from:e.$to;return Kn(o,r,()=>{let t=o.docView.domFromPos(s.pos,"up"==i?-1:1)["node"];for(;;){var e=o.docView.nearestDesc(t,!0);if(!e)break;if(e.node.isBlock){t=e.dom;break}t=e.dom.parentNode}var n=Wn(o,s.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=An(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){var r=t[e];if(r.bottom>r.top+1&&("up"==i?n.top-r.top>2*(r.bottom-n.top):r.bottom-n.bottom>2*(n.bottom-r.top)))return!1}}return!0})}(n,t):function(o,e,i){let s=e.selection["$head"];if(!s.parent.isTextblock)return!1;let t=s.parentOffset,n=!t,r=t==s.parent.content.size,a=o.domSelection();return Zn.test(s.parent.textContent)&&a.modify?Kn(o,e,()=>{var e=a.getRangeAt(0),t=a.focusNode,n=a.focusOffset,r=a.caretBidiLevel,t=(a.modify("move",i,"character"),!(s.depth?o.docView.domAfterPos(s.before()):o.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||t==a.focusNode&&n==a.focusOffset);return a.removeAllRanges(),a.addRange(e),null!=r&&(a.caretBidiLevel=r),t}):"left"==i||"backward"==i?n:r}(n,r,t));var n,r}destroy(){if(this.docView){var e,t=this;for(e in t.domObserver.stop(),t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null}}get isDestroyed(){return null==this.docView}dispatchEvent(e){var t;ro(t=this,e=e)||!Qr[e.type]||!t.editable&&e.type in Yr||Qr[e.type](t,e)}dispatch(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function Wo(n){let r=Object.create(null);return r.class="ProseMirror",r.contenteditable=String(n.editable),r.translate="no",n.someProp("attributes",e=>{if(e="function"==typeof e?e(n.state):e)for(var t in e)"class"==t&&(r.class+=" "+e[t]),"style"==t?r.style=(r.style?r.style+";":"")+e[t]:r[t]||"contenteditable"==t||"nodeName"==t||(r[t]=String(e[t]))}),[To.node(0,n.state.doc.content.size,r)]}function Jo(e){var t;e.markCursor?((t=document.createElement("img")).className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:To.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}):e.cursorWrapper=null}function Go(t){return!t.someProp("editable",e=>!1===e(t.state))}function Ko(e){let n=Object.create(null);function t(e){for(var t in e)Object.prototype.hasOwnProperty.call(n,t)||(n[t]=e[t])}return e.someProp("nodeViews",t),e.someProp("markViews",t),n}function Zo(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var Xo,e=l0(354),Qo=l0.n(e),Yo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},ei={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},e="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),ti="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),t="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),n="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ni="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ri=e&&(n||+e[1]<57)||t&&n,oi=0;oi<10;oi++)Yo[48+oi]=Yo[96+oi]=String(oi);for(oi=1;oi<=24;oi++)Yo[oi+111]="F"+oi;for(oi=65;oi<=90;oi++)Yo[oi]=String.fromCharCode(oi+32),ei[oi]=String.fromCharCode(oi);for(Xo in Yo)ei.hasOwnProperty(Xo)||(ei[Xo]=Yo[Xo]);const ii="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function si(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),e=!1!==n&&t.shiftKey?"Shift-"+e:e}function ai(e){return new on({props:{handleKeyDown:function(e){let a=function(e){var t,n=Object.create(null);for(t in e)n[function(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let e=0;e<i.length-1;e++){var a=i[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);ii?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),s=r?"Shift-"+s:s}(t)]=e[t];return n}(e);return function(e,t){let n,r=s="Down"==(s="Right"==(s="Up"==(s="Left"==(s="Del"==(s="Esc"==(s=!(ri&&(t.ctrlKey||t.altKey||t.metaKey)||(ti||ni)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?ei:Yo)[t.keyCode]||t.key||"Unidentified")?"Escape":s)?"Delete":s)?"ArrowLeft":s)?"ArrowUp":s)?"ArrowRight":s)?"ArrowDown":s,o=1==r.length&&" "!=r,i=a[si(r,t,!o)];if(i&&i(e.state,e.dispatch,e))return!0;if(o&&(t.shiftKey||t.altKey||t.metaKey||127<r.charCodeAt(0))&&(n=Yo[t.keyCode])&&n!=r){var s=a[si(n,t,!0)];if(s&&s(e.state,e.dispatch,e))return!0}else if(o&&t.shiftKey){s=a[si(r,t,!0)];if(s&&s(e.state,e.dispatch,e))return!0}return!1}}(e)}})}const li=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ci(t,n,r=!1){for(let e=t;e;e="start"==n?e.firstChild:e.lastChild){if(e.isTextblock)return 1;if(r&&1!=e.childCount)return}}function ui(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;0<=e;e--){if(0<t.index(e))return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const di=(e,t,n)=>{var r=e.selection["$cursor"];if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;n=pi(r);if(!n)return!1;var o=n.nodeAfter;if(vi(e,n,t))return!0;if(0==r.parent.content.size&&(ci(o,"start")||p.isSelectable(o))){var i=It(e.doc,r.before(),r.after(),Z.empty);if(i&&i.slice.size<i.to-i.from)return t&&((i=e.tr.step(i)).setSelection(ci(o,"start")?g.findFrom(i.doc.resolve(i.mapping.map(n.pos)),1):p.create(i.doc,i.mapping.map(n.pos))),t(i.scrollIntoView())),!0}return!(!o.isAtom||n.depth!=r.depth-1||(t&&t(e.tr.delete(n.pos,n.pos+o.nodeSize).scrollIntoView()),0))};function pi(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;0<=e;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const hi=(e,t)=>{var{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))};function fi(t){for(let e=0;e<t.edgeCount;e++){var n=t.edge(e)["type"];if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const mi=(e,t)=>{var n,r,{$head:o,$anchor:i}=e.selection;return!(!o.parent.type.spec.code||!o.sameParent(i)||(i=o.node(-1),r=o.indexAfter(-1),!(n=fi(i.contentMatchAt(r))))||!i.canReplaceWith(r,r,n)||(t&&(i=o.after(),(r=e.tr.replaceWith(i,i,n.createAndFill())).setSelection(g.near(r.doc.resolve(i),1)),t(r.scrollIntoView())),0))},gi=(e,t)=>(t&&t(e.tr.setSelection(new Gt(e.doc))),!0);function vi(o,i,s){let n,e,a=i.nodeBefore,l=i.nodeAfter;if(!a.type.spec.isolating&&!l.type.spec.isolating){if(u=o,c=s,d=(p=i).nodeBefore,r=p.nodeAfter,t=p.index(),d&&r&&d.type.compatibleContent(r.type)&&(!d.content.size&&p.parent.canReplace(t-1,t)?(c&&c(u.tr.delete(p.pos-d.nodeSize,p.pos).scrollIntoView()),1):p.parent.canReplace(t,t+1)&&(r.isTextblock||Lt(u.doc,p.pos))&&(c&&c(u.tr.clearIncompatible(p.pos,d.type,d.contentMatchAt(d.childCount)).join(p.pos).scrollIntoView()),1)))return 1;var t=i.parent.canReplace(i.index(),i.index()+1);if(t&&(n=(e=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&e.matchType(n[0]||l.type).validEnd){if(s){let e=i.pos+l.nodeSize,t=C.empty;for(let e=n.length-1;0<=e;e--)t=C.from(n[e].create(null,t));t=C.from(a.copy(t));var r=o.tr.step(new St(i.pos-1,e,i.pos,e,new Z(t,1,0),n.length,!0)),c=e+2*n.length;Lt(r.doc,c)&&r.join(c),s(r.scrollIntoView())}return 1}var u=g.findFrom(i,1),d=u&&u.$from.blockRange(u.$to),p=d&&Ot(d);if(null!=p&&p>=i.depth)return s&&s(o.tr.lift(d,p).scrollIntoView()),1;if(t&&ci(l,"start",!0)&&ci(a,"end")){let e=a,n=[];for(;n.push(e),!e.isTextblock;)e=e.lastChild;let t=l,r=1;for(;!t.isTextblock;t=t.firstChild)r++;if(e.canReplace(e.childCount,e.childCount,t.content)){if(s){let t=C.empty;for(let e=n.length-1;0<=e;e--)t=C.from(n[e].copy(t));s(o.tr.step(new St(i.pos-n.length,i.pos+l.nodeSize,i.pos+r,i.pos+l.nodeSize-r,new Z(t,n.length,0),0,!0)).scrollIntoView())}return 1}}}}function yi(i){return function(e,t){let n=e.selection,r=i<0?n.$from:n.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return!!r.node(o).isTextblock&&(t&&t(e.tr.setSelection(y.create(e.doc,i<0?r.start(o):r.end(o)))),!0)}}e=yi(-1),t=yi(1);function bi(o,i=null){return function(e,t){var{$from:n,$to:r}=e.selection,n=n.blockRange(r),r=n&&function(i,e,t=null,s=i){var n=function(e){var{parent:t,startIndex:n,endIndex:r}=i,o=t.contentMatchAt(n).findWrapping(e);return o&&(e=o.length?o[0]:e,t.canReplaceWith(n,r,e))?o:null}(e),r=n&&function(e){var{parent:t,startIndex:n,endIndex:r}=s,o=t.child(n),o=e.contentMatch.findWrapping(o.type);if(!o)return null;let i=(o.length?o[o.length-1]:e).contentMatch;for(let e=n;i&&e<r;e++)i=i.matchType(t.child(e).type);return i&&i.validEnd?o:null}(e);return r?n.map(Dt).concat({type:e,attrs:t}).concat(r.map(Dt)):null}(n,o,i);return!!r&&(t&&t(e.tr.wrap(n,r).scrollIntoView()),!0)}}function wi(i,s=null){return function(n,e){let{from:t,to:r}=n.selection,o=!1;return n.doc.nodesBetween(t,r,(e,t)=>{if(o)return!1;e.isTextblock&&!e.hasMarkup(i,s)&&(o=e.type==i||(t=(e=n.doc.resolve(t)).index(),e.parent.canReplaceWith(t,t+1,i)))}),!!o&&(e&&e(n.tr.setBlockType(t,r,i,s).scrollIntoView()),!0)}}function ki(u,d=null){return function(n,e){var{empty:t,$cursor:r,ranges:o}=n.selection;if(t&&!r||!function(o,i,s){for(let r=0;r<i.length;r++){let{$from:e,$to:t}=i[r],n=0==e.depth&&o.type.allowsMarkType(s);if(o.nodesBetween(e.pos,t.pos,e=>{if(n)return!1;n=e.inlineContent&&e.type.allowsMarkType(s)}),n)return 1}}(n.doc,o,u))return!1;if(e)if(r)u.isInSet(n.storedMarks||r.marks())?e(n.tr.removeStoredMark(u)):e(n.tr.addStoredMark(u.create(d)));else{let t=!1,s=n.tr;for(let e=0;!t&&e<o.length;e++){var{$from:i,$to:a}=o[e];t=n.doc.rangeHasMark(i.pos,a.pos,u)}for(let e=0;e<o.length;e++){var{$from:l,$to:c}=o[e];if(t)s.removeMark(l.pos,c.pos,u);else{let e=l.pos,t=c.pos,n=l.nodeAfter,r=c.nodeBefore,o=n&&n.isText?/^\s*/.exec(n.text)[0].length:0,i=r&&r.isText?/\s*$/.exec(r.text)[0].length:0;e+o<t&&(e+=o,t-=i),s.addMark(e,t,u.create(d))}}e(s.scrollIntoView())}return!0}}function xi(...o){return function(t,n,r){for(let e=0;e<o.length;e++)if(o[e](t,n,r))return!0;return!1}}var Ci,n=xi(li,(e,t,n)=>{var r=e.selection["$cursor"];if(!r||(n?!n.endOfTextblock("backward",e):0<r.parentOffset))return!1;n=ui(r);if(!n)return null!=(i=(o=r.blockRange())&&Ot(o))&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0);var o=n.nodeBefore;if(!o.type.spec.isolating&&vi(e,n,t))return!0;if(0==r.parent.content.size&&(ci(o,"end")||p.isSelectable(o))){var i=It(e.doc,r.before(),r.after(),Z.empty);if(i&&i.slice.size<i.to-i.from)return t&&((i=e.tr.step(i)).setSelection(ci(o,"end")?g.findFrom(i.doc.resolve(i.mapping.map(n.pos,-1)),-1):p.create(i.doc,n.pos-o.nodeSize)),t(i.scrollIntoView())),!0}return!(!o.isAtom||n.depth!=r.depth-1||(t&&t(e.tr.delete(n.pos-o.nodeSize,n.pos).scrollIntoView()),0))},(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):0<r.parentOffset)return!1;i=ui(r)}n=i&&i.nodeBefore;return!(!n||!p.isSelectable(n)||(t&&t(e.tr.setSelection(p.create(e.doc,i.pos-n.nodeSize)).scrollIntoView()),0))}),o=xi(li,di,(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=pi(r)}n=i&&i.nodeAfter;return!(!n||!p.isSelectable(n)||(t&&t(e.tr.setSelection(p.create(e.doc,i.pos)).scrollIntoView()),0))}),Ti={Enter:xi(hi,(e,t)=>{var n=e.selection,{$from:r,$to:o}=n;return!(n instanceof Gt||r.parent.inlineContent||o.parent.inlineContent||!(n=fi(o.parent.contentMatchAt(o.indexAfter())))||!n.isTextblock||(t&&(r=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,(o=e.tr.insert(r,n.createAndFill())).setSelection(y.create(o.doc,r+1)),t(o.scrollIntoView())),0))},(e,t)=>{var n=e.selection["$cursor"];if(!n||n.parent.content.size)return!1;if(1<n.depth&&n.after()!=n.end(-1)){var r=n.before();if(At(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}r=n.blockRange(),n=r&&Ot(r);return null!=n&&(t&&t(e.tr.lift(r,n).scrollIntoView()),!0)},(r,o)=>{var{$from:i,$to:s}=r.selection;if(r.selection instanceof p&&r.selection.node.isBlock)return!(!i.parentOffset||!At(r.doc,i.pos)||(o&&o(r.tr.split(i.pos).scrollIntoView()),0));if(!i.parent.isBlock)return!1;if(o){var s=s.parentOffset==s.parent.content.size,a=r.tr;(r.selection instanceof y||r.selection instanceof Gt)&&a.deleteSelection();let e=0==i.depth?null:fi(i.node(-1).contentMatchAt(i.indexAfter(-1))),t=s&&e?[{type:e}]:void 0,n=At(a.doc,a.mapping.map(i.pos),1,t);t||n||!At(a.doc,a.mapping.map(i.pos),1,e?[{type:e}]:void 0)||(e&&(t=[{type:e}]),n=!0),!n||(a.split(a.mapping.map(i.pos),1,t),s)||i.parentOffset||i.parent.type==e||(r=a.mapping.map(i.before()),s=a.doc.resolve(r),e&&i.node(-1).canReplaceWith(s.index(),s.index()+1,e)&&a.setNodeMarkup(a.mapping.map(i.before()),e)),o(a.scrollIntoView())}return!0}),"Mod-Enter":mi,Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:o,"Mod-Delete":o,"Mod-a":gi},Mi={"Ctrl-h":Ti.Backspace,"Alt-Backspace":Ti["Mod-Backspace"],"Ctrl-d":Ti.Delete,"Ctrl-Alt-Backspace":Ti["Mod-Delete"],"Alt-Delete":Ti["Mod-Delete"],"Alt-d":Ti["Mod-Delete"],"Ctrl-a":e,"Ctrl-e":t};for(Ci in Ti)Mi[Ci]=Ti[Ci];const Ei=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?Mi:Ti;class Si{constructor(e,t){var a;this.match=e,this.match=e,this.handler="string"==typeof t?(a=t,function(e,t,n,r){let o=a;var i,s;return t[1]&&(i=t[0].lastIndexOf(t[1]),o+=t[0].slice(i+t[1].length),0<(s=(n+=i)-r))&&(o=t[0].slice(i-s,i)+o,n=r),e.tr.insertText(o,n,r)}):t}}function Ni({rules:o}){let i=new on({state:{init:()=>null,apply(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,t,n,r)=>Oi(e,t,n,r,o,i),handleDOMEvents:{compositionend:t=>{setTimeout(()=>{var e=t.state.selection["$cursor"];e&&Oi(t,e.pos,e.pos,"",o,i)})}}},isInputRules:!0});return i}function Oi(t,n,r,o,i,s){if(!t.composing){var a=t.state,e=a.doc.resolve(n);if(!e.parent.type.spec.code){var l=e.parent.textBetween(Math.max(0,e.parentOffset-500),e.parentOffset,null,"ï¿¼")+o;for(let e=0;e<i.length;e++){var c=i[e].match.exec(l),c=c&&i[e].handler(a,c,n-(c[0].length-o.length),r);if(c)return t.dispatch(c.setMeta(s,{transform:c,from:n,to:r,text:o})),!0}}}return!1}const Di=(r,o)=>{var i=r.plugins;for(let n=0;n<i.length;n++){let e,t=i[n];if(t.spec.isInputRules&&(e=t.getState(r))){if(o){var s,a=r.tr,l=e.transform;for(let e=l.steps.length-1;0<=e;e--)a.step(l.steps[e].invert(l.docs[e]));e.text?(s=a.doc.resolve(e.from).marks(),a.replaceWith(e.from,e.to,r.schema.text(e.text,s))):a.delete(e.from,e.to),o(a)}return!0}}return!1};new Si(/--$/,"â"),new Si(/\.\.\.$/,"â¦"),new Si(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"â"),new Si(/"$/,"â"),new Si(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"â"),new Si(/'$/,"â");function Ai(){}Ai.prototype.append=function(e){return e.length?(e=Ai.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Ai.prototype.prepend=function(e){return e.length?Ai.from(e).append(this):this},Ai.prototype.appendInner=function(e){return new Bi(this,e)},Ai.prototype.slice=function(e,t){return(t=void 0===t?this.length:t)<=(e=void 0===e?0:e)?Ai.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Ai.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Ai.prototype.forEach=function(e,t,n){(t=void 0===t?0:t)<=(n=void 0===n?this.length:n)?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Ai.prototype.map=function(n,e,t){void 0===t&&(t=this.length);var r=[];return this.forEach(function(e,t){return r.push(n(e,t))},e=void 0===e?0:e,t),r},Ai.from=function(e){return e instanceof Ai?e:e&&e.length?new Ii(e):Ai.empty},(Li=Ai)&&(Ri.__proto__=Li),n={length:{configurable:!0},depth:{configurable:!0}},((Ri.prototype=Object.create(Li&&Li.prototype)).constructor=Ri).prototype.flatten=function(){return this.values},Ri.prototype.sliceInner=function(e,t){return 0==e&&t==this.length?this:new Ri(this.values.slice(e,t))},Ri.prototype.getInner=function(e){return this.values[e]},Ri.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},Ri.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;n<=o;o--)if(!1===e(this.values[o],r+o))return!1},Ri.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new Ri(this.values.concat(e.flatten()))},Ri.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new Ri(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(Ri.prototype,n);var Li,Ii=Ri;function Ri(e){Li.call(this),this.values=e}Ai.empty=new Ii([]);(Pi=Ai)&&(Hi.__proto__=Pi),((Hi.prototype=Object.create(Pi&&Pi.prototype)).constructor=Hi).prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},Hi.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},Hi.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&!(o<n&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0},Hi.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(o<t&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0},Hi.prototype.sliceInner=function(e,t){var n;return 0==e&&t==this.length?this:t<=(n=this.left.length)?this.left.slice(e,t):n<=e?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},Hi.prototype.leafAppend=function(e){e=this.right.leafAppend(e);if(e)return new Hi(this.left,e)},Hi.prototype.leafPrepend=function(e){e=this.left.leafPrepend(e);if(e)return new Hi(e,this.right)},Hi.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new Hi(this.left,new Hi(this.right,e)):new Hi(this,e)};var Pi,Bi=Hi,Fi=Ai;function Hi(e,t){Pi.call(this),this.left=e,this.right=t,this.length=e.length+t.length,this.depth=Math.max(e.depth,t.depth)+1}class zi{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let r,o,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);let s,a,l=e.tr,c=[],u=[];return this.items.forEach((n,e)=>{if(n.step){if(r){u.push(new qi(n.map));let e,t=n.step.map(r.slice(o));t&&l.maybeStep(t).doc&&(e=l.mapping.maps[l.mapping.maps.length-1],c.push(new qi(e,void 0,void 0,c.length+u.length))),o--,e&&r.appendMap(e,o)}else l.maybeStep(n.step);return n.selection?(s=r?n.selection.map(r.slice(o)):n.selection,a=new zi(this.items.slice(0,i).append(u.reverse().concat(c)),this.eventCount-1),!1):void 0}r||(r=this.remapping(i,e+1),o=r.maps.length),o--,u.push(n)},this.items.length,0),{remaining:a,transform:l,selection:s}}addTransform(o,i,e,s){let a=[],l=this.eventCount,c=this.items,u=!s&&c.length?c.get(c.length-1):null;for(let r=0;r<o.steps.length;r++){let e,t=o.steps[r].invert(o.docs[r]),n=new qi(o.mapping.maps[r],t,i);(e=u&&u.merge(n))&&(n=e,r?a.pop():c=c.slice(0,c.length-1)),a.push(n),i&&(l++,i=void 0),s||(u=n)}e=l-e.depth;return e>ji&&(c=function(e,n){let r;return e.forEach((e,t)=>{if(e.selection&&0==n--)return r=t,!1}),e.slice(r)}(c,e),l-=e),new zi(c.append(a),l)}remapping(n,e){let r=new bt;return this.items.forEach((e,t)=>{t=null!=e.mirrorOffset&&t-e.mirrorOffset>=n?r.maps.length-e.mirrorOffset:void 0;r.appendMap(e.map,t)},n,e),r}addMaps(e){return 0==this.eventCount?this:new zi(this.items.append(e.map(e=>new qi(e))),this.eventCount)}rebased(o,t){if(!this.eventCount)return this;let i=[],e=Math.max(0,this.items.length-t),s=o.mapping,a=o.steps.length,l=this.eventCount,c=(this.items.forEach(e=>{e.selection&&l--},e),t);this.items.forEach(e=>{var t,n,r=s.getMirror(--c);null!=r&&(a=Math.min(a,r),t=s.maps[r],e.step?(n=o.steps[r].invert(o.docs[r]),(e=e.selection&&e.selection.map(s.slice(c+1,r)))&&l++,i.push(new qi(t,n,e))):i.push(new qi(t)))},e);var n=[];for(let e=t;e<a;e++)n.push(new qi(s.maps[e]));let r=this.items.slice(0,e).append(n).append(i),u=new zi(r,l);return u=500<u.emptyItemCount()?u.compress(this.items.length-i.length):u}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(o=this.items.length){let i=this.remapping(0,o),s=i.maps.length,a=[],l=0;return this.items.forEach((e,t)=>{var n,r;o<=t?(a.push(e),e.selection&&l++):e.step?(r=(t=e.step.map(i.slice(s)))&&t.getMap(),s--,r&&i.appendMap(r,s),t&&((n=e.selection&&e.selection.map(i.slice(s)))&&l++,r=new qi(r.invert(),t,n),t=a.length-1,(n=a.length&&a[t].merge(r))?a[t]=n:a.push(r))):e.map&&s--},this.items.length,0),new zi(Fi.from(a.reverse()),l)}}zi.empty=new zi(Fi.empty,0);class qi{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){e=e.step.merge(this.step);if(e)return new qi(e.getMap().invert(),e,this.selection)}}}class Vi{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const ji=20;function $i(e){let o=[];return e.forEach((e,t,n,r)=>o.push(n,r)),o}function _i(t,n){if(!t)return null;var r=[];for(let e=0;e<t.length;e+=2){var o=n.map(t[e],1),i=n.map(t[e+1],-1);o<=i&&r.push(o,i)}return r}function Ui(e,t,n,r){var o,i=Gi(t),s=Ki.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,i);a&&(o=a.selection.resolve(a.transform.doc),e=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),s,i),t=new Vi(r?e:a.remaining,r?a.remaining:e,null,0),n(a.transform.setSelection(o).setMeta(Ki,{redo:r,historyState:t}).scrollIntoView()))}let Wi=!1,Ji=null;function Gi(e){var t=e.plugins;if(Ji!=t){Wi=!1,Ji=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Wi=!0;break}}return Wi}const Ki=new ln("history"),Zi=new ln("closeHistory");function Xi(s={}){return s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},new on({key:Ki,state:{init:()=>new Vi(zi.empty,zi.empty,null,0),apply:(e,t,n)=>{var r=s;if(i=e.getMeta(Ki))return i.historyState;e.getMeta(Zi)&&(t=new Vi(t.done,t.undone,null,0));var o,i=e.getMeta("appendedTransaction");return 0==e.steps.length?t:i&&i.getMeta(Ki)?i.getMeta(Ki).redo?new Vi(t.done.addTransform(e,void 0,r,Gi(n)),t.undone,$i(e.mapping.maps[e.steps.length-1]),t.prevTime):new Vi(t.done,t.undone.addTransform(e,void 0,r,Gi(n)),null,t.prevTime):!1===e.getMeta("addToHistory")||i&&!1===i.getMeta("addToHistory")?(o=e.getMeta("rebased"))?new Vi(t.done.rebased(e,o),t.undone.rebased(e,o),_i(t.prevRanges,e.mapping),t.prevTime):new Vi(t.done.addMaps(e.mapping.maps),t.undone.addMaps(e.mapping.maps),_i(t.prevRanges,e.mapping),t.prevTime):(o=0==t.prevTime||!i&&(t.prevTime<(e.time||0)-r.newGroupDelay||!function(e,o){if(o){if(!e.docChanged)return 1;let r=!1;return e.mapping.maps[0].forEach((t,n)=>{for(let e=0;e<o.length;e+=2)t<=o[e+1]&&n>=o[e]&&(r=!0)}),r}}(e,t.prevRanges)),i=i?_i(t.prevRanges,e.mapping):$i(e.mapping.maps[e.steps.length-1]),new Vi(t.done.addTransform(e,o?n.selection.getBookmark():void 0,r,Gi(n)),zi.empty,i,e.time))}},config:s,props:{handleDOMEvents:{beforeinput(e,t){var n=t.inputType,n="historyUndo"==n?Qi:"historyRedo"==n?Yi:null;return!!n&&(t.preventDefault(),n(e.state,e.dispatch))}}}})}const Qi=(e,t)=>{var n=Ki.getState(e);return!(!n||0==n.done.eventCount||(t&&Ui(n,e,t,!1),0))},Yi=(e,t)=>{var n=Ki.getState(e);return!(!n||0==n.undone.eventCount||(t&&Ui(n,e,t,!0),0))};function es(e,t){var n=e.nodes.paragraph;return t?n.create(null,Fe()(t)?e.text(t):t):n.createAndFill()}function ts(e,t,n){return e.text(t,n)}function b(e,t,n){void 0===n&&(n=t);var r=e.doc.content.size,r=0<r?r-1:1;return y.create(e.doc,Math.min(t,r),Math.min(n,r))}function ns(e,t,n){t=t.pos;return e.replaceWith(t,t,es(n)),e.setSelection(b(e,t+1))}function rs(e){for(var t=e.state,n=e.from,r=e.startIndex,o=e.endIndex,i=e.createText,s=t.tr,a=t.doc,l=t.schema,c=r;c<=o;c+=1){var u=a.child(c),d=u.nodeSize,p=u.textContent,u=u.content,p=i(p),p=p?ts(l,p):C.empty,h=s.mapping.map(n),u=h+u.size;s.replaceWith(h,u,p),n+=d}return s}function is(e,t,n,r){n=n.length;e.split(t).delete(t-n,t).insert(e.mapping.map(t),r).setSelection(b(e,e.mapping.map(t)-n))}function ss(e){return e.sourcepos[0][0]}function as(e){return e.sourcepos[1][0]}function ls(e){return e.sourcepos[0][1]}function cs(e){return e.sourcepos[1][1]}function us(e){return e&&("item"===e.type||"list"===e.type)}function ds(e){return us(e)&&"ordered"===e.listData.type}function ps(e){return e&&("tableCell"===e.type||"tableDelimCell"===e.type)}function hs(e,t,n){for(e=(n=void 0===n?!0:n)?e:e.parent;e&&"document"!==e.type;){if(t(e))return e;e=e.parent}return null}function u(e,t){return[e[0],e[1]+t]}function fs(e,t){return[e[0],t]}function ms(e){for(var t=[],n=e.walker();r=n.next();){var r=r.node;"text"===r.type&&t.push(r.literal)}return t.join("")}var gs=[],vs={},ys=/\$\$widget\d+\s/;function bs(e){var t,n=e.search(ys);return-1!==n&&(t=e.substring(n).replace(ys,"").replace("$$",""),e=e.substring(0,n),e+=bs(t)),e}function ws(e,t){return"$$"+e+" "+t+"$$"}function ks(e,t){var e=vs[e],n=e.rule,e=e.toDOM,n=bs(t).match(n);return e(t=n?n[0]:t)}function xs(e,t,n,r){return e.concat(Cs(t,n,r))}function Cs(e,t,n){var r=[],o=(gs[n=void 0===n?0:n]||{}).rule,i=n+1;if(e=bs(e),o&&o.test(e)){for(;-1!==(a=e.search(o));){var s=e.substring(0,a),s=(s&&(r=xs(r,s,t,i)),(e=e.substring(a)).match(o)[0]),a="widget"+n;r.push(t.nodes.widget.create({info:a},t.text(ws(a,s)))),e=e.substring(s.length)}e&&(r=xs(r,e,t,i))}else e&&(r=n<gs.length-1?xs(r,e,t,i):[t.text(e)]);return r}function Ts(e){for(var t,n="",r=e.walker();t=r.next();){var o=t.node;t.entering&&(o!==e&&"text"!==o.type?(n+=function(e){var t=e.firstChild.literal;switch(e.type){case"emph":return"*"+t+"*";case"strong":return"**"+t+"**";case"strike":return"~~"+t+"~~";case"code":return"`"+t+"`";case"link":case"image":var n=e.destination,r=e.title;return("link"===e.type?"":"!")+"["+t+"]("+n+(r?' "'+r+'"':"")+")";default:return null}}(o),r.resumeAt(e,!1),r.next()):"text"===o.type&&(n+=o.literal))}return n}function Ms(){return{deleteSelection:function(){return li},selectAll:function(){return gi},undo:function(){return Qi},redo:function(){return Yi}}}var o=l0(322),Es=l0.n(o),e=l0(714),Ss=l0.n(e),t=l0(471),Ns=l0.n(t),Os="(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)",Ds="<([A-Za-z][A-Za-z0-9-]*)("+Os+")*\\s*/?>",As="(?:"+Ds+"|</([A-Za-z][A-Za-z0-9-]*)\\s*[>])",Ls=new RegExp("^"+As,"i"),Is=/<br\s*\/*>/i,Rs=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,Ps="</p><p>";function Bs(e,t,n){var r=parseInt(e.left,10),o=parseInt(e.top,10),i=parseInt(e.width,10)+parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10),e=parseInt(e.height,10)+parseInt(e.paddingTop,10)+parseInt(e.paddingBottom,10);return r<=t&&t<=r+i&&o<=n&&n<=o+e}var Fs="toastui-editor-";function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];(i=Array.isArray(i)?i[0]?i[1]:null:i)&&n.push(""+Fs+i)}return n.join(" ")}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map(function(e){return Fs+"md-"+e}).join(" ")}function Hs(e){return e&&e.nodeType===Node.ELEMENT_NODE}function zs(e){e.parentNode&&e.parentNode.removeChild(e)}function qs(e,t,n){((n=ze()(n)?!Ss()(e,t):n)?Pe:Be)()(e,t)}function Vs(e,t){var n=document.createElement("div"),e=(Fe()(e)?n.innerHTML=e:n.appendChild(e),n.firstChild);return t&&t.appendChild(e),e}function js(e){var n=window.getComputedStyle(e);return["margin-left","margin-right"].reduce(function(e,t){return e+parseInt(n.getPropertyValue(t),10)},0)+e.offsetWidth}function $s(e,t){for(var n=Fe()(t)?function(e){return Ns()(e,t)}:function(e){return e===t};e&&e!==document;){if(Hs(e)&&n(e))return e;e=e.parentNode}return null}function _s(e,t){for(var n=0,r=0;e&&e!==t&&(n+=e.offsetTop,r+=e.offsetLeft,e.offsetParent!==t.offsetParent);)e=e.offsetParent;return{offsetTop:n,offsetLeft:r}}function Us(t,n){Object.keys(t).forEach(function(e){st(t[e])?n.removeAttribute(e):n.setAttribute(e,t[e])})}function Ws(e){return e.replace(/<img class="ProseMirror-separator" alt="">/g,"").replace(/ class="ProseMirror-trailingBreak"/g,"")}var Js=new ln("widget"),Gs=(Ks.prototype.update=function(e){var t,n,r,o,i,s=Js.getState(e.state);this.removeWidget(),s&&(t=s.node,n=s.style,o=(s=e.coordsAtPos(s.pos)).top,r=s.left,s=s.bottom-o,i=o-(o=this.rootEl.getBoundingClientRect()).top,Re()(t,{opacity:"0"}),this.rootEl.appendChild(t),Re()(t,{position:"absolute",left:r-o.left+5+"px",top:("bottom"===n?i+s-5:i-s)+"px",opacity:"1"}),this.popup=t,e.focus())},Ks.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},Ks);function Ks(e,t){var n=this;this.popup=null,this.removeWidget=function(){n.popup&&(n.rootEl.removeChild(n.popup),n.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){n.rootEl=$s(e.dom.parentElement,"."+h("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}var n=l0(893),Zs=l0.n(n);function Xs(n,r,e){n.emit("addImageBlobHook",r,function(e,t){n.emit("command","addImage",{imageUrl:e,altText:t||r.name||"image"})},e)}function Qs(e){e=Qo()(e).filter(function(e){return-1!==e.type.indexOf("image")});if(1===e.length){e=e[0];if(e)return e.getAsFile()}return null}Object.defineProperty(Ys.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),Ys.prototype.setContext=function(e){this.context=e};o=Ys;function Ys(){}function ea(e){var t=document.createElement("span"),e=ks(e.attrs.info,e.textContent);return t.className="tui-widget",t.appendChild(e),{dom:t}}function ta(e){return"widget"===e.type.name}r(sa,ra=o),Object.defineProperty(sa.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(sa.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(e){return{info:e.textContent.match(/\$\$(widget\d+)/)[1]}}}]}},enumerable:!1,configurable:!0});var na=sa;s.prototype.createState=function(){return rn.create({schema:this.schema,plugins:this.createPlugins()})},s.prototype.initEvent=function(){var e=this.eventEmitter,t=this.view,n=this.editorType;t.dom.addEventListener("focus",function(){return e.emit("focus",n)}),t.dom.addEventListener("blur",function(){return e.emit("blur",n)})},s.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(s.prototype,"defaultPlugins",{get:function(){var n,r,t,e=this.createInputRules(),o=B(B([],this.keymaps),[ai(x({"Shift-Enter":Ei.Enter},Ei)),Xi(),(n=this.placeholder,new on({props:{decorations:function(e){var t,e=e.doc;return n.text&&1===e.childCount&&e.firstChild.isTextblock&&0===e.firstChild.content.size?(t=document.createElement("span"),Pe()(t,"placeholder"),n.className&&Pe()(t,n.className),t.textContent=n.text,M.create(e,[To.widget(1,t)])):null}}})),(t=this.eventEmitter,new on({key:Js,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new Gs(e,t)}})),(o=this.context,r=o.eventEmitter,new on({props:{handleDOMEvents:{drop:function(e,t){var n=null==(n=t.dataTransfer)?void 0:n.files;return n&&Zs()(n,function(e){return-1===e.type.indexOf("image")||(t.preventDefault(),t.stopPropagation(),Xs(r,e,t.type),!1)}),!0}}}}))]);return e?o.concat(e):o},enumerable:!1,configurable:!0}),s.prototype.createInputRules=function(){var e=gs.map(function(e){var a=e.rule;return new Si(a,function(e,t,n,r){var o=e.schema,i=e.tr,e=e.doc,t=t.input.match(new RegExp(a,"g")),e=e.resolve(n),n=e.parent,s=0;return(n=ta(n)?e.node(e.depth-1):n).forEach(function(e){return ta(e)&&(s+=1)}),t.length>s?(n=Cs(e=lt(t),o),i.replaceWith(r-e.length+1,r,n)):null})});return e.length?Ni({rules:e}):null},s.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},s.prototype.createSchema=function(){return new be({nodes:this.specs.nodes,marks:this.specs.marks})},s.prototype.createKeymaps=function(e){var t=Ms(),n=t.undo,t=t.redo,r=this.specs.keymaps(e),n={"Mod-z":n(),"Shift-Mod-z":t()};return e?r.concat(ai(n)):r},s.prototype.createCommands=function(){return this.specs.commands(this.view)},s.prototype.createPluginProps=function(){var t=this;return this.extraPlugins.map(function(e){return e(t.eventEmitter)})},s.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},s.prototype.blur=function(){this.view.dom.blur()},s.prototype.destroy=function(){var t=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(e){delete t[e]})},s.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(b(t,1)).scrollIntoView()),e&&this.focus()},s.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(b(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},s.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},s.prototype.getScrollTop=function(){return this.view.dom.scrollTop},s.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},s.prototype.setHeight=function(e){Re()(this.el,{height:e+"px"})},s.prototype.setMinHeight=function(e){Re()(this.el,{minHeight:e+"px"})},s.prototype.getElement=function(){return this.el};var ra,e=s,t=l0(294),oa=l0.n(t),ia=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function s(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}function sa(){return null!==ra&&ra.apply(this,arguments)||this}function aa(e,t,n){return e.focus(),t(n)(e.state,e.dispatch,e)}Object.defineProperty(ca.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return"node"===e.type}).reduce(function(e,t){var n=t.name,t=t.schema;return x(x({},e),((e={})[n]=t,e))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(ca.prototype,"marks",{get:function(){return this.specs.filter(function(e){return"mark"===e.type}).reduce(function(e,t){var n=t.name,t=t.schema;return x(x({},e),((e={})[n]=t,e))},{})},enumerable:!1,configurable:!0}),ca.prototype.commands=function(o,n){var e=this.specs.filter(function(e){return e.commands}).reduce(function(e,t){var n={},r=t.commands();return oa()(r)?n[t.name]=function(e){return aa(o,r,e)}:Object.keys(r).forEach(function(t){n[t]=function(e){return aa(o,r[t],e)}}),x(x({},e),n)},{}),r=Ms();return Object.keys(r).forEach(function(t){e[t]=function(e){return aa(o,r[t],e)}}),n&&Object.keys(n).forEach(function(t){e[t]=function(e){return aa(o,n[t],e)}}),e},ca.prototype.keymaps=function(e){return this.specs.filter(function(e){return e.keymaps}).map(function(e){return e.keymaps()}).map(function(t){return e||Object.keys(t).forEach(function(e){T(ia,e)||delete t[e]}),ai(t)})},ca.prototype.setContext=function(t){this.specs.forEach(function(e){e.setContext(t)})};var la=ca;function ca(e){this.specs=e}function ua(e){var t=e.from,n=e.to;return e instanceof Gt?[t+1,n-1]:[t,n]}function da(e){return e.index(0)+1}function pa(e,n,r){void 0===r&&(r=1);var o=0;return e.forEach(function(e,t){ta(e)&&t+2<n&&(o+=2*r)}),o}function ha(e,t,n){var r=t===(n=void 0===n?t:n),o=e.resolve(t),i=da(o),s=i,o=o.start(1),a=o,r=(r||(a=(r=e.resolve(n===e.content.size?n-1:n)).start(1),s=da(r),r.pos===e.content.size&&(n=e.content.size-2)),Math.max(t-o+1,1)),t=Math.max(n-a+1,1);return[[i,r+pa(e.child(i-1),r,-1)],[s,t+pa(e.child(s-1),t,-1)]]}function fa(e,t){for(var n=[],r=0,o=0;r<t;r+=1){var i=e.child(r);n[r]=o,o+=i.nodeSize}return n}function ma(e,t,n){var r=fa(e,n[0]),o=t[0]-1,i=n[0]-1,s=e.child(o),a=e.child(i),o=r[o],r=r[i];return o+=t[1]+pa(s,t[1]-1),r+=n[1]+pa(a,n[1]-1),[o,Math.min(r,e.content.size)]}function m(e){var t=e.$from,n=e.$to,r=e.from,o=e.to,i=t.doc;return e instanceof Gt&&(t=i.resolve(r+1),n=i.resolve(o-1)),0===t.depth&&(n=t=i.resolve(r-1)),{startFromOffset:t.start(1),endFromOffset:n.start(1),startToOffset:t.end(1),endToOffset:n.end(1),startIndex:t.index(0),endIndex:n.index(0),from:t.pos,to:n.pos}}function ga(e,t){for(var n=1,r=1,o=0,i=0;o<e.childCount;o+=1){var s=e.child(o).nodeSize,n=i+1,r=i+s-1;if(o===t)break;i+=s}return{startOffset:n,endOffset:r}}var va="heading",ya="link",ba="code",wa="meta",ka="delimiter",xa="markedText",Ca={strong:2,emph:1,strike:2};function E(e,t,n,r){return{start:e,end:t,spec:{type:n,attrs:r}}}function Ta(e,t,n){var e=e.type,r=u(t,Ca[e]),o=u(n,-Ca[e]);return[E(r,o,e),E(t,r,ka),E(o,n,ka)]}function Ma(e,t,n,r){return[E(e,t,ya),E(fs(e,n[1]+1),fs(t,r),ya,{desc:!0}),E(fs(t,r+2),u(t,-1),ya,{url:!0})]}function Ea(e,t,n,r){var o={start:t,end:n,spec:{attrs:{className:r+"-line-background",codeStart:t[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==e.type&&"blockQuote"!==e.type?[x(x({},o),{end:t,spec:{attrs:{className:r+"-line-background start"}}}),x(x({},o),{start:[Math.min(t[0]+1,n[0]),t[1]]})]:null}function Sa(e,t){for(var n=[];e;){var r=e.type;"paragraph"!==r&&"codeBlock"!==r||n.push(E([ss(e),ls(e)-1],[as(e),cs(e)+1],t)),e=e.next}return n}var Na={heading:function(e,t,n){var r=e.level,e=e.headingType,o=[E(t,n,va,{level:r})];return o.push("atx"===e?E(t,u(t,r),ka):E(fs(n,0),n,va,{seText:!0})),o},strong:Ta,emph:Ta,strike:Ta,link:function(e,t,n){var r=e.lastChild,e=e.extendedAutolink,r=r?cs(r)+1:2;return e?[E(t,n,ya,{desc:!0})]:Ma(t,n,t,r)},image:function(e,t,n){var e=e.lastChild,e=e?cs(e)+1:3,r=u(t,1);return B([E(t,r,wa)],Ma(t,n,r,e))},code:function(e,t,n){var e=e.tickCount,r=u(t,e),e=u(n,-e);return[E(t,n,ba),E(t,r,ba,{start:!0}),E(r,e,ba,{marked:!0}),E(e,n,ba,{end:!0})]},codeBlock:function(e,t,n,r){var o=e.fenceOffset,i=e.fenceLength,s=e.fenceChar,a=e.info,l=e.infoPadding,e=e.parent,c=[E(fs(t,1),n,"codeBlock")],o=(s&&c.push(E(t,u(t,o+i),ka)),a&&c.push(E(u(t,i),u(t,i+l+a.length),wa)),new RegExp("^(\\s{0,4})("+s+"{"+i+",})").test(r)&&c.push(E(fs(n,1),n,ka)),Ea(e,t,n,"code-block"));return o?c.concat(o):c},blockQuote:function(e,t,n){t=e.parent&&"blockQuote"!==e.parent.type?[E(t,n,"blockQuote")]:[];return e.firstChild&&(n=[],"paragraph"===e.firstChild.type?n=function(e){for(var t=[];e;)t.push(E([ss(e),ls(e)],[as(e),cs(e)+1],xa)),e=e.next;return t}(e.firstChild.firstChild):"list"===e.firstChild.type&&(n=Sa(e.firstChild,xa)),t=B(B([],t),n)),t},item:function(e,t){var n=e.listData,r=n.padding,n=n.task,o=function(e){for(var t=0;e.parent.parent&&"item"===e.parent.parent.type;)e=e.parent.parent,t+=1;return["listItem",x(x({},[{odd:!0},{even:!0}][t%2]),{listStyle:!0})]}(e),o=[E.apply(void 0,B([t,u(t,r)],o))];return n&&(o.push(E(u(t,r),u(t,r+3),"taskDelimiter")),o.push(E(u(t,r+1),u(t,r+2),wa))),o.concat(Sa(e.firstChild,xa))},customBlock:function(e,t,n){var r=e.offset,o=e.syntaxLength,i=e.info,e=e.parent,r=r+o,s=[E(fs(t,1),n,"customBlock")],r=(s.push(E(t,u(t,r),ka)),i&&s.push(E(u(t,r),u(t,o+i.length),wa)),s.push(E(fs(n,1),n,ka)),Ea(e,t,n,"custom-block"));return r?s.concat(r):s}},Oa={thematicBreak:"thematicBreak",table:"table",tableCell:"tableCell",htmlInline:"html"};var Da={};function Aa(e){var r=e.schema,k=e.toastMark;return new on({appendTransaction:function(e,t,n){var h,m,g,o,i,s,v,y,b,e=e[0],w=n.tr;return e.docChanged&&(h=[],e.getMeta("editResult").forEach(function(e){var t,n,r,f=e.nodes,e=e.removedNodeRange;if(f.length){h=h.concat(function(){var e=w.doc,t=f[0].sourcepos[0],n=lt(f).sourcepos[1],r=[t[0],t[1]],o=[n[0],n[1]+1],i=[],s=e,a=n,l=[];Da={};for(var c=t[0]-1;c<a[0];c+=1){var u=s.child(c),d=u.attrs.codeEnd,u=u.attrs.codeStart;if(u&&d&&!T(l,u)){l.push(u);Math.min(d,s.childCount);for(var p=a[0],h=u-1;h<p;h+=1)Da[h]=!0}}return i.push({start:r,end:o}),i}());for(var o=0,i=f;o<i.length;o++)for(var s=i[o].walker(),a=s.next();a;){var l=a.node;a.entering&&(h=h.concat((l=l,r=n=void 0,t=(t=k).getLineTexts(),n=[ss(l),ls(l)],r=[as(l),cs(l)+1],null!=(l=function(e,t,n,r){var o=e.type;return oa()(Na[o])?Na[o](e,t,n,r):Oa[o]?[E(t,n,Oa[o])]:null}(l,n,r,t[r[0]-1]))?l:[]))),a=s.next()}}else if(e)for(var c=w.doc.childCount-1,e=e.line,u=e[0],e=e[1],u=Math.min(u,c),d=Math.min(e,c),p=u;p<=d;p+=1)Da[p]=!0}),g=r,n=h,v=(m=w).doc,y=g.nodes.paragraph,b=fa(v,v.childCount),n.forEach(function(e){var t=e.start,n=e.end,r=e.spec,e=e.lineBackground,o=Math.min(t[0],v.childCount)-1,i=Math.min(n[0],v.childCount)-1,s=v.child(o),a=v.child(i),l=b[o],c=b[i];if(l+=t[1]+pa(s,t[1]-1),c+=n[1]+pa(a,n[1]-1),r)if(e){var s=m,u=v,t=y,a={from:l,to:c,startIndex:o,endIndex:i},d=r.attrs;void 0===d&&(d={});for(var p=a.endIndex,n=a.from,e=a.to,h=!1,f=a.startIndex;f<=p;f+=1)delete Da[f],h=function(t,n,r){return Object.keys(r).some(function(e){return r[e]!==t.child(n).attrs[e]})}(u,f,d);h&&s.setBlockType(n,e,t,d)}else m.addMark(l,c,g.mark(r.type,r.attrs));else m.removeMark(l,c)}),o=m,i=b,s=y,Object.keys(Da).forEach(function(e){var t=Number(e),e=Math.min(Number(e)+1,o.doc.childCount-1),n=i[t],r=i[e]-1;t===e&&(r+=2),o.setBlockType(n,r,s)})),w.setMeta("widget",e.getMeta("widget"))}})}var La=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function Ia(e){var t,n={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},r=!0,o=e,e=void 0;for(o=(e=void 0===e?!0:e)?o:o.parent;o&&"document"!==o.type;)t=void 0,(t=function(e){var t=e.type;return us(e)?e.listData.task?"taskList":"ordered"===e.listData.type?"orderedList":"bulletList":-1!==t.indexOf("table")?"table":T(La,t)?t:null}(o))&&("bulletList"===t||"orderedList"===t?r&&(n[t]={active:!0},n.indent.disabled=!1,n.outdent.disabled=!1,r=!1):n[t]={active:!0}),o=o.parent;return n}r(Fa,Pa=o),Object.defineProperty(Fa.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(Fa.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0});var Ra=Fa;Object.defineProperty(Ba.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),Ba.prototype.setContext=function(e){this.context=e};var Pa,n=Ba;function Ba(){}function Fa(){return null!==Pa&&Pa.apply(this,arguments)||this}function Ha(e,t){return za(e,t-1)}function za(e,t){return e.child(t).textContent}var qa,Va=/^\s*> ?/,ja=(r(Za,qa=n),Object.defineProperty(Za.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(Za.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("block-quote")},0]}}},enumerable:!1,configurable:!0}),Za.prototype.createBlockQuoteText=function(e,t){return t?e.replace(Va,"").trim():"> "+e.trim()},Za.prototype.extendBlockQuote=function(){var c=this;return function(e,t){var n=e.selection,r=e.doc,o=e.tr,e=e.schema,i=m(n),s=i.endFromOffset,a=i.endToOffset,l=i.endIndex,i=i.to,r=za(r,l);return!!(Va.test(r)&&s<i&&n.empty)&&(r.replace(Va,"").trim()?is(o,a,l=r.slice(i-s).trim(),ts(e,c.createBlockQuoteText(l))):o.deleteRange(s,a).split(o.mapping.map(a)),t(o),!0)}},Za.prototype.commands=function(){var l=this;return function(){return function(e,t){var n=e.selection,r=e.doc,n=m(n),o=n.startFromOffset,i=n.endToOffset,s=n.startIndex,n=n.endIndex,a=Va.test(za(r,s)),r=rs({state:e,startIndex:s,endIndex:n,from:o,createText:function(e){return l.createBlockQuoteText(e,a)}});return t(r.setSelection(b(r,r.mapping.map(i)))),!0}}},Za.prototype.keymaps=function(){var e=this.commands()();return{"alt-q":e,"alt-Q":e,Enter:this.extendBlockQuote()}},Za),$a=/(^\s*)([-*+] |[\d]+\. )/,_a=/(^\s*)([\d])+\.( \[[ xX]])? /,Ua=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,Wa=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,Ja=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,Ga=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,Ka=/(^\s*)([-*+])( \[[ xX]]) /;function Za(){return null!==qa&&qa.apply(this,arguments)||this}function Xa(e){return _a.test(e)?"ordered":"bullet"}function Qa(e){for(var t=0;e&&"document"!==e.type;)"list"===e.type&&(t+=1),e=e.parent;return t}function Ya(e,t,n,r){for(var o=e.getLineTexts().length,i=[],s=t;r?s<o:1<s;){var s=r?s+1:s-1,a=e.findFirstNodeAtLine(s),l=Qa(a);if(l===n)i.push({line:s,depth:n,mdNode:a});else if(l<n)break}return i}function el(i,e,s,a){void 0===a&&(a=0);var l=Number.MAX_VALUE,c=0;return{changedResults:e.map(function(e,t){var n,r,e=e.line,o=(l=Math.min(e-1,l),c=Math.max(e-1,c),Ha(i,e));return{text:"bullet"===s?(n=o,$a.test(n)?("bullet"===(r=Xa(n))&&Wa.test(n)?n=n.replace(Ka,"$1$2 "):"ordered"===r&&(n=n.replace(_a,"$1* ")),n):"* "+n):(r=o,n=t+1+a,$a.test(r)?("bullet"===(o=Xa(r))||"ordered"===o&&Wa.test(r)?r=r.replace(Wa,"$1"+n+". "):"ordered"===o&&(o=Ua.exec(r)[3],Number(o)!==n)&&(r=r.replace(_a,"$1"+n+". ")),r):n+". "+r),line:e}}),firstIndex:l,lastIndex:c}}function tl(e,t){i=t.toastMark,n=t.mdNode,s=Ya(i,r=t.line,o=Qa(n),!1).reverse(),i=Ya(i,r,o,!0);var n,r,o,i,s=s.concat([{line:r,depth:o,mdNode:n}]).concat(i);return el(t.doc,s,e)}var nl={bullet:function(e){return tl("bullet",e)},ordered:function(e){return tl("ordered",e)},task:function(e){var t=e.mdNode,n=e.doc,e=e.line,n=Ha(n,e);return t.listData.task?n=n.replace(Ga,"$1$2"):us(t)&&(n=n.replace($a,"$1$2[ ] ")),{changedResults:[{text:n,line:e}]}}},rl={bullet:function(e){var t=e.doc,e=e.line;return{changedResults:[{text:"* "+Ha(t,e),line:e}]}},ordered:function(e){for(var t=e.toastMark,n=e.doc,r=e.line,e=e.startLine,o=Ha(n,r),i=1,s=e,a=0,l=e-1;0<l;--l){var c=t.findFirstNodeAtLine(l),c=Ha(n,l)&&!!hs(c,us),u=Ua.exec(Ha(n,l));if(!u&&!c)break;if(u||!c){c=u[1],u=u[3];if(!c){i=Number(u),s=l;break}}else a+=1}return{changedResults:[{text:i+r-s-a+". "+o,line:r}]}},task:function(e){var t=e.doc,e=e.line;return{changedResults:[{text:"* [ ] "+Ha(t,e),line:e}]}}},ol={bullet:function(e){var t=e.line,e=Ha(e.doc,t),t=Ja.exec(e);return{listSyntax:""+t[1]+t[2]}},ordered:function(e){var t=e.toastMark,n=e.line,r=e.mdNode,o=e.doc,e=Qa(r),r=Ha(o,n),r=Ua.exec(r),i=r[1],s=r[3],r=r[4],s=Number(s)+1,r=""+i+s+r,t=Ya(t,n,e,!0).filter(function(e){var t=Ua.exec(Ha(o,e.line));return t&&t[1].length===i.length&&!!hs(e.mdNode,ds)});return x({listSyntax:r},el(o,t,"ordered",s))}};var il=/(^\s{1,4})(.*)/;function sl(e,t,n){return e<t||$a.test(n)||Va.test(n)}function al(e,t,n){var n=n.$from,e=(n=0===n.depth?e.resolve(n.pos-1):n).node(1),r=n.start(1),o=e.content.size;return e.rangeHasMark(0,o,t.marks.table)&&n.pos-r!==o&&n.pos!==r}function ll(e,t){var n=t.from,r=t.to;if("indent"===t.type)n+=4,r+=4*(t.lineLen+1);else{var o=t.spaceLenList;n-=o[0];for(var i=0;i<o.length;i+=1)r-=o[i]}return b(e,n,r)}r(xl,pl=o),Object.defineProperty(xl.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(xl.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(e){e=e.attrs;return e.className?["div",{class:i(e.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),xl.prototype.reorderList=function(e,t){for(var n,r=this.context,o=r.view,i=r.toastMark,r=r.schema,s=o.state,a=s.tr,l=s.selection,c=s.doc,u=i.findFirstNodeAtLine(e),d=u;u&&(!us(n=u)||"ordered"===n.listData.type)&&"document"!==u.parent.type;)if(ds(u=u.parent)){d=u;break}d&&(e=d.sourcepos[0][0]);var s=Ua.exec(Ha(c,e)),i=s[1],s=s[3],i=i.length,r=function e(t,n,r,o,i){for(var s=[],a=Ha(t,r),l=Ua.exec(a);l;){var c=l[1],u=l[4],d=l[5],p=c.length;if(p===i?(s.push(ts(n,""+c+o+u+d)),o+=1,r+=1):i<p&&(r=(c=e(t,n,r,1,p)).line,s=s.concat(c.nodes)),p<i||r>t.childCount)break;a=Ha(t,r),l=Ua.exec(a)}return{nodes:s,line:r}}(c,r,e,Number(s),i),s=r.line,p=r.nodes;t=Math.max(t,s-1);for(var h=ga(c,e-1).startOffset,f=e-1;f<=t-1;f+=1){var m=c.child(f),g=m.nodeSize,m=m.content,v=a.mapping.map(h),m=v+m.size;a.replaceWith(v,m,p[f-e+1]),h+=g}i=b(a,l.from,l.to);o.dispatch(a.setSelection(i))},xl.prototype.indent=function(u){var d=this;return void 0===u&&(u=!1),function(){return function(e,t){var n=e.schema,r=e.selection,o=e.doc,i=m(r),s=i.from,a=i.to,l=i.startFromOffset,c=i.startIndex,i=i.endIndex;return!(u&&al(o,n,r)||(r=za(o,c),u&&sl(s,a,r)||!u&&$a.test(r)?(t((o=rs({state:e,from:l,startIndex:c,endIndex:i,createText:function(e){return"    "+e}})).setSelection(ll(o,{type:"indent",from:s,to:a,lineLen:i-c}))),Ua.test(r)&&d.reorderList(c+1,i+1)):u&&t(e.tr.insert(a,ts(n,"    "))),0))}}},xl.prototype.outdent=function(d){var p=this;return void 0===d&&(d=!1),function(){return function(e,t){var n,r=e.selection,o=e.doc,i=e.schema,s=m(r),a=s.from,l=s.to,c=s.startFromOffset,u=s.startIndex,s=s.endIndex;return!(d&&al(o,i,r)||(i=za(o,u),d&&sl(a,l,i)||!d&&$a.test(i)?(n=[],t((r=rs({state:e,from:c,startIndex:u,endIndex:s,createText:function(e){var t=il.exec(e);return n.push(t?t[1].length:0),e.replace(il,"$2")}})).setSelection(ll(r,{type:"outdent",from:a,to:l,spaceLenList:n}))),Ua.test(i)&&p.reorderList(u+1,s+1)):d&&(r=(o=i.slice(0,l-c)).replace(/\s{1,4}$/,""),a=l-(o.length-r.length),t(e.tr.delete(a,l))),0))}}},xl.prototype.deleteLines=function(){var s=this;return function(e,t){var n=s.context.view,r=m(e.selection),o=r.startFromOffset,i=r.endToOffset;return xi(function(){return t(e.tr.deleteRange(o,i)),!0},di)(e,t,n)}},xl.prototype.moveDown=function(){return function(e,t){var n=e.doc,r=e.tr,o=e.selection,e=e.schema,o=m(o),i=o.startFromOffset,s=o.endToOffset,o=o.endIndex;return o<n.content.childCount-1&&(o=(n=n.child(o+1)).nodeSize,n=n.textContent,r.delete(s,s+o).split(i).insert(r.mapping.map(i)-2,ts(e,n)),t(r),!0)}},xl.prototype.moveUp=function(){return function(e,t){var n=e.tr,r=e.doc,o=e.selection,e=e.schema,o=m(o),i=o.startFromOffset,s=o.endToOffset,o=o.startIndex;return 0<o&&(o=(r=r.child(o-1)).nodeSize,r=r.textContent,n.delete(i-o,i).split(n.mapping.map(s)).insert(n.mapping.map(s),ts(e,r)),t(n),!0)}},xl.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},xl.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}};var cl,ul,dl,pl,hl=xl,fl=(r(kl,dl=o),Object.defineProperty(kl.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(kl.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),kl),ml=/^#{1,6}\s/,gl=(r(wl,ul=n),Object.defineProperty(wl.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(wl.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(e){var e=e.attrs,t="heading|heading"+e.level;return e.seText&&(t+="|delimiter|setext"),["span",{class:i.apply(void 0,t.split("|"))},0]}}},enumerable:!1,configurable:!0}),wl.prototype.createHeadingText=function(e,t,n){for(var t=t.replace(n,"").trim(),r="";0<e;)r+="#",--e;return r+" "+t},wl.prototype.commands=function(){var a=this;return function(s){return function(e,t){var n=s.level,r=m(e.selection),o=r.startFromOffset,i=r.endToOffset,e=rs({state:e,from:o,startIndex:r.startIndex,endIndex:r.endIndex,createText:function(e){var t=e.match(ml),t=t?t[0]:"";return a.createHeadingText(n,e,t)}});return t(e.setSelection(b(e,e.mapping.map(i)))),!0}}},wl),vl=(r(bl,cl=n),Object.defineProperty(bl.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(bl.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("code-block")},0]}}},enumerable:!1,configurable:!0}),bl.prototype.commands=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,e=e.tr,n=m(n),o=n.startFromOffset,n=n.endToOffset,r=ts(r,"```");return e.insert(o,r).split(o+"```".length),e.split(e.mapping.map(n)).insert(e.mapping.map(n),r),t(e.setSelection(b(e,e.mapping.map(n)-("```".length+2)))),!0}}},bl.prototype.keepIndentation=function(){var u=this;return function(e,t){var n=e.selection,r=e.tr,o=e.doc,e=e.schema,i=u.context.toastMark,n=m(n),s=n.startFromOffset,a=n.endToOffset,l=n.endIndex,c=n.from,n=n.to,o=za(o,l);if(c===n&&o.trim()){c=o.match(/^\s+/);if((i=i.findFirstNodeAtLine(l+1))&&"codeBlock"===i.type&&c)return l=c[0],is(r,a,i=o.slice(n-s),ts(e,l+i)),t(r),!0}return!1}},bl.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,Enter:this.keepIndentation()}},bl),yl=/\||\s/g;function bl(){return null!==cl&&cl.apply(this,arguments)||this}function wl(){return null!==ul&&ul.apply(this,arguments)||this}function kl(){return null!==dl&&dl.apply(this,arguments)||this}function xl(){return null!==pl&&pl.apply(this,arguments)||this}function Cl(e,t){for(var n="|",r=0;r<e;r+=1)n+=t?" --- |":"  |";return n}r(Ol,Ml=n),Object.defineProperty(Ol.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(Ol.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("table")},0]}}},enumerable:!1,configurable:!0}),Ol.prototype.extendTable=function(){var l=this;return function(e,t){var n,r,o,i=e.selection,s=e.doc,a=e.tr,e=e.schema;return!!i.empty&&(n=(i=m(i)).endFromOffset,r=i.endToOffset,o=i.endIndex,i=i.to,s=za(s,o),!!(o=hs(l.context.toastMark.findNodeAtPosition([o+1,i-n+1]),function(e){return ps(e)&&("tableDelimRow"===e.parent.type||"tableBody"===e.parent.parent.type)})))&&(i=!s.replace(yl,"").trim(),s=Cl(o.parent.parent.parent.columns.length),i?a.deleteRange(n,r).split(a.mapping.map(r)):a.split(r).insert(a.mapping.map(r),ts(e,s)).setSelection(b(a,a.mapping.map(r)-2)),t(a),!0)}},Ol.prototype.moveTableCell=function(c){var u=this;return function(e,t){var n,r,o,i,s,a=e.selection,e=e.tr,a=m(a),l=a.endFromOffset,a=[a.endIndex+1,a.to-l],a=hs(u.context.toastMark.findNodeAtPosition(a),ps);return!!a&&(n=a.parent,i=(r=c?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}).childType,s=cs(a),a[o=r.type]?s=cs(a[o])-1:(a=n[o]||n.parent.type!==r.parentType?n[o]:n.parent[o][i],"next"===o?s+=(a?cs(a[i]):0)+2:"prev"===o&&(s=a?-4:0)),t(e.setSelection(b(e,l+s))),!0)}},Ol.prototype.addTable=function(){return function(a){return function(e,t){var n=e.selection,r=e.tr,o=e.schema,e=a.columnCount,i=a.rowCount,s=m(n).endToOffset,n=[Cl(n=e),Cl(n,!0)],e=function(e,t){for(var n=[],r=0;r<t;r+=1)n.push(Cl(e));return n}(e,i-1);return B(B([],n),e).forEach(function(e){r.split(r.mapping.map(s)).insert(r.mapping.map(s),ts(o,e))}),t(r.setSelection(b(r,s+4))),!0}}},Ol.prototype.commands=function(){return{addTable:this.addTable()}},Ol.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}};var Tl,Ml,El=Ol,Sl=(r(Nl,Tl=n),Object.defineProperty(Nl.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(Nl.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("thematic-break")},0]}}},enumerable:!1,configurable:!0}),Nl.prototype.hr=function(){return function(){return function(e,t){var n=e.selection,r=e.schema,e=e.tr,n=m(n),o=n.from,i=n.to,n=n.endToOffset,r=ts(r,"***");return e.split(o).replaceWith(e.mapping.map(o),e.mapping.map(i),r).split(e.mapping.map(i)).setSelection(b(e,e.mapping.map(n))),t(e),!0}}},Nl.prototype.commands=function(){return{hr:this.hr()}},Nl.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},Nl);function Nl(){return null!==Tl&&Tl.apply(this,arguments)||this}function Ol(){return null!==Ml&&Ml.apply(this,arguments)||this}r(Ll,Dl=n),Object.defineProperty(Ll.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(Ll.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(e){var e=e.attrs,t=e.odd,n=e.even,r="list-item";return e.listStyle&&(r+="|list-item-style"),t&&(r+="|list-item-odd"),n&&(r+="|list-item-even"),["span",{class:i.apply(void 0,r.split("|"))},0]}}},enumerable:!1,configurable:!0}),Ll.prototype.extendList=function(){var p=this;return function(e,t){var n=e.selection,r=e.doc,o=e.schema,e=e.tr,i=p.context.toastMark,s=m(n),a=s.to,l=s.startFromOffset,c=s.endFromOffset,u=s.endIndex,s=s.endToOffset,d=za(r,u);return!(!$a.test(d)||n.from===l||!n.empty||(d.replace(Wa,"").trim()?(l=Xa(d),n=i.findFirstNodeAtLine(u+1),d=d.slice(a-c),i=(l=ol[l]({toastMark:i,mdNode:n,doc:r,line:u+1})).listSyntax,null!=(n=l.changedResults)&&n.length?(e.split(a),n.unshift({text:i+d,line:u+1}),p.changeToListPerLine(e,n,{from:a,startLine:n[0].line,endLine:lt(n).line}),r=e.mapping.map(s)-d.length,e.setSelection(b(e,r))):is(e,s,d,ts(o,i+d))):e.deleteRange(c,s).split(e.mapping.map(s)),t(e),0))}},Ll.prototype.toList=function(h){var f=this;return function(){return function(e,t){for(var n=e.doc,r=e.tr,e=e.selection,o=f.context.toastMark,e=m(e),i=e.startIndex+1,s=e.endIndex+1,a=e.endToOffset,l=[],c=i;c<=s;c+=1){var u,d,p=o.findFirstNodeAtLine(c);if(p&&(u=c,d=void 0,d=p.type,u<=p.sourcepos[0][0])&&("codeBlock"===d||"heading"===d||d.match("table")))break;-1===l.indexOf(c)&&(u=(us(p)?nl:rl)[h]({toastMark:o,mdNode:p,doc:n,line:c,startLine:i}).changedResults,d=f.changeToListPerLine(r,u,{from:ga(n,u[0].line-1).startOffset,startLine:u[0].line,endLine:lt(u).line,indexDiff:1}),a=Math.max(d,a),u)&&(l=l.concat(u.map(function(e){return e.line})))}return t(r.setSelection(b(r,r.mapping.map(a)))),!0}}},Ll.prototype.changeToListPerLine=function(s,a,e){for(var l=e.from,t=e.startLine,n=e.endLine,e=e.indexDiff,c=void 0===e?0:e,u=0,d=this,r=t-c;r<=n-c;r+=1)!function(t){var e=s.doc.child(t),n=e.nodeSize,e=e.content,r=s.mapping.map(l),o=r+e.size,i=a.filter(function(e){return e.line-c===t})[0];i&&(s.replaceWith(r,o,ts(d.context.schema,i.text)),u=Math.max(u,l+e.size)),l+=n}(r);return u},Ll.prototype.toggleTask=function(){var f=this;return function(e,t){for(var n=e.selection,r=e.tr,o=e.doc,i=e.schema,s=f.context.toastMark,e=m(n),n=e.startIndex,a=e.endIndex,l=null,c=n;c<=a;c+=1){var u,d,p,h=s.findFirstNodeAtLine(c+1);us(h)&&h.listData.task&&(d=(u=h.listData).checked,u=u.padding,d=d?" ":"x",p=ga(o,(h=h.sourcepos[0])[0]-1).startOffset,p+=h[1]+u,l=r.replaceWith(p,p+1,i.text(d)))}return!!l&&(t(l),!0)}},Ll.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},Ll.prototype.keymaps=function(){var e=this.toList("bullet")(),t=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":e,"Mod-U":e,"Mod-o":t,"Mod-O":t,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}};var Dl,Al=Ll;function Ll(){return null!==Dl&&Dl.apply(this,arguments)||this}function Il(p,h){return function(){return function(e,t){var n=e.tr,e=e.selection,r=oa()(p)?p:function(e){return p.test(e)},o=h.length,i=n.doc,s=ua(e),a=s[0],s=s[1],l=Math.max(a-o,1),c=Math.min(s+o,i.content.size-1),u=e.content(),u=u.content.textBetween(0,u.content.size,"\n"),d=i.textBetween(l,a,"\n"),i=i.textBetween(s,c,"\n");return d&&i&&r(""+d+u+i)?n.delete(c-o,c).delete(l,l+o):(n.insertText(h,s).insertText(h,a),r=e.empty?b(n,a+o):b(n,a+o,s+o),n.setSelection(r)),t(n),!0}}}var Rl,Pl,Bl,Fl,Hl,zl,ql,Vl,jl,$l,_l,Ul,Wl=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,Jl=(r(kc,Ul=n),Object.defineProperty(kc.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(kc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("strong")},0]}}},enumerable:!1,configurable:!0}),kc.prototype.bold=function(){return Il(Wl,"**")},kc.prototype.commands=function(){return{bold:this.bold()}},kc.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},kc),Gl=/^(~{2}).*([\s\S]*)\1$/m,Kl=(r(wc,_l=n),Object.defineProperty(wc.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(wc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("strike")},0]}}},enumerable:!1,configurable:!0}),wc.prototype.commands=function(){return Il(Gl,"~~")},wc.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},wc),Zl=/^(\*|_).*([\s\S]*)\1$/m,Xl=(r(bc,$l=n),Object.defineProperty(bc.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(bc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("emph")},0]}}},enumerable:!1,configurable:!0}),bc.prototype.italic=function(){return Il(Zl,"*")},bc.prototype.commands=function(){return{italic:this.italic()}},bc.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},bc),Ql=/^(`).*([\s\S]*)\1$/m,Yl=(r(yc,jl=n),Object.defineProperty(yc.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(yc.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(e){var e=e.attrs,t="code";return e.start&&(t+="|delimiter|start"),e.end&&(t+="|delimiter|end"),e.marked&&(t+="|marked-text"),["span",{class:i.apply(void 0,t.split("|"))},0]}}},enumerable:!1,configurable:!0}),yc.prototype.commands=function(){return Il(Ql,"`")},yc.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},yc),ec=(r(vc,Vl=n),Object.defineProperty(vc.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(vc.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(e){var e=e.attrs,t="link";return e.url&&(t+="|link-url|marked-text"),e.desc&&(t+="|link-desc|marked-text"),["span",{class:i.apply(void 0,t.split("|"))},0]}}},enumerable:!1,configurable:!0}),vc.prototype.addLinkOrImage=function(d){return function(u){return function(e,t){var n=e.selection,r=e.tr,e=e.schema,n=ua(n),o=n[0],n=n[1],i=u.linkText,s=u.altText,a=u.linkUrl,l=u.imageUrl,c="";return"image"===d&&(i=s,a=l,c="!"),c+="["+(i=ot(i))+"]("+a+")",t(r.replaceWith(o,n,ts(e,c))),!0}}},vc.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},vc),tc=(r(gc,ql=n),Object.defineProperty(gc.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(gc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),gc),nc=(r(mc,zl=n),Object.defineProperty(mc.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(mc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("delimiter")},0]}}},enumerable:!1,configurable:!0}),mc),rc=(r(fc,Hl=n),Object.defineProperty(fc.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(fc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("meta")},0]}}},enumerable:!1,configurable:!0}),fc),oc=(r(hc,Fl=n),Object.defineProperty(hc.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(hc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("marked-text")},0]}}},enumerable:!1,configurable:!0}),hc),ic=(r(pc,Bl=n),Object.defineProperty(pc.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(pc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("table-cell")},0]}}},enumerable:!1,configurable:!0}),pc),sc=(r(dc,Pl=n),Object.defineProperty(dc.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(dc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("html")},0]}}},enumerable:!1,configurable:!0}),dc),ac=(r(uc,Rl=n),Object.defineProperty(uc.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(uc.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:i("custom-block")},0]}}},enumerable:!1,configurable:!0}),uc.prototype.commands=function(){return function(a){return function(e,t){var n,r,o=e.selection,i=e.schema,e=e.tr,o=m(o),s=o.startFromOffset,o=o.endToOffset;return!(null==a||!a.info||(r=ts(i,n="$$"+a.info),i=ts(i,"$$"),e.insert(s,r).split(s+n.length),e.split(e.mapping.map(o)).insert(e.mapping.map(o),i),t(e.setSelection(b(e,e.mapping.map(o)-("$$".length+2)))),0))}}},uc),lc=/x|backspace/i,cc=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function uc(){return null!==Rl&&Rl.apply(this,arguments)||this}function dc(){return null!==Pl&&Pl.apply(this,arguments)||this}function pc(){return null!==Bl&&Bl.apply(this,arguments)||this}function hc(){return null!==Fl&&Fl.apply(this,arguments)||this}function fc(){return null!==Hl&&Hl.apply(this,arguments)||this}function mc(){return null!==zl&&zl.apply(this,arguments)||this}function gc(){return null!==ql&&ql.apply(this,arguments)||this}function vc(){return null!==Vl&&Vl.apply(this,arguments)||this}function yc(){return null!==jl&&jl.apply(this,arguments)||this}function bc(){return null!==$l&&$l.apply(this,arguments)||this}function wc(){return null!==_l&&_l.apply(this,arguments)||this}function kc(){return null!==Ul&&Ul.apply(this,arguments)||this}var xc=/\r\n|\n|\r/;r(a,Cc=e),a.prototype.toggleActive=function(e,t){qs(this.el,"active",e),e?t||this.focus():this.blur()},a.prototype.createClipboard=function(){var n=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=h("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(e){var t=e.clipboardData||window.clipboardData,t=t&&t.items;t&&!Qo()(t).some(function(e){return"string"===e.kind&&"text/rtf"===e.type})&&(t=Qs(t))&&(e.preventDefault(),Xs(n.eventEmitter,t,e.type))}),this.clipboard.addEventListener("input",function(e){var t=e.target.value;n.replaceSelection(t),e.preventDefault(),e.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},a.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},a.prototype.createSpecs=function(){return new la([new Ra,new hl,new na,new fl,new gl,new ja,new vl,new ac,new El,new ic,new Sl,new Al,new Jl,new Kl,new Xl,new Yl,new ec,new nc,new tc,new oc,new rc,new sc])},a.prototype.createPlugins=function(){return B([Aa(this.context),(e=this.context,o=e.toastMark,i=e.eventEmitter,new on({view:function(){return{update:function(e,t){var e=e.state,n=e.doc,r=e.selection;t&&t.doc.eq(n)&&t.selection.eq(r)||(r=(n=r.from)-(t=e.doc.resolve(n).start()),n===t&&(r+=1),t=[e.doc.content.findIndex(n).index+1,r],n=Ia(e=o.findNodeAtPosition(t)),i.emit("changeToolbarState",{cursorPos:t,mdNode:e,toolbarState:n}),i.emit("setFocusedNode",e))}}}})),(e=this.context,a=e.schema,l=e.toastMark,new on({props:{handleDOMEvents:{keyup:function(e,t){var n,r,o=e.state,i=o.doc,s=o.tr,o=o.selection;return o.empty&&lc.test(t.key)&&(o=(t=m(o)).startIndex,r=t.startFromOffset,o=[o+1,t.from-r+1],null!=(r=null==(t=hs(l.findNodeAtPosition(o),function(e){return"paragraph"===e.type&&"item"===(null==(e=e.parent)?void 0:e.type)}))?void 0:t.firstChild))&&r.literal&&(r=(o=t.firstChild).literal.match(cc))&&(t=o.sourcepos[0],o=r[1],n=r[2],r=r[3],o=o.length+r.length,r=ga(i,t[0]-1).startOffset,i=t[1]+r,n?(s.replaceWith(i,(o?o+1:0)+i,a.text(n)),e.dispatch(s)):o||(s.insertText(" ",i),e.dispatch(s))),!1}}}}))],this.createPluginProps()).concat(this.defaultPlugins);var o,i,e,a,l},a.prototype.createView=function(){var n=this;return new Uo(this.el,{state:this.createState(),dispatchTransaction:function(e){n.updateMarkdown(e);var t=n.view.state.applyTransaction(e).state;n.view.updateState(t),n.emitChangeEvent(e)},handleKeyDown:function(e,t){return(t.metaKey||t.ctrlKey)&&"V"===t.key.toUpperCase()&&n.clipboard.focus(),n.eventEmitter.emit("keydown",n.editorType,t),!1},handleDOMEvents:{copy:function(e,t){return n.captureCopy(t)},cut:function(e,t){return n.captureCopy(t,"cut")},scroll:function(){return n.eventEmitter.emit("scroll","editor"),!0},keyup:function(e,t){return n.eventEmitter.emit("keyup",n.editorType,t),!1}},nodeViews:{widget:ea}})},a.prototype.createCommands=function(){return this.specs.commands(this.view)},a.prototype.captureCopy=function(e,t){e.preventDefault();var n=this.view.state,r=n.selection,n=n.tr;return r.empty||(r=this.getChanged(r.content()),e.clipboardData?e.clipboardData.setData("text/plain",r):window.clipboardData.setData("Text",r),"cut"===t&&this.view.dispatch(n.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))),!0},a.prototype.updateMarkdown=function(r){var o=this;r.docChanged&&r.steps.forEach(function(e,t){var n;!e.slice||e instanceof St||(n=(t=ha(r.docs[t],(t=[e.from,e.to])[0],t[1]))[0],t=t[1],e=o.getChanged(e.slice),n[0]===t[0]&&n[1]===t[1]&&""===e&&(e="\n"),n=o.toastMark.editMarkdown(n,t,e),o.eventEmitter.emit("updatePreview",n),r.setMeta("editResult",n).scrollIntoView())})},a.prototype.getChanged=function(e){var n="",r=e.content.size;return e.content.nodesBetween(0,r,function(e,t){e.isText?n+=e.text.slice(Math.max(0,t)-t,r-t):e.isBlock&&0<t&&(n+="\n")}),n},a.prototype.setSelection=function(e,t){var n=this.view.state.tr,e=ma(n.doc,e,t=void 0===t?e:t),t=e[0],e=e[1];this.view.dispatch(n.setSelection(b(n,t,e)).scrollIntoView())},a.prototype.replaceSelection=function(e,t,n){var r=this.view.state,o=r.tr,i=r.schema,r=r.doc,e=e.split(xc).map(function(e){return es(i,Cs(e,i))}),e=new Z(C.from(e),1,1);this.focus(),r=t&&n?(t=(r=ma(r,t,n))[0],n=r[1],o.replaceRange(t,n,e)):o.replaceSelection(e),this.view.dispatch(r.scrollIntoView())},a.prototype.deleteSelection=function(e,t){var n=this.view.state,r=n.tr,n=n.doc;n=e&&t?(e=(n=ma(n,e,t))[0],t=n[1],r.deleteRange(e,t)):r.deleteSelection(),this.view.dispatch(n.scrollIntoView())},a.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,n=n.selection,o=n.from,n=n.to;return e&&t&&(o=(e=ma(r,e,t))[0],n=e[1]),r.textBetween(o,n,"\n")},a.prototype.getSelection=function(){var e=this.view.state.selection,t=e.from,e=e.to;return ha(this.view.state.tr.doc,t,e)},a.prototype.setMarkdown=function(e,t){void 0===t&&(t=!0);var e=e.split(xc),n=this.view.state,r=n.tr,o=n.doc,i=n.schema,n=e.map(function(e){return es(i,Cs(e,i))});this.view.dispatch(r.replaceWith(0,o.content.size,n)),t&&this.moveCursorToEnd(!0)},a.prototype.addWidget=function(e,t,n){var r=this.view.state,o=r.tr,i=r.doc,r=r.selection,i=n?ma(i,n,n)[0]:r.to;this.view.dispatch(o.setMeta("widget",{pos:i,node:e,style:t}))},a.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,o=r.tr,i=r.schema,r=ma(r.doc,e,t),e=Cs(n,i);this.view.dispatch(o.replaceWith(r[0],r[1],e))},a.prototype.getRangeInfoOfNode=function(e){var t=this.view.state,n=t.doc,t=t.selection,e=e||ha(n,t.from)[0],n=this.toastMark.findNodeAtPosition(e);return(n="text"===n.type&&"paragraph"!==n.parent.type?n.parent:n).sourcepos[1][1]+=1,{range:n.sourcepos,type:n.type}},a.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(bs).join("\n")},a.prototype.getToastMark=function(){return this.toastMark};var Cc,Tc=a,t=l0(349),Mc=l0.n(t),t=l0(348),Ec=l0.n(t),Sc=function(e,t){return(Sc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)};function a(e,t){var n=Cc.call(this,e)||this,e=t.toastMark,r=t.useCommandShortcut,r=void 0===r||r,t=t.mdPlugins,t=void 0===t?[]:t;return n.editorType="markdown",n.el.classList.add("md-mode"),n.toastMark=e,n.extraPlugins=t,n.specs=n.createSpecs(),n.schema=n.createSchema(),n.context=n.createContext(),n.keymaps=n.createKeymaps(r),n.view=n.createView(),n.commands=n.createCommands(),n.specs.setContext(x(x({},n.context),{view:n.view})),n.createClipboard(),n.eventEmitter.listen("changePreviewTabWrite",function(e){return n.toggleActive(!0,e)}),n.eventEmitter.listen("changePreviewTabPreview",function(){return n.toggleActive(!1)}),n.initEvent(),n}function Nc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Sc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Oc=function(){return(Oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Dc(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==l0.g?l0.g:"undefined"!=typeof self?self:{},Ac={};function Lc(e,t,n){var r,o,i,s,a="";for("string"!=typeof t&&(n=t,t=Lc.defaultChars),void 0===n&&(n=!0),s=function(e){var t,n,r=Ac[e];if(!r){for(r=Ac[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t]}return r}(t),r=0,o=e.length;r<o;r++)if(i=e.charCodeAt(r),n&&37===i&&r+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))a+=e.slice(r,r+3),r+=2;else if(i<128)a+=s[i];else if(55296<=i&&i<=57343){if(55296<=i&&i<=56319&&r+1<o&&56320<=(i=e.charCodeAt(r+1))&&i<=57343){a+=encodeURIComponent(e[r]+e[r+1]),r++;continue}a+="%EF%BF%BD"}else a+=encodeURIComponent(e[r]);return a}Lc.defaultChars=";/?:@&=+$,-_.!~*'()#",Lc.componentChars="-_.!~*'()";var Ic=Lc,Rc={},Pc={},Bc={Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä",abreve:"Ä",ac:"â¾",acd:"â¿",acE:"â¾Ì³",Acirc:"Ã",acirc:"Ã¢",acute:"Â´",Acy:"Ð",acy:"Ð°",AElig:"Ã",aelig:"Ã¦",af:"â¡",Afr:"ð",afr:"ð",Agrave:"Ã",agrave:"Ã ",alefsym:"âµ",aleph:"âµ",Alpha:"Î",alpha:"Î±",Amacr:"Ä",amacr:"Ä",amalg:"â¨¿",amp:"&",AMP:"&",andand:"â©",And:"â©",and:"â§",andd:"â©",andslope:"â©",andv:"â©",ang:"â ",ange:"â¦¤",angle:"â ",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angmsd:"â¡",angrt:"â",angrtvb:"â¾",angrtvbd:"â¦",angsph:"â¢",angst:"Ã",angzarr:"â¼",Aogon:"Ä",aogon:"Ä",Aopf:"ð¸",aopf:"ð",apacir:"â©¯",ap:"â",apE:"â©°",ape:"â",apid:"â",apos:"'",ApplyFunction:"â¡",approx:"â",approxeq:"â",Aring:"Ã",aring:"Ã¥",Ascr:"ð",ascr:"ð¶",Assign:"â",ast:"*",asymp:"â",asympeq:"â",Atilde:"Ã",atilde:"Ã£",Auml:"Ã",auml:"Ã¤",awconint:"â³",awint:"â¨",backcong:"â",backepsilon:"Ï¶",backprime:"âµ",backsim:"â½",backsimeq:"â",Backslash:"â",Barv:"â«§",barvee:"â½",barwed:"â",Barwed:"â",barwedge:"â",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â",Bcy:"Ð",bcy:"Ð±",bdquo:"â",becaus:"âµ",because:"âµ",Because:"âµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â¬",Bernoullis:"â¬",Beta:"Î",beta:"Î²",beth:"â¶",between:"â¬",Bfr:"ð",bfr:"ð",bigcap:"â",bigcirc:"â¯",bigcup:"â",bigodot:"â¨",bigoplus:"â¨",bigotimes:"â¨",bigsqcup:"â¨",bigstar:"â",bigtriangledown:"â½",bigtriangleup:"â³",biguplus:"â¨",bigvee:"â",bigwedge:"â",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"âª",blacktriangle:"â´",blacktriangledown:"â¾",blacktriangleleft:"â",blacktriangleright:"â¸",blank:"â£",blk12:"â",blk14:"â",blk34:"â",block:"â",bne:"=â¥",bnequiv:"â¡â¥",bNot:"â«­",bnot:"â",Bopf:"ð¹",bopf:"ð",bot:"â¥",bottom:"â¥",bowtie:"â",boxbox:"â§",boxdl:"â",boxdL:"â",boxDl:"â",boxDL:"â",boxdr:"â",boxdR:"â",boxDr:"â",boxDR:"â",boxh:"â",boxH:"â",boxhd:"â¬",boxHd:"â¤",boxhD:"â¥",boxHD:"â¦",boxhu:"â´",boxHu:"â§",boxhU:"â¨",boxHU:"â©",boxminus:"â",boxplus:"â",boxtimes:"â ",boxul:"â",boxuL:"â",boxUl:"â",boxUL:"â",boxur:"â",boxuR:"â",boxUr:"â",boxUR:"â",boxv:"â",boxV:"â",boxvh:"â¼",boxvH:"âª",boxVh:"â«",boxVH:"â¬",boxvl:"â¤",boxvL:"â¡",boxVl:"â¢",boxVL:"â£",boxvr:"â",boxvR:"â",boxVr:"â",boxVR:"â ",bprime:"âµ",breve:"Ë",Breve:"Ë",brvbar:"Â¦",bscr:"ð·",Bscr:"â¬",bsemi:"â",bsim:"â½",bsime:"â",bsolb:"â§",bsol:"\\",bsolhsub:"â",bull:"â¢",bullet:"â¢",bump:"â",bumpE:"âª®",bumpe:"â",Bumpeq:"â",bumpeq:"â",Cacute:"Ä",cacute:"Ä",capand:"â©",capbrcup:"â©",capcap:"â©",cap:"â©",Cap:"â",capcup:"â©",capdot:"â©",CapitalDifferentialD:"â",caps:"â©ï¸",caret:"â",caron:"Ë",Cayleys:"â­",ccaps:"â©",Ccaron:"Ä",ccaron:"Ä",Ccedil:"Ã",ccedil:"Ã§",Ccirc:"Ä",ccirc:"Ä",Cconint:"â°",ccups:"â©",ccupssm:"â©",Cdot:"Ä",cdot:"Ä",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",centerdot:"Â·",CenterDot:"Â·",cfr:"ð ",Cfr:"â­",CHcy:"Ð§",chcy:"Ñ",check:"â",checkmark:"â",Chi:"Î§",chi:"Ï",circ:"Ë",circeq:"â",circlearrowleft:"âº",circlearrowright:"â»",circledast:"â",circledcirc:"â",circleddash:"â",CircleDot:"â",circledR:"Â®",circledS:"â",CircleMinus:"â",CirclePlus:"â",CircleTimes:"â",cir:"â",cirE:"â§",cire:"â",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§",ClockwiseContourIntegral:"â²",CloseCurlyDoubleQuote:"â",CloseCurlyQuote:"â",clubs:"â£",clubsuit:"â£",colon:":",Colon:"â·",Colone:"â©´",colone:"â",coloneq:"â",comma:",",commat:"@",comp:"â",compfn:"â",complement:"â",complexes:"â",cong:"â",congdot:"â©­",Congruent:"â¡",conint:"â®",Conint:"â¯",ContourIntegral:"â®",copf:"ð",Copf:"â",coprod:"â",Coproduct:"â",copy:"Â©",COPY:"Â©",copysr:"â",CounterClockwiseContourIntegral:"â³",crarr:"âµ",cross:"â",Cross:"â¨¯",Cscr:"ð",cscr:"ð¸",csub:"â«",csube:"â«",csup:"â«",csupe:"â«",ctdot:"â¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â",cuesc:"â",cularr:"â¶",cularrp:"â¤½",cupbrcap:"â©",cupcap:"â©",CupCap:"â",cup:"âª",Cup:"â",cupcup:"â©",cupdot:"â",cupor:"â©",cups:"âªï¸",curarr:"â·",curarrm:"â¤¼",curlyeqprec:"â",curlyeqsucc:"â",curlyvee:"â",curlywedge:"â",curren:"Â¤",curvearrowleft:"â¶",curvearrowright:"â·",cuvee:"â",cuwed:"â",cwconint:"â²",cwint:"â±",cylcty:"â­",dagger:"â ",Dagger:"â¡",daleth:"â¸",darr:"â",Darr:"â¡",dArr:"â",dash:"â",Dashv:"â«¤",dashv:"â£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ð",dcy:"Ð´",ddagger:"â¡",ddarr:"â",DD:"â",dd:"â",DDotrahd:"â¤",ddotseq:"â©·",deg:"Â°",Del:"â",Delta:"Î",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ð",dfr:"ð¡",dHar:"â¥¥",dharl:"â",dharr:"â",DiacriticalAcute:"Â´",DiacriticalDot:"Ë",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ë",diam:"â",diamond:"â",Diamond:"â",diamondsuit:"â¦",diams:"â¦",die:"Â¨",DifferentialD:"â",digamma:"Ï",disin:"â²",div:"Ã·",divide:"Ã·",divideontimes:"â",divonx:"â",DJcy:"Ð",djcy:"Ñ",dlcorn:"â",dlcrop:"â",dollar:"$",Dopf:"ð»",dopf:"ð",Dot:"Â¨",dot:"Ë",DotDot:"â",doteq:"â",doteqdot:"â",DotEqual:"â",dotminus:"â¸",dotplus:"â",dotsquare:"â¡",doublebarwedge:"â",DoubleContourIntegral:"â¯",DoubleDot:"Â¨",DoubleDownArrow:"â",DoubleLeftArrow:"â",DoubleLeftRightArrow:"â",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"â¸",DoubleLongLeftRightArrow:"âº",DoubleLongRightArrow:"â¹",DoubleRightArrow:"â",DoubleRightTee:"â¨",DoubleUpArrow:"â",DoubleUpDownArrow:"â",DoubleVerticalBar:"â¥",DownArrowBar:"â¤",downarrow:"â",DownArrow:"â",Downarrow:"â",DownArrowUpArrow:"âµ",DownBreve:"Ì",downdownarrows:"â",downharpoonleft:"â",downharpoonright:"â",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVectorBar:"â¥",DownLeftVector:"â½",DownRightTeeVector:"â¥",DownRightVectorBar:"â¥",DownRightVector:"â",DownTeeArrow:"â§",DownTee:"â¤",drbkarow:"â¤",drcorn:"â",drcrop:"â",Dscr:"ð",dscr:"ð¹",DScy:"Ð",dscy:"Ñ",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä",dtdot:"â±",dtri:"â¿",dtrif:"â¾",duarr:"âµ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"Ñ",dzigrarr:"â¿",Eacute:"Ã",eacute:"Ã©",easter:"â©®",Ecaron:"Ä",ecaron:"Ä",Ecirc:"Ã",ecirc:"Ãª",ecir:"â",ecolon:"â",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä",edot:"Ä",eDot:"â",ee:"â",efDot:"â",Efr:"ð",efr:"ð¢",eg:"âª",Egrave:"Ã",egrave:"Ã¨",egs:"âª",egsdot:"âª",el:"âª",Element:"â",elinters:"â§",ell:"â",els:"âª",elsdot:"âª",Emacr:"Ä",emacr:"Ä",empty:"â",emptyset:"â",EmptySmallSquare:"â»",emptyv:"â",EmptyVerySmallSquare:"â«",emsp13:"â",emsp14:"â",emsp:"â",ENG:"Å",eng:"Å",ensp:"â",Eogon:"Ä",eogon:"Ä",Eopf:"ð¼",eopf:"ð",epar:"â",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â",eqcolon:"â",eqsim:"â",eqslantgtr:"âª",eqslantless:"âª",Equal:"â©µ",equals:"=",EqualTilde:"â",equest:"â",Equilibrium:"â",equiv:"â¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â",escr:"â¯",Escr:"â°",esdot:"â",Esim:"â©³",esim:"â",Eta:"Î",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã",euml:"Ã«",euro:"â¬",excl:"!",exist:"â",Exists:"â",expectation:"â°",exponentiale:"â",ExponentialE:"â",fallingdotseq:"â",Fcy:"Ð¤",fcy:"Ñ",female:"â",ffilig:"ï¬",fflig:"ï¬",ffllig:"ï¬",Ffr:"ð",ffr:"ð£",filig:"ï¬",FilledSmallSquare:"â¼",FilledVerySmallSquare:"âª",fjlig:"fj",flat:"â­",fllig:"ï¬",fltns:"â±",fnof:"Æ",Fopf:"ð½",fopf:"ð",forall:"â",ForAll:"â",fork:"â",forkv:"â«",Fouriertrf:"â±",fpartint:"â¨",frac12:"Â½",frac13:"â",frac14:"Â¼",frac15:"â",frac16:"â",frac18:"â",frac23:"â",frac25:"â",frac34:"Â¾",frac35:"â",frac38:"â",frac45:"â",frac56:"â",frac58:"â",frac78:"â",frasl:"â",frown:"â¢",fscr:"ð»",Fscr:"â±",gacute:"Çµ",Gamma:"Î",gamma:"Î³",Gammad:"Ï",gammad:"Ï",gap:"âª",Gbreve:"Ä",gbreve:"Ä",Gcedil:"Ä¢",Gcirc:"Ä",gcirc:"Ä",Gcy:"Ð",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",ge:"â¥",gE:"â§",gEl:"âª",gel:"â",geq:"â¥",geqq:"â§",geqslant:"â©¾",gescc:"âª©",ges:"â©¾",gesdot:"âª",gesdoto:"âª",gesdotol:"âª",gesl:"âï¸",gesles:"âª",Gfr:"ð",gfr:"ð¤",gg:"â«",Gg:"â",ggg:"â",gimel:"â·",GJcy:"Ð",gjcy:"Ñ",gla:"âª¥",gl:"â·",glE:"âª",glj:"âª¤",gnap:"âª",gnapprox:"âª",gne:"âª",gnE:"â©",gneq:"âª",gneqq:"â©",gnsim:"â§",Gopf:"ð¾",gopf:"ð",grave:"`",GreaterEqual:"â¥",GreaterEqualLess:"â",GreaterFullEqual:"â§",GreaterGreater:"âª¢",GreaterLess:"â·",GreaterSlantEqual:"â©¾",GreaterTilde:"â³",Gscr:"ð¢",gscr:"â",gsim:"â³",gsime:"âª",gsiml:"âª",gtcc:"âª§",gtcir:"â©º",gt:">",GT:">",Gt:"â«",gtdot:"â",gtlPar:"â¦",gtquest:"â©¼",gtrapprox:"âª",gtrarr:"â¥¸",gtrdot:"â",gtreqless:"â",gtreqqless:"âª",gtrless:"â·",gtrsim:"â³",gvertneqq:"â©ï¸",gvnE:"â©ï¸",Hacek:"Ë",hairsp:"â",half:"Â½",hamilt:"â",HARDcy:"Ðª",hardcy:"Ñ",harrcir:"â¥",harr:"â",hArr:"â",harrw:"â­",Hat:"^",hbar:"â",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â¥",heartsuit:"â¥",hellip:"â¦",hercon:"â¹",hfr:"ð¥",Hfr:"â",HilbertSpace:"â",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â¿",homtht:"â»",hookleftarrow:"â©",hookrightarrow:"âª",hopf:"ð",Hopf:"â",horbar:"â",HorizontalLine:"â",hscr:"ð½",Hscr:"â",hslash:"â",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â",HumpEqual:"â",hybull:"â",hyphen:"â",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ð",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð",iecy:"Ðµ",iexcl:"Â¡",iff:"â",ifr:"ð¦",Ifr:"â",Igrave:"Ã",igrave:"Ã¬",ii:"â",iiiint:"â¨",iiint:"â­",iinfin:"â§",iiota:"â©",IJlig:"Ä²",ijlig:"Ä³",Imacr:"Äª",imacr:"Ä«",image:"â",ImaginaryI:"â",imagline:"â",imagpart:"â",imath:"Ä±",Im:"â",imof:"â·",imped:"Æµ",Implies:"â",incare:"â",in:"â",infin:"â",infintie:"â§",inodot:"Ä±",intcal:"âº",int:"â«",Int:"â¬",integers:"â¤",Integral:"â«",intercal:"âº",Intersection:"â",intlarhk:"â¨",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ð",iopf:"ð",Iota:"Î",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",iscr:"ð¾",Iscr:"â",isin:"â",isindot:"âµ",isinE:"â¹",isins:"â´",isinsv:"â³",isinv:"â",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð",iukcy:"Ñ",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð",jcy:"Ð¹",Jfr:"ð",jfr:"ð§",jmath:"È·",Jopf:"ð",jopf:"ð",Jscr:"ð¥",jscr:"ð¿",Jsercy:"Ð",jsercy:"Ñ",Jukcy:"Ð",jukcy:"Ñ",Kappa:"Î",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ð",kcy:"Ðº",Kfr:"ð",kfr:"ð¨",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ",KJcy:"Ð",kjcy:"Ñ",Kopf:"ð",kopf:"ð",Kscr:"ð¦",kscr:"ð",lAarr:"â",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â",Lambda:"Î",lambda:"Î»",lang:"â¨",Lang:"âª",langd:"â¦",langle:"â¨",lap:"âª",Laplacetrf:"â",laquo:"Â«",larrb:"â¤",larrbfs:"â¤",larr:"â",Larr:"â",lArr:"â",larrfs:"â¤",larrhk:"â©",larrlp:"â«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â¢",latail:"â¤",lAtail:"â¤",lat:"âª«",late:"âª­",lates:"âª­ï¸",lbarr:"â¤",lBarr:"â¤",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"â",lcub:"{",Lcy:"Ð",lcy:"Ð»",ldca:"â¤¶",ldquo:"â",ldquor:"â",ldrdhar:"â¥§",ldrushar:"â¥",ldsh:"â²",le:"â¤",lE:"â¦",LeftAngleBracket:"â¨",LeftArrowBar:"â¤",leftarrow:"â",LeftArrow:"â",Leftarrow:"â",LeftArrowRightArrow:"â",leftarrowtail:"â¢",LeftCeiling:"â",LeftDoubleBracket:"â¦",LeftDownTeeVector:"â¥¡",LeftDownVectorBar:"â¥",LeftDownVector:"â",LeftFloor:"â",leftharpoondown:"â½",leftharpoonup:"â¼",leftleftarrows:"â",leftrightarrow:"â",LeftRightArrow:"â",Leftrightarrow:"â",leftrightarrows:"â",leftrightharpoons:"â",leftrightsquigarrow:"â­",LeftRightVector:"â¥",LeftTeeArrow:"â¤",LeftTee:"â£",LeftTeeVector:"â¥",leftthreetimes:"â",LeftTriangleBar:"â§",LeftTriangle:"â²",LeftTriangleEqual:"â´",LeftUpDownVector:"â¥",LeftUpTeeVector:"â¥ ",LeftUpVectorBar:"â¥",LeftUpVector:"â¿",LeftVectorBar:"â¥",LeftVector:"â¼",lEg:"âª",leg:"â",leq:"â¤",leqq:"â¦",leqslant:"â©½",lescc:"âª¨",les:"â©½",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âª",lesg:"âï¸",lesges:"âª",lessapprox:"âª",lessdot:"â",lesseqgtr:"â",lesseqqgtr:"âª",LessEqualGreater:"â",LessFullEqual:"â¦",LessGreater:"â¶",lessgtr:"â¶",LessLess:"âª¡",lesssim:"â²",LessSlantEqual:"â©½",LessTilde:"â²",lfisht:"â¥¼",lfloor:"â",Lfr:"ð",lfr:"ð©",lg:"â¶",lgE:"âª",lHar:"â¥¢",lhard:"â½",lharu:"â¼",lharul:"â¥ª",lhblk:"â",LJcy:"Ð",ljcy:"Ñ",llarr:"â",ll:"âª",Ll:"â",llcorner:"â",Lleftarrow:"â",llhard:"â¥«",lltri:"âº",Lmidot:"Ä¿",lmidot:"Å",lmoustache:"â°",lmoust:"â°",lnap:"âª",lnapprox:"âª",lne:"âª",lnE:"â¨",lneq:"âª",lneqq:"â¨",lnsim:"â¦",loang:"â¬",loarr:"â½",lobrk:"â¦",longleftarrow:"âµ",LongLeftArrow:"âµ",Longleftarrow:"â¸",longleftrightarrow:"â·",LongLeftRightArrow:"â·",Longleftrightarrow:"âº",longmapsto:"â¼",longrightarrow:"â¶",LongRightArrow:"â¶",Longrightarrow:"â¹",looparrowleft:"â«",looparrowright:"â¬",lopar:"â¦",Lopf:"ð",lopf:"ð",loplus:"â¨­",lotimes:"â¨´",lowast:"â",lowbar:"_",LowerLeftArrow:"â",LowerRightArrow:"â",loz:"â",lozenge:"â",lozf:"â§«",lpar:"(",lparlt:"â¦",lrarr:"â",lrcorner:"â",lrhar:"â",lrhard:"â¥­",lrm:"â",lrtri:"â¿",lsaquo:"â¹",lscr:"ð",Lscr:"â",lsh:"â°",Lsh:"â°",lsim:"â²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â",lsquor:"â",Lstrok:"Å",lstrok:"Å",ltcc:"âª¦",ltcir:"â©¹",lt:"<",LT:"<",Lt:"âª",ltdot:"â",lthree:"â",ltimes:"â",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â",ltrie:"â´",ltrif:"â",ltrPar:"â¦",lurdshar:"â¥",luruhar:"â¥¦",lvertneqq:"â¨ï¸",lvnE:"â¨ï¸",macr:"Â¯",male:"â",malt:"â ",maltese:"â ",Map:"â¤",map:"â¦",mapsto:"â¦",mapstodown:"â§",mapstoleft:"â¤",mapstoup:"â¥",marker:"â®",mcomma:"â¨©",Mcy:"Ð",mcy:"Ð¼",mdash:"â",mDDot:"âº",measuredangle:"â¡",MediumSpace:"â",Mellintrf:"â³",Mfr:"ð",mfr:"ðª",mho:"â§",micro:"Âµ",midast:"*",midcir:"â«°",mid:"â£",middot:"Â·",minusb:"â",minus:"â",minusd:"â¸",minusdu:"â¨ª",MinusPlus:"â",mlcp:"â«",mldr:"â¦",mnplus:"â",models:"â§",Mopf:"ð",mopf:"ð",mp:"â",mscr:"ð",Mscr:"â³",mstpos:"â¾",Mu:"Î",mu:"Î¼",multimap:"â¸",mumap:"â¸",nabla:"â",Nacute:"Å",nacute:"Å",nang:"â â",nap:"â",napE:"â©°Ì¸",napid:"âÌ¸",napos:"Å",napprox:"â",natural:"â®",naturals:"â",natur:"â®",nbsp:"Â ",nbump:"âÌ¸",nbumpe:"âÌ¸",ncap:"â©",Ncaron:"Å",ncaron:"Å",Ncedil:"Å",ncedil:"Å",ncong:"â",ncongdot:"â©­Ì¸",ncup:"â©",Ncy:"Ð",ncy:"Ð½",ndash:"â",nearhk:"â¤¤",nearr:"â",neArr:"â",nearrow:"â",ne:"â ",nedot:"âÌ¸",NegativeMediumSpace:"â",NegativeThickSpace:"â",NegativeThinSpace:"â",NegativeVeryThinSpace:"â",nequiv:"â¢",nesear:"â¤¨",nesim:"âÌ¸",NestedGreaterGreater:"â«",NestedLessLess:"âª",NewLine:"\n",nexist:"â",nexists:"â",Nfr:"ð",nfr:"ð«",ngE:"â§Ì¸",nge:"â±",ngeq:"â±",ngeqq:"â§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"âÌ¸",ngsim:"âµ",nGt:"â«â",ngt:"â¯",ngtr:"â¯",nGtv:"â«Ì¸",nharr:"â®",nhArr:"â",nhpar:"â«²",ni:"â",nis:"â¼",nisd:"âº",niv:"â",NJcy:"Ð",njcy:"Ñ",nlarr:"â",nlArr:"â",nldr:"â¥",nlE:"â¦Ì¸",nle:"â°",nleftarrow:"â",nLeftarrow:"â",nleftrightarrow:"â®",nLeftrightarrow:"â",nleq:"â°",nleqq:"â¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â®",nLl:"âÌ¸",nlsim:"â´",nLt:"âªâ",nlt:"â®",nltri:"âª",nltrie:"â¬",nLtv:"âªÌ¸",nmid:"â¤",NoBreak:"â ",NonBreakingSpace:"Â ",nopf:"ð",Nopf:"â",Not:"â«¬",not:"Â¬",NotCongruent:"â¢",NotCupCap:"â­",NotDoubleVerticalBar:"â¦",NotElement:"â",NotEqual:"â ",NotEqualTilde:"âÌ¸",NotExists:"â",NotGreater:"â¯",NotGreaterEqual:"â±",NotGreaterFullEqual:"â§Ì¸",NotGreaterGreater:"â«Ì¸",NotGreaterLess:"â¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"âµ",NotHumpDownHump:"âÌ¸",NotHumpEqual:"âÌ¸",notin:"â",notindot:"âµÌ¸",notinE:"â¹Ì¸",notinva:"â",notinvb:"â·",notinvc:"â¶",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangle:"âª",NotLeftTriangleEqual:"â¬",NotLess:"â®",NotLessEqual:"â°",NotLessGreater:"â¸",NotLessLess:"âªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"â",notniva:"â",notnivb:"â¾",notnivc:"â½",NotPrecedes:"â",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â ",NotReverseElement:"â",NotRightTriangleBar:"â§Ì¸",NotRightTriangle:"â«",NotRightTriangleEqual:"â­",NotSquareSubset:"âÌ¸",NotSquareSubsetEqual:"â¢",NotSquareSuperset:"âÌ¸",NotSquareSupersetEqual:"â£",NotSubset:"ââ",NotSubsetEqual:"â",NotSucceeds:"â",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â¡",NotSucceedsTilde:"â¿Ì¸",NotSuperset:"ââ",NotSupersetEqual:"â",NotTilde:"â",NotTildeEqual:"â",NotTildeFullEqual:"â",NotTildeTilde:"â",NotVerticalBar:"â¤",nparallel:"â¦",npar:"â¦",nparsl:"â«½â¥",npart:"âÌ¸",npolint:"â¨",npr:"â",nprcue:"â ",nprec:"â",npreceq:"âª¯Ì¸",npre:"âª¯Ì¸",nrarrc:"â¤³Ì¸",nrarr:"â",nrArr:"â",nrarrw:"âÌ¸",nrightarrow:"â",nRightarrow:"â",nrtri:"â«",nrtrie:"â­",nsc:"â",nsccue:"â¡",nsce:"âª°Ì¸",Nscr:"ð©",nscr:"ð",nshortmid:"â¤",nshortparallel:"â¦",nsim:"â",nsime:"â",nsimeq:"â",nsmid:"â¤",nspar:"â¦",nsqsube:"â¢",nsqsupe:"â£",nsub:"â",nsubE:"â«Ì¸",nsube:"â",nsubset:"ââ",nsubseteq:"â",nsubseteqq:"â«Ì¸",nsucc:"â",nsucceq:"âª°Ì¸",nsup:"â",nsupE:"â«Ì¸",nsupe:"â",nsupset:"ââ",nsupseteq:"â",nsupseteqq:"â«Ì¸",ntgl:"â¹",Ntilde:"Ã",ntilde:"Ã±",ntlg:"â¸",ntriangleleft:"âª",ntrianglelefteq:"â¬",ntriangleright:"â«",ntrianglerighteq:"â­",Nu:"Î",nu:"Î½",num:"#",numero:"â",numsp:"â",nvap:"ââ",nvdash:"â¬",nvDash:"â­",nVdash:"â®",nVDash:"â¯",nvge:"â¥â",nvgt:">â",nvHarr:"â¤",nvinfin:"â§",nvlArr:"â¤",nvle:"â¤â",nvlt:"<â",nvltrie:"â´â",nvrArr:"â¤",nvrtrie:"âµâ",nvsim:"â¼â",nwarhk:"â¤£",nwarr:"â",nwArr:"â",nwarrow:"â",nwnear:"â¤§",Oacute:"Ã",oacute:"Ã³",oast:"â",Ocirc:"Ã",ocirc:"Ã´",ocir:"â",Ocy:"Ð",ocy:"Ð¾",odash:"â",Odblac:"Å",odblac:"Å",odiv:"â¨¸",odot:"â",odsold:"â¦¼",OElig:"Å",oelig:"Å",ofcir:"â¦¿",Ofr:"ð",ofr:"ð¬",ogon:"Ë",Ograve:"Ã",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"â®",olarr:"âº",olcir:"â¦¾",olcross:"â¦»",oline:"â¾",olt:"â§",Omacr:"Å",omacr:"Å",Omega:"Î©",omega:"Ï",Omicron:"Î",omicron:"Î¿",omid:"â¦¶",ominus:"â",Oopf:"ð",oopf:"ð ",opar:"â¦·",OpenCurlyDoubleQuote:"â",OpenCurlyQuote:"â",operp:"â¦¹",oplus:"â",orarr:"â»",Or:"â©",or:"â¨",ord:"â©",order:"â´",orderof:"â´",ordf:"Âª",ordm:"Âº",origof:"â¶",oror:"â©",orslope:"â©",orv:"â©",oS:"â",Oscr:"ðª",oscr:"â´",Oslash:"Ã",oslash:"Ã¸",osol:"â",Otilde:"Ã",otilde:"Ãµ",otimesas:"â¨¶",Otimes:"â¨·",otimes:"â",Ouml:"Ã",ouml:"Ã¶",ovbar:"â½",OverBar:"â¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"â",para:"Â¶",parallel:"â¥",par:"â¥",parsim:"â«³",parsl:"â«½",part:"â",PartialD:"â",Pcy:"Ð",pcy:"Ð¿",percnt:"%",period:".",permil:"â°",perp:"â¥",pertenk:"â±",Pfr:"ð",pfr:"ð­",Phi:"Î¦",phi:"Ï",phiv:"Ï",phmmat:"â³",phone:"â",Pi:"Î ",pi:"Ï",pitchfork:"â",piv:"Ï",planck:"â",planckh:"â",plankv:"â",plusacir:"â¨£",plusb:"â",pluscir:"â¨¢",plus:"+",plusdo:"â",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â",pointint:"â¨",popf:"ð¡",Popf:"â",pound:"Â£",prap:"âª·",Pr:"âª»",pr:"âº",prcue:"â¼",precapprox:"âª·",prec:"âº",preccurlyeq:"â¼",Precedes:"âº",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â¼",PrecedesTilde:"â¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â¨",pre:"âª¯",prE:"âª³",precsim:"â¾",prime:"â²",Prime:"â³",primes:"â",prnap:"âª¹",prnE:"âªµ",prnsim:"â¨",prod:"â",Product:"â",profalar:"â®",profline:"â",profsurf:"â",prop:"â",Proportional:"â",Proportion:"â·",propto:"â",prsim:"â¾",prurel:"â°",Pscr:"ð«",pscr:"ð",Psi:"Î¨",psi:"Ï",puncsp:"â",Qfr:"ð",qfr:"ð®",qint:"â¨",qopf:"ð¢",Qopf:"â",qprime:"â",Qscr:"ð¬",qscr:"ð",quaternions:"â",quatint:"â¨",quest:"?",questeq:"â",quot:'"',QUOT:'"',rAarr:"â",race:"â½Ì±",Racute:"Å",racute:"Å",radic:"â",raemptyv:"â¦³",rang:"â©",Rang:"â«",rangd:"â¦",range:"â¦¥",rangle:"â©",raquo:"Â»",rarrap:"â¥µ",rarrb:"â¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarr:"â",Rarr:"â ",rArr:"â",rarrfs:"â¤",rarrhk:"âª",rarrlp:"â¬",rarrpl:"â¥",rarrsim:"â¥´",Rarrtl:"â¤",rarrtl:"â£",rarrw:"â",ratail:"â¤",rAtail:"â¤",ratio:"â¶",rationals:"â",rbarr:"â¤",rBarr:"â¤",RBarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å",rcaron:"Å",Rcedil:"Å",rcedil:"Å",rceil:"â",rcub:"}",Rcy:"Ð ",rcy:"Ñ",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â",rdquor:"â",rdsh:"â³",real:"â",realine:"â",realpart:"â",reals:"â",Re:"â",rect:"â­",reg:"Â®",REG:"Â®",ReverseElement:"â",ReverseEquilibrium:"â",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"â",rfr:"ð¯",Rfr:"â",rHar:"â¥¤",rhard:"â",rharu:"â",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"â©",RightArrowBar:"â¥",rightarrow:"â",RightArrow:"â",Rightarrow:"â",RightArrowLeftArrow:"â",rightarrowtail:"â£",RightCeiling:"â",RightDoubleBracket:"â§",RightDownTeeVector:"â¥",RightDownVectorBar:"â¥",RightDownVector:"â",RightFloor:"â",rightharpoondown:"â",rightharpoonup:"â",rightleftarrows:"â",rightleftharpoons:"â",rightrightarrows:"â",rightsquigarrow:"â",RightTeeArrow:"â¦",RightTee:"â¢",RightTeeVector:"â¥",rightthreetimes:"â",RightTriangleBar:"â§",RightTriangle:"â³",RightTriangleEqual:"âµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥",RightUpVectorBar:"â¥",RightUpVector:"â¾",RightVectorBar:"â¥",RightVector:"â",ring:"Ë",risingdotseq:"â",rlarr:"â",rlhar:"â",rlm:"â",rmoustache:"â±",rmoust:"â±",rnmid:"â«®",roang:"â­",roarr:"â¾",robrk:"â§",ropar:"â¦",ropf:"ð£",Ropf:"â",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦",rppolint:"â¨",rrarr:"â",Rrightarrow:"â",rsaquo:"âº",rscr:"ð",Rscr:"â",rsh:"â±",Rsh:"â±",rsqb:"]",rsquo:"â",rsquor:"â",rthree:"â",rtimes:"â",rtri:"â¹",rtrie:"âµ",rtrif:"â¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â",Sacute:"Å",sacute:"Å",sbquo:"â",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",Sc:"âª¼",sc:"â»",sccue:"â½",sce:"âª°",scE:"âª´",Scedil:"Å",scedil:"Å",Scirc:"Å",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â©",scpolint:"â¨",scsim:"â¿",Scy:"Ð¡",scy:"Ñ",sdotb:"â¡",sdot:"â",sdote:"â©¦",searhk:"â¤¥",searr:"â",seArr:"â",searrow:"â",sect:"Â§",semi:";",seswar:"â¤©",setminus:"â",setmn:"â",sext:"â¶",Sfr:"ð",sfr:"ð°",sfrown:"â¢",sharp:"â¯",SHCHcy:"Ð©",shchcy:"Ñ",SHcy:"Ð¨",shcy:"Ñ",ShortDownArrow:"â",ShortLeftArrow:"â",shortmid:"â£",shortparallel:"â¥",ShortRightArrow:"â",ShortUpArrow:"â",shy:"Â­",Sigma:"Î£",sigma:"Ï",sigmaf:"Ï",sigmav:"Ï",sim:"â¼",simdot:"â©ª",sime:"â",simeq:"â",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âª",simne:"â",simplus:"â¨¤",simrarr:"â¥²",slarr:"â",SmallCircle:"â",smallsetminus:"â",smashp:"â¨³",smeparsl:"â§¤",smid:"â£",smile:"â£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸",SOFTcy:"Ð¬",softcy:"Ñ",solbar:"â¿",solb:"â§",sol:"/",Sopf:"ð",sopf:"ð¤",spades:"â ",spadesuit:"â ",spar:"â¥",sqcap:"â",sqcaps:"âï¸",sqcup:"â",sqcups:"âï¸",Sqrt:"â",sqsub:"â",sqsube:"â",sqsubset:"â",sqsubseteq:"â",sqsup:"â",sqsupe:"â",sqsupset:"â",sqsupseteq:"â",square:"â¡",Square:"â¡",SquareIntersection:"â",SquareSubset:"â",SquareSubsetEqual:"â",SquareSuperset:"â",SquareSupersetEqual:"â",SquareUnion:"â",squarf:"âª",squ:"â¡",squf:"âª",srarr:"â",Sscr:"ð®",sscr:"ð",ssetmn:"â",ssmile:"â£",sstarf:"â",Star:"â",star:"â",starf:"â",straightepsilon:"Ïµ",straightphi:"Ï",strns:"Â¯",sub:"â",Sub:"â",subdot:"âª½",subE:"â«",sube:"â",subedot:"â«",submult:"â«",subnE:"â«",subne:"â",subplus:"âª¿",subrarr:"â¥¹",subset:"â",Subset:"â",subseteq:"â",subseteqq:"â«",SubsetEqual:"â",subsetneq:"â",subsetneqq:"â«",subsim:"â«",subsub:"â«",subsup:"â«",succapprox:"âª¸",succ:"â»",succcurlyeq:"â½",Succeeds:"â»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â½",SucceedsTilde:"â¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â©",succsim:"â¿",SuchThat:"â",sum:"â",Sum:"â",sung:"âª",sup1:"Â¹",sup2:"Â²",sup3:"Â³",sup:"â",Sup:"â",supdot:"âª¾",supdsub:"â«",supE:"â«",supe:"â",supedot:"â«",Superset:"â",SupersetEqual:"â",suphsol:"â",suphsub:"â«",suplarr:"â¥»",supmult:"â«",supnE:"â«",supne:"â",supplus:"â«",supset:"â",Supset:"â",supseteq:"â",supseteqq:"â«",supsetneq:"â",supsetneqq:"â«",supsim:"â«",supsub:"â«",supsup:"â«",swarhk:"â¤¦",swarr:"â",swArr:"â",swarrow:"â",swnwar:"â¤ª",szlig:"Ã",Tab:"\t",target:"â",Tau:"Î¤",tau:"Ï",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ",tdot:"â",telrec:"â",Tfr:"ð",tfr:"ð±",there4:"â´",therefore:"â´",Therefore:"â´",Theta:"Î",theta:"Î¸",thetasym:"Ï",thetav:"Ï",thickapprox:"â",thicksim:"â¼",ThickSpace:"ââ",ThinSpace:"â",thinsp:"â",thkap:"â",thksim:"â¼",THORN:"Ã",thorn:"Ã¾",tilde:"Ë",Tilde:"â¼",TildeEqual:"â",TildeFullEqual:"â",TildeTilde:"â",timesbar:"â¨±",timesb:"â ",times:"Ã",timesd:"â¨°",tint:"â­",toea:"â¤¨",topbot:"â¶",topcir:"â«±",top:"â¤",Topf:"ð",topf:"ð¥",topfork:"â«",tosa:"â¤©",tprime:"â´",trade:"â¢",TRADE:"â¢",triangle:"âµ",triangledown:"â¿",triangleleft:"â",trianglelefteq:"â´",triangleq:"â",triangleright:"â¹",trianglerighteq:"âµ",tridot:"â¬",trie:"â",triminus:"â¨º",TripleDot:"â",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ð¯",tscr:"ð",TScy:"Ð¦",tscy:"Ñ",TSHcy:"Ð",tshcy:"Ñ",Tstrok:"Å¦",tstrok:"Å§",twixt:"â¬",twoheadleftarrow:"â",twoheadrightarrow:"â ",Uacute:"Ã",uacute:"Ãº",uarr:"â",Uarr:"â",uArr:"â",Uarrocir:"â¥",Ubrcy:"Ð",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñ",udarr:"â",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð",ufr:"ð²",Ugrave:"Ã",ugrave:"Ã¹",uHar:"â¥£",uharl:"â¿",uharr:"â¾",uhblk:"â",ulcorn:"â",ulcorner:"â",ulcrop:"â",ultri:"â¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"â",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â",UnionPlus:"â",Uogon:"Å²",uogon:"Å³",Uopf:"ð",uopf:"ð¦",UpArrowBar:"â¤",uparrow:"â",UpArrow:"â",Uparrow:"â",UpArrowDownArrow:"â",updownarrow:"â",UpDownArrow:"â",Updownarrow:"â",UpEquilibrium:"â¥®",upharpoonleft:"â¿",upharpoonright:"â¾",uplus:"â",UpperLeftArrow:"â",UpperRightArrow:"â",upsi:"Ï",Upsi:"Ï",upsih:"Ï",Upsilon:"Î¥",upsilon:"Ï",UpTeeArrow:"â¥",UpTee:"â¥",upuparrows:"â",urcorn:"â",urcorner:"â",urcrop:"â",Uring:"Å®",uring:"Å¯",urtri:"â¹",Uscr:"ð°",uscr:"ð",utdot:"â°",Utilde:"Å¨",utilde:"Å©",utri:"âµ",utrif:"â´",uuarr:"â",Uuml:"Ã",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"â",varphi:"Ï",varpi:"Ï",varpropto:"â",varr:"â",vArr:"â",varrho:"Ï±",varsigma:"Ï",varsubsetneq:"âï¸",varsubsetneqq:"â«ï¸",varsupsetneq:"âï¸",varsupsetneqq:"â«ï¸",vartheta:"Ï",vartriangleleft:"â²",vartriangleright:"â³",vBar:"â«¨",Vbar:"â««",vBarv:"â«©",Vcy:"Ð",vcy:"Ð²",vdash:"â¢",vDash:"â¨",Vdash:"â©",VDash:"â«",Vdashl:"â«¦",veebar:"â»",vee:"â¨",Vee:"â",veeeq:"â",vellip:"â®",verbar:"|",Verbar:"â",vert:"|",Vert:"â",VerticalBar:"â£",VerticalLine:"|",VerticalSeparator:"â",VerticalTilde:"â",VeryThinSpace:"â",Vfr:"ð",vfr:"ð³",vltri:"â²",vnsub:"ââ",vnsup:"ââ",Vopf:"ð",vopf:"ð§",vprop:"â",vrtri:"â³",Vscr:"ð±",vscr:"ð",vsubnE:"â«ï¸",vsubne:"âï¸",vsupnE:"â«ï¸",vsupne:"âï¸",Vvdash:"âª",vzigzag:"â¦",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©",wedge:"â§",Wedge:"â",wedgeq:"â",weierp:"â",Wfr:"ð",wfr:"ð´",Wopf:"ð",wopf:"ð¨",wp:"â",wr:"â",wreath:"â",Wscr:"ð²",wscr:"ð",xcap:"â",xcirc:"â¯",xcup:"â",xdtri:"â½",Xfr:"ð",xfr:"ðµ",xharr:"â·",xhArr:"âº",Xi:"Î",xi:"Î¾",xlarr:"âµ",xlArr:"â¸",xmap:"â¼",xnis:"â»",xodot:"â¨",Xopf:"ð",xopf:"ð©",xoplus:"â¨",xotime:"â¨",xrarr:"â¶",xrArr:"â¹",Xscr:"ð³",xscr:"ð",xsqcup:"â¨",xuplus:"â¨",xutri:"â³",xvee:"â",xwedge:"â",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ",yen:"Â¥",Yfr:"ð",yfr:"ð¶",YIcy:"Ð",yicy:"Ñ",Yopf:"ð",yopf:"ðª",Yscr:"ð´",yscr:"ð",YUcy:"Ð®",yucy:"Ñ",yuml:"Ã¿",Yuml:"Å¸",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â¨",ZeroWidthSpace:"â",Zeta:"Î",zeta:"Î¶",zfr:"ð·",Zfr:"â¨",ZHcy:"Ð",zhcy:"Ð¶",zigrarr:"â",zopf:"ð«",Zopf:"â¤",Zscr:"ðµ",zscr:"ð",zwj:"â",zwnj:"â"},Fc={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},Hc={},l=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},zc=(Object.defineProperty(Hc,"__esModule",{value:!0}),l({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376})),qc=String.fromCodePoint||function(e){var t="";return 65535<e&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)},l=(Hc.default=function(e){return 55296<=e&&e<=57343||1114111<e?"ï¿½":(e in zc.default&&(e=zc.default[e]),qc(e))},t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}),Vc=(Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.decodeHTML=Pc.decodeHTMLStrict=Pc.decodeXML=void 0,l(Bc)),jc=l({Aacute:"Ã",aacute:"Ã¡",Acirc:"Ã",acirc:"Ã¢",acute:"Â´",AElig:"Ã",aelig:"Ã¦",Agrave:"Ã",agrave:"Ã ",amp:"&",AMP:"&",Aring:"Ã",aring:"Ã¥",Atilde:"Ã",atilde:"Ã£",Auml:"Ã",auml:"Ã¤",brvbar:"Â¦",Ccedil:"Ã",ccedil:"Ã§",cedil:"Â¸",cent:"Â¢",copy:"Â©",COPY:"Â©",curren:"Â¤",deg:"Â°",divide:"Ã·",Eacute:"Ã",eacute:"Ã©",Ecirc:"Ã",ecirc:"Ãª",Egrave:"Ã",egrave:"Ã¨",ETH:"Ã",eth:"Ã°",Euml:"Ã",euml:"Ã«",frac12:"Â½",frac14:"Â¼",frac34:"Â¾",gt:">",GT:">",Iacute:"Ã",iacute:"Ã­",Icirc:"Ã",icirc:"Ã®",iexcl:"Â¡",Igrave:"Ã",igrave:"Ã¬",iquest:"Â¿",Iuml:"Ã",iuml:"Ã¯",laquo:"Â«",lt:"<",LT:"<",macr:"Â¯",micro:"Âµ",middot:"Â·",nbsp:"Â ",not:"Â¬",Ntilde:"Ã",ntilde:"Ã±",Oacute:"Ã",oacute:"Ã³",Ocirc:"Ã",ocirc:"Ã´",Ograve:"Ã",ograve:"Ã²",ordf:"Âª",ordm:"Âº",Oslash:"Ã",oslash:"Ã¸",Otilde:"Ã",otilde:"Ãµ",Ouml:"Ã",ouml:"Ã¶",para:"Â¶",plusmn:"Â±",pound:"Â£",quot:'"',QUOT:'"',raquo:"Â»",reg:"Â®",REG:"Â®",sect:"Â§",shy:"Â­",sup1:"Â¹",sup2:"Â²",sup3:"Â³",szlig:"Ã",THORN:"Ã",thorn:"Ã¾",times:"Ã",Uacute:"Ã",uacute:"Ãº",Ucirc:"Ã",ucirc:"Ã»",Ugrave:"Ã",ugrave:"Ã¹",uml:"Â¨",Uuml:"Ã",uuml:"Ã¼",Yacute:"Ã",yacute:"Ã½",yen:"Â¥",yuml:"Ã¿"}),c=l(Fc),$c=l(Hc),_c=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function Uc(e){var t=Jc(e);return function(e){return String(e).replace(_c,t)}}Pc.decodeXML=Uc(c.default),Pc.decodeHTMLStrict=Uc(Vc.default);function Wc(e,t){return e<t?1:-1}function Jc(n){return function(e){var t;return"#"===e.charAt(1)?"X"===(t=e.charAt(2))||"x"===t?$c.default(parseInt(e.substr(3),16)):$c.default(parseInt(e.substr(2),10)):n[e.slice(1,-1)]||e}}Pc.decodeHTML=function(){for(var e=Object.keys(jc.default).sort(Wc),t=Object.keys(Vc.default).sort(Wc),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=Jc(Vc.default);function s(e){return";"!==e.substr(-1)&&(e+=";"),i(e)}return function(e){return String(e).replace(o,s)}}();var l={},Hc=t&&t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=(Object.defineProperty(l,"__esModule",{value:!0}),l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=void 0,Xc(Hc(Fc).default)),Gc=Qc(c);l.encodeXML=au(c);var Kc,Zc,t=Xc(Hc(Bc).default),Fc=Qc(t);function Xc(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function Qc(e){for(var t=[],n=[],r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];1===i.length?t.push("\\"+i):n.push(i)}t.sort();for(var s=0;s<t.length-1;s++){for(var a=s;a<t.length-1&&t[a].charCodeAt(1)+1===t[a+1].charCodeAt(1);)a+=1;var l=1+a-s;l<3||t.splice(s,l,t[s]+"-"+t[a])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}l.encodeHTML=(Kc=t,Zc=Fc,function(e){return e.replace(Zc,function(e){return Kc[e]}).replace(Yc,tu)}),l.encodeNonAsciiHTML=au(t);var Yc=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,eu=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function tu(e){return"&#x"+(1<e.length?eu(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var nu,ru,ou,iu,su=new RegExp(Gc.source+"|"+Yc.source,"g");function au(t){return function(e){return e.replace(su,function(e){return t[e]||tu(e)})}}l.escape=function(e){return e.replace(su,tu)},l.escapeUTF8=function(e){return e.replace(Gc,tu)},c=Rc,Object.defineProperty(c,"__esModule",{value:!0}),c.decodeXMLStrict=c.decodeHTML5Strict=c.decodeHTML4Strict=c.decodeHTML5=c.decodeHTML4=c.decodeHTMLStrict=c.decodeHTML=c.decodeXML=c.encodeHTML5=c.encodeHTML4=c.escapeUTF8=c.escape=c.encodeNonAsciiHTML=c.encodeHTML=c.encodeXML=c.encode=c.decodeStrict=c.decode=void 0,nu=Pc,ru=l,c.decode=function(e,t){return(!t||t<=0?nu.decodeXML:nu.decodeHTML)(e)},c.decodeStrict=function(e,t){return(!t||t<=0?nu.decodeXML:nu.decodeHTMLStrict)(e)},c.encode=function(e,t){return(!t||t<=0?ru.encodeXML:ru.encodeHTML)(e)},ou=l,Object.defineProperty(c,"encodeXML",{enumerable:!0,get:function(){return ou.encodeXML}}),Object.defineProperty(c,"encodeHTML",{enumerable:!0,get:function(){return ou.encodeHTML}}),Object.defineProperty(c,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return ou.encodeNonAsciiHTML}}),Object.defineProperty(c,"escape",{enumerable:!0,get:function(){return ou.escape}}),Object.defineProperty(c,"escapeUTF8",{enumerable:!0,get:function(){return ou.escapeUTF8}}),Object.defineProperty(c,"encodeHTML4",{enumerable:!0,get:function(){return ou.encodeHTML}}),Object.defineProperty(c,"encodeHTML5",{enumerable:!0,get:function(){return ou.encodeHTML}}),iu=Pc,Object.defineProperty(c,"decodeXML",{enumerable:!0,get:function(){return iu.decodeXML}}),Object.defineProperty(c,"decodeHTML",{enumerable:!0,get:function(){return iu.decodeHTML}}),Object.defineProperty(c,"decodeHTMLStrict",{enumerable:!0,get:function(){return iu.decodeHTMLStrict}}),Object.defineProperty(c,"decodeHTML4",{enumerable:!0,get:function(){return iu.decodeHTML}}),Object.defineProperty(c,"decodeHTML5",{enumerable:!0,get:function(){return iu.decodeHTML}}),Object.defineProperty(c,"decodeHTML4Strict",{enumerable:!0,get:function(){return iu.decodeHTMLStrict}}),Object.defineProperty(c,"decodeHTML5Strict",{enumerable:!0,get:function(){return iu.decodeHTMLStrict}}),Object.defineProperty(c,"decodeXMLStrict",{enumerable:!0,get:function(){return iu.decodeXML}});function lu(e){return 92===e.charCodeAt(0)?e.charAt(1):Rc.decodeHTML(e)}var Hc="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",cu=/[\\&]/,Bc="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",uu=new RegExp("\\\\"+Bc+"|"+Hc,"gi"),du=new RegExp('[&<>"]',"g");function pu(e){return cu.test(e)?e.replace(uu,lu):e}function hu(t){try{return Ic(t)}catch(e){return t}}function fu(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}function mu(e){return du.test(e)?e.replace(du,fu):e}function gu(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")}function vu(e){return!e||!/[^ \t]+/.test(e)}bu.prototype.next=function(){var e,t=this.current,n=this.entering;return null===t?null:(e=wu(t),n&&e?t.firstChild?(this.current=t.firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:null===t.next?(this.current=t.parent,this.entering=!1):(this.current=t.next,this.entering=!0),{entering:n,node:t})},bu.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t};var yu=bu;function bu(e){this.current=e,this.root=e,this.entering=!0}function wu(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var ku=1,xu={};function Cu(e){delete xu[e]}ad.prototype.isContainer=function(){return wu(this)},ad.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},ad.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},ad.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),(e.prev=this).next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},ad.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),((e.next=this).prev=e).parent=this.parent,e.prev||(e.parent.firstChild=e)},ad.prototype.appendChild=function(e){e.unlink(),(e.parent=this).lastChild?(this.lastChild.next=e).prev=this.lastChild:this.firstChild=e,this.lastChild=e},ad.prototype.prependChild=function(e){e.unlink(),(e.parent=this).firstChild?((this.firstChild.prev=e).next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},ad.prototype.walker=function(){return new yu(this)};var Tu,Mu,Eu,Su,Nu,Ou,Du,Au,Lu,Iu,Ru,Pu,Bu=ad,Fu=(Nc(sd,Pu=Bu),sd),Hu=(Nc(id,Ru=Fu),id),zu=(Nc(od,Iu=Fu),od),qu=(Nc(rd,Lu=Fu),rd),Vu=(Nc(nd,Au=Fu),nd),ju=(Nc(td,Du=Fu),td),$u=(Nc(ed,Ou=Fu),ed),_u=(Nc(Yu,Nu=Fu),Yu),Uu=(Nc(Qu,Su=Fu),Qu),Wu=(Nc(Xu,Eu=Bu),Xu),Ju=(Nc(Zu,Mu=Bu),Zu),Gu=(Nc(Ku,Tu=Bu),Ku);function Ku(){var e=null!==Tu&&Tu.apply(this,arguments)||this;return e.info="",e}function Zu(){var e=null!==Mu&&Mu.apply(this,arguments)||this;return e.tickCount=0,e}function Xu(){var e=null!==Eu&&Eu.apply(this,arguments)||this;return e.destination=null,e.title=null,e.extendedAutolink=!1,e}function Qu(){var e=null!==Su&&Su.apply(this,arguments)||this;return e.htmlBlockType=-1,e}function Yu(){var e=null!==Nu&&Nu.apply(this,arguments)||this;return e.syntaxLength=0,e.offset=-1,e.info="",e}function ed(){var e=null!==Ou&&Ou.apply(this,arguments)||this;return e.title="",e.dest="",e.label="",e}function td(){var e=null!==Du&&Du.apply(this,arguments)||this;return e.startIdx=0,e.endIdx=0,e.paddingLeft=0,e.paddingRight=0,e.ignored=!1,e}function nd(){var e=null!==Au&&Au.apply(this,arguments)||this;return e.columns=[],e}function rd(){var e=null!==Lu&&Lu.apply(this,arguments)||this;return e.isFenced=!1,e.fenceChar=null,e.fenceLength=0,e.fenceOffset=-1,e.info=null,e.infoPadding=0,e}function od(){var e=null!==Iu&&Iu.apply(this,arguments)||this;return e.level=0,e.headingType="atx",e}function id(){var e=null!==Ru&&Ru.apply(this,arguments)||this;return e.listData=null,e}function sd(e,t){t=Pu.call(this,e,t)||this;return t.open=!0,t.lineOffsets=null,t.stringContent=null,t.lastLineBlank=!1,t.lastLineChecked=!1,t.type=e,t}function ad(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:ku++,this.type=e,this.sourcepos=t,xu[this.id]=this}function w(e,t){switch(e){case"heading":return new zu(e,t);case"list":case"item":return new Hu(e,t);case"link":case"image":return new Wu(e,t);case"codeBlock":return new qu(e,t);case"htmlBlock":return new Uu(e,t);case"table":return new Vu(e,t);case"tableCell":return new ju(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Fu(e,t);case"code":return new Ju(e,t);case"refDef":return new $u(e,t);case"customBlock":return new _u(e,t);case"customInline":return new Gu(e,t);default:return new Bu(e,t)}}function ld(e){return"codeBlock"===e.type}function cd(e){return"list"===e.type}function ud(e){return"refDef"===e.type}function dd(e){return"customBlock"===e.type}function k(e,t){t=w("text",t);return t.literal=e,t}var pd,hd,fd=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i"),md=String.fromCodePoint?function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}}:(pd=String.fromCharCode,hd=Math.floor,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=[],o=-1,i=e.length;if(!i)return"";for(var s="";++o<i;){var a=Number(e[o]);if(!isFinite(a)||a<0||1114111<a||hd(a)!==a)return String.fromCharCode(65533);a<=65535?r.push(a):(n=55296+((a-=65536)>>10),r.push(n,a%1024+56320)),(o+1===i||16384<r.length)&&(s+=pd.apply(void 0,r),r.length=0)}return s});function gd(e){return Dc(Dc([],function(e){for(var t,n=new RegExp("(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\s]*[^<?!.,:*_?~\\s]","g"),r=[];t=n.exec(e);){var o=function(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,o=e;r<o.length;r++){var i=o[r];"("===i?n<0?n=1:n+=1:")"===i&&--n}if(n<0)return t=Math.min(-n,t[0].length),e.substring(0,e.length-t)}return e}(t[0]).replace(/&[A-Za-z0-9]+;$/,""),i="www"===t[1]?"http://":"";r.push({text:o,range:[t.index,t.index+o.length-1],url:i+o})}return r}(e)),function(e){for(var t,n=new RegExp("[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+","g"),r=[];t=n.exec(e);){var o=t[0];/[_-]+$/.test(o)||r.push({text:o,range:[t.index,t.index+o.length-1],url:"mailto:"+o})}return r}(e)).sort(function(e,t){return e.range[0]-t.range[0]})}function vd(e){return e[e.length-1]}function yd(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function bd(t,n){Object.keys(t).forEach(function(e){n(e,t[e])})}function wd(e){return!Object.keys(e).length}var Fc="\\\\"+Bc,kd=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),xd=new RegExp('^(?:"('+Fc+'|[^"\\x00])*"|\'('+Fc+"|[^'\\x00])*'|\\(("+Fc+"|[^()\\x00])*\\))"),Cd=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,Td=new RegExp("^"+Bc),Md=new RegExp("^"+Hc,"i"),Ed=/`+/,Sd=/^`+/,Nd=/\.\.\./g,Od=/--+/g,Dd=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,Ad=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,Ld=/^ *(?:\n *)?/,Id=/^[ \t\n\x0b\x0c\x0d]/,Rd=/^\s/,Pd=/ *$/,Bd=/^ */,Fd=/^ *(?:\n|$)/,Hd=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,zd=/^[^\n`\[\]\\!<&*_'"~$]+/m,qd=(f.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,e=[r,e+n];return"number"==typeof t?[e,[r,t+n]]:e},f.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},f.prototype.match=function(e){e=e.exec(this.subject.slice(this.pos));return null===e?null:(this.pos+=e.index+e[0].length,e[0])},f.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},f.prototype.spnl=function(){return this.match(Ld),!0},f.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(Sd);if(null===n)return!1;for(var r,o,i,s,a=this.pos;null!==(r=this.match(Ed));)if(r===n)return r=this.subject.slice(a,this.pos-n.length),o=this.sourcepos(t,this.pos),1<(i=r.split("\n")).length&&(s=vd(i),this.lineIdx+=i.length-1,this.linePosOffset=-(this.pos-s.length-n.length),o[1]=this.sourcepos(this.pos),r=i.join(" ")),s=w("code",o),0<r.length&&null!==r.match(/[^ ]/)&&" "==r[0]&&" "==r[r.length-1]?s.literal=r.slice(1,r.length-1):s.literal=r,s.tickCount=n.length,e.appendChild(s),!0;return this.pos=a,e.appendChild(k(n,this.sourcepos(t,this.pos-1))),!0},f.prototype.parseBackslash=function(e){var t,n=this.subject,r=(this.pos+=1,this.pos);return 10===this.peek()?(this.pos+=1,t=w("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(t),this.nextLine()):Td.test(n.charAt(this.pos))?(e.appendChild(k(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):e.appendChild(k("\\",this.sourcepos(r,r))),!0},f.prototype.parseAutolink=function(e){var t,n,r,o=this.pos+1;return(t=this.match(Dd))?(n=t.slice(1,t.length-1),(r=w("link",this.sourcepos(o,this.pos))).destination=hu("mailto:"+n),r.title="",r.appendChild(k(n,this.sourcepos(o+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(Ad))&&(n=t.slice(1,t.length-1),(r=w("link",this.sourcepos(o,this.pos))).destination=hu(n),r.title="",r.appendChild(k(n,this.sourcepos(o+1,this.pos-1))),e.appendChild(r),!0)},f.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(fd);return null!==n&&((t=w("htmlInline",this.sourcepos(t,this.pos))).literal=n,e.appendChild(t),!0)},f.prototype.scanDelims=function(e){var t,n,r,o,i,s,a,l=0,c=this.pos;if(39===e||34===e)l++,this.pos++;else for(;this.peek()===e;)l++,this.pos++;return 0===l||l<2&&(126===e||36===e)?(this.pos=c,null):(a=0===c?"\n":this.subject.charAt(c-1),r=-1===(r=this.peek())?"\n":md(r),n=Rd.test(r),r=kd.test(r),o=Rd.test(a),a=kd.test(a),i=!n&&(!r||o||a),s=!o&&(!a||n||r),a=95===e?(t=i&&(!s||a),s&&(!i||r)):39===e||34===e?(t=i&&!s,s):36===e?(t=!n,!o):(t=i,s),this.pos=c,{numdelims:l,canOpen:t,canClose:a})},f.prototype.handleDelim=function(e,t){var n,r,o=this.scanDelims(e);return!!o&&(n=o.numdelims,r=this.pos+1,this.pos+=n,r=k(39===e?"â":34===e?"â":this.subject.slice(r-1,this.pos),this.sourcepos(r,this.pos)),t.appendChild(r),(o.canOpen||o.canClose)&&(this.options.smart||39!==e&&34!==e)&&(this.delimiters={cc:e,numdelims:n,origdelims:n,node:r,previous:this.delimiters,next:null,canOpen:o.canOpen,canClose:o.canClose},this.delimiters.previous)&&(this.delimiters.previous.next=this.delimiters),!0)},f.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},f.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&((e.next=t).previous=e)},f.prototype.processEmphasis=function(e){(t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t[36]=[e];for(var t,n,r,o,i,s=t,a=this.delimiters;null!==a&&a.previous!==e;)a=a.previous;for(;null!==a;){var l=a.cc,c=95===l||42===l;if(a.canClose){for(n=a.previous,o=!1;null!==n&&n!==e&&n!==s[l][c?a.origdelims%3:0];){if(i=c&&(a.canOpen||n.canClose)&&a.origdelims%3!=0&&(n.origdelims+a.origdelims)%3==0,n.cc===a.cc&&n.canOpen&&!i){o=!0;break}n=n.previous}if(r=a,c||126===l||36===l)if(o){if(n){var u=2<=a.numdelims&&2<=n.numdelims?2:1,d=c?0:1,p=n.node,h=a.node,f=c?1==u?"emph":"strong":"strike",m=w(f=36===l?"customInline":f),f=p.sourcepos[1],g=h.sourcepos[0];m.sourcepos=[[f[0],f[1]-u+1],[g[0],g[1]+u-1]],p.sourcepos[1][1]-=u,h.sourcepos[0][1]+=u,p.literal=p.literal.slice(u),h.literal=h.literal.slice(u),n.numdelims-=u,a.numdelims-=u;for(var v,y=p.next;y&&y!==h;)v=y.next,y.unlink(),m.appendChild(y),y=v;36===l&&(u=(g=(f=m.firstChild).literal||"").split(/\s/)[0],m.info=u,g.length<=u.length?f.unlink():(f.sourcepos[0][1]+=u.length,f.literal=g.replace(u+" ",""))),p.insertAfter(m),this.removeDelimitersBetween(n,a),n.numdelims<=d&&(0===n.numdelims&&p.unlink(),this.removeDelimiter(n)),a.numdelims<=d&&(0===a.numdelims&&h.unlink(),f=a.next,this.removeDelimiter(a),a=f)}}else a=a.next;else 39===l?(a.node.literal="â",o&&(n.node.literal="â"),a=a.next):34===l&&(a.node.literal="â",o&&(n.node.literal="â"),a=a.next);o||(s[l][c?r.origdelims%3:0]=r.previous,r.canOpen)||this.removeDelimiter(r)}else a=a.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},f.prototype.parseLinkTitle=function(){var e=this.match(xd);return null===e?null:pu(e.substr(1,e.length-2))},f.prototype.parseLinkDestination=function(){var e=this.match(Cd);if(null!==e)return hu(pu(e.substr(1,e.length-2)));if(60===this.peek())return null;for(var t=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&Td.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,--n}else{if(null!==Id.exec(md(r)))break;this.pos+=1}return this.pos===t&&41!==r||0!==n?null:hu(pu(e=this.subject.substr(t,this.pos-t)))},f.prototype.parseLinkLabel=function(){var e=this.match(Hd);return null===e||1001<e.length?0:e.length},f.prototype.parseOpenBracket=function(e){var t=this.pos,n=(this.pos+=1,k("[",this.sourcepos(this.pos,this.pos)));return e.appendChild(n),this.addBracket(n,t,!1),!0},f.prototype.parseBang=function(e){var t,n=this.pos;return this.pos+=1,91===this.peek()?(this.pos+=1,t=k("![",this.sourcepos(this.pos-1,this.pos)),e.appendChild(t),this.addBracket(t,n+1,!0)):(t=k("!",this.sourcepos(this.pos,this.pos)),e.appendChild(t)),!0},f.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1,o=(this.pos+=1,this.pos),i=this.brackets;if(null===i)e.appendChild(k("]",this.sourcepos(o,o)));else if(i.active){var s,a,l=i.image,c=this.pos,u=(40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(Id.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=c),"");if(r||(a=this.pos,2<(s=this.parseLinkLabel())?u=this.subject.slice(a,a+s):i.bracketAfter||(u=this.subject.slice(i.index,o)),0===s&&(this.pos=c),u&&(u=yd(u),a=this.refMap[u])&&(t=a.destination,n=a.title,r=!0)),r){var d=w(l?"image":"link");d.destination=t,d.title=n||"",d.sourcepos=[i.startpos,this.sourcepos(this.pos)];for(var p,h=i.node.next;h;)p=h.next,h.unlink(),d.appendChild(h),h=p;if(e.appendChild(d),this.processEmphasis(i.previousDelimiter),this.removeBracket(),i.node.unlink(),!l)for(i=this.brackets;null!==i;)i.image||(i.active=!1),i=i.previous}else this.removeBracket(),this.pos=o,e.appendChild(k("]",this.sourcepos(o,o)));this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u})}else e.appendChild(k("]",this.sourcepos(o,o))),this.removeBracket();return!0},f.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},f.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},f.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(Md))&&(e.appendChild(k(Rc.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},f.prototype.parseString=function(e){var t,n,r=this.pos+1;return!!(t=this.match(zd))&&(this.options.smart?(n=t.replace(Nd,"â¦").replace(Od,function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:n=e.length%3==2?(t=1,(e.length-2)/3):(t=2,(e.length-4)/3),gu("â",n)+gu("â",t)}),e.appendChild(k(n,this.sourcepos(r,this.pos)))):(n=k(t,this.sourcepos(r,this.pos)),e.appendChild(n)),!0)},f.prototype.parseNewline=function(e){this.pos+=1;var t,n,r=e.lastChild;return r&&"text"===r.type&&" "===r.literal[r.literal.length-1]?(t=" "===r.literal[r.literal.length-2],n=r.literal.length,r.literal=r.literal.replace(Pd,""),n=n-r.literal.length,r.sourcepos[1][1]-=n,e.appendChild(w(t?"linebreak":"softbreak",this.sourcepos(this.pos-n,this.pos)))):e.appendChild(w("softbreak",this.sourcepos(this.pos,this.pos))),this.nextLine(),this.match(Bd),!0},f.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,o=this.parseLinkLabel();if(0===o)return 0;o=this.subject.substr(0,o);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var i,s,a=this.parseLinkDestination();return null===a||(i=this.pos,this.spnl(),null===(n=this.pos!==i?this.parseLinkTitle():n)&&(n="",this.pos=i),s=!0,!(s=null===this.match(Fd)?""!==n&&(n="",this.pos=i,null!==this.match(Fd)):s))||""===(i=yd(o))?(this.pos=r,0):(s=this.getReferenceDefSourcepos(e),e.sourcepos[0][0]=s[1][0]+1,(o=w("refDef",s)).title=n,o.dest=a,o.label=i,e.insertBefore(o),t[i]?this.refDefCandidateMap[o.id]=o:t[i]=Sp(o),this.pos-r)},f.prototype.mergeTextNodes=function(e){for(var t=[];r=e.next();){var n=r.entering,r=r.node;if(n&&"text"===r.type)t.push(r);else if(1===t.length)t=[];else if(1<t.length){var o=t[0],n=t[t.length-1];o.sourcepos&&n.sourcepos&&(o.sourcepos[1]=n.sourcepos[1]),o.next=n.next,o.next&&(o.next.prev=o);for(var i=1;i<t.length;i+=1)o.literal+=t[i].literal,t[i].unlink();t=[]}}},f.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,o={line:0,ch:0},i=0;i<t.length;i+=1){var s=t[i];if(Id.test(s))break;if(/\:/.test(s)&&0===r){if(n)break;var a=s.indexOf(":")===s.length-1?i+1:i,o={line:a,ch:t[a].length},n=!0}a=s.match(/'|"/g);if(a&&(r+=a.length),2===r){o={line:i,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+o.line,o.ch]]},f.prototype.parseInline=function(e){var t,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case 10:n=this.parseNewline(e);break;case 92:n=this.parseBackslash(e);break;case 96:n=this.parseBackticks(e);break;case 42:case 95:case 126:case 36:n=this.handleDelim(r,e);break;case 39:case 34:n=!(null==(t=this.options)||!t.smart)&&this.handleDelim(r,e);break;case 91:n=this.parseOpenBracket(e);break;case 33:n=this.parseBang(e);break;case 93:n=this.parseCloseBracket(e);break;case 60:n=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:e.disabledEntityParse||(n=this.parseEntity(e));break;default:n=this.parseString(e)}return n||(this.pos+=1,e.appendChild(k(md(r),this.sourcepos(this.pos,this.pos+1)))),!0},f.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],"heading"===e.type&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var v,t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n){var o=e.walker(),y=n;for("boolean"==typeof n&&(y=gd);v=o.next();)!function(){var e=v.entering,t=v.node;if(e&&"text"===t.type&&"link"!==t.parent.type){var n=t.literal,e=y(n);if(!e||!e.length)return;for(var r=0,o=t.sourcepos[0],i=o[0],s=o[1],a=function(e,t){return[[i,s+e],[i,s+t]]},l=[],c=0,u=e;c<u.length;c++){var d=u[c],p=d.range,h=d.url,d=d.text,f=(p[0]>r&&l.push(k(n.substring(r,p[0]),a(r,p[0]-1))),w("link",a.apply(void 0,p)));f.appendChild(k(d,a.apply(void 0,p))),f.destination=h,f.extendedAutolink=!0,l.push(f),r=p[1]+1}r<n.length&&l.push(k(n.substring(r),a(r,n.length-1)));for(var m=0,g=l;m<g.length;m++)t.insertBefore(g[m]);t.unlink()}}()}if(r&&e.firstChild)for(var i=e.firstChild.walker();a=i.next();){var s=a.node,a=a.entering;r[s.type]&&r[s.type](s,{entering:a,options:this.options})}},f),Vd=/^\[([ \txX])\][ \t]+/;function f(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}var jd=/[^ \t\f\v\r\n]/,$d=/^(?:`{3,}|~{3,})(?= *$)/;function _d(e){for(var t=e;t;){if(t.lastLineBlank)return 1;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}}function Ud(e,t){return t<e.length?e.charCodeAt(t):-1}function Wd(e){return!jd.test(e)}function Jd(e){return 32===e||9===e}var Gd=/^\$\$$/,t={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},Kd={document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(e,t){for(var n=t.firstChild;n;){if(_d(n)&&n.next){t.listData.tight=!1;break}for(var r=n.firstChild;r;){if(_d(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},blockQuote:{continue:function(e){var t=e.currentLine;return e.indented||62!==Ud(t,e.nextNonspace)?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),Jd(Ud(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},item:{continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:function(e,t){var n,r,o;t.firstChild&&"paragraph"===t.firstChild.type&&(r=(n=t.firstChild).stringContent.match(Vd))&&(o=r[0].length,n.stringContent=n.stringContent.substring(o-1),n.sourcepos[0][1]+=o,n.lineOffsets[0]+=o,t.listData.task=!0,t.listData.checked=/[xX]/.test(r[1]))},canContain:function(e){return"item"!==e},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:{continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var o=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match($d);if(o&&o[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+o[0].length,e.finalize(t,e.lineNumber),2;for(var i=t.fenceOffset;0<i&&Jd(Ud(n,e.offset));)e.advanceOffset(1,!0),i--}else if(4<=r)e.advanceOffset(4,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n,r,o;null!==t.stringContent&&(t.isFenced?(o=(r=t.stringContent).indexOf("\n"),n=r.slice(0,o),r=r.slice(o+1),o=n.match(/^(\s*)(.*)/),t.infoPadding=o[1].length,t.info=pu(o[2].trim()),t.literal=r):t.literal=null==(n=t.stringContent)?void 0:n.replace(/(\n *)+$/,"\n"),t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},htmlBlock:{continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null==(n=t.stringContent)?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){for(var n,r=!1;91===Ud(t.stringContent,0)&&(n=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(n),r=!0;r&&Wd(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0},table:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},tableBody:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},tableHead:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},tableRow:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},tableCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},tableDelimRow:{continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},tableDelimCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},refDef:t,customBlock:{continue:function(e,t){var n=e.currentLine,r=n.match(Gd);if(r)return e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2;for(var o=t.offset;0<o&&Jd(Ud(n,e.offset));)e.advanceOffset(1,!0),o--;return 0},finalize:function(e,t){var n,r,o;null!==t.stringContent&&(o=(r=t.stringContent).indexOf("\n"),n=r.slice(0,o),r=r.slice(o+1),o=n.match(/^(\s*)(.*)/),t.info=pu(o[2].trim()),t.literal=r,t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},frontMatter:t};function Zd(e){for(var t,n=0,r=0,o=[],i=0;i<e.length;i+=1)"|"===e[i]&&"\\"!==e[i-1]&&(t=e.substring(n,i),0===n&&vu(t)?r=i+1:o.push(t),n=i+1);return n<e.length&&(vu(t=e.substring(n,e.length))||o.push(t)),[r,o]}function Xd(e,t,n,r){for(var o=[],i=0,s=t;i<s.length;i++){var a=s[i],l=a.match(/^[ \t]+/),l=l?l[0].length:0,c=void 0,u=void 0,d=(u=l===a.length?(c=l=0,""):(c=(d=a.match(/[ \t]+$/))?d[0].length:0,a.slice(l,a.length-c)),r+l),p=w(e,[[n,r],[n,r+a.length-1]]);p.stringContent=u.replace(/\\\|/g,"|"),p.startIdx=o.length,p.endIdx=o.length,p.lineOffsets=[d-1],p.paddingLeft=l,p.paddingRight=c,o.push(p),r+=a.length+1}return o}function Qd(e){var t=null,e=e.stringContent,n=e[0];return":"===e[e.length-1]?t=":"===n?"center":"right":":"===n&&(t="left"),{align:t}}var Yd=/^(\$\$)(\s*[a-zA-Z])+/,ep=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,tp=/^`{3,}(?!.*`)|^~{3,}/,np=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>])\\s*$","i")],rp=/^(?:=+|-+)[ \t]*$/,op=/^#{1,6}(?:[ \t]+|$)/,ip=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,sp=/^[*+-]/,ap=/^(\d{1,9})([.)])/;function lp(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}function cp(e,t){var n=e.currentLine,r=e.lineNumber,o=e.indented;return 1===r&&!o&&"document"===t.type&&dp.test(n)?(e.closeUnmatchedBlocks(),e.addChild("frontMatter",e.nextNonspace).stringContent=n,e.advanceNextNonspace(),e.advanceOffset(n.length,!1),2):0}var up=[function(e){return e.indented||62!==Ud(e.currentLine,e.nextNonspace)?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),Jd(Ud(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},function(e,t){var n;return e.indented||lp(e,t)||!(t=e.currentLine.slice(e.nextNonspace).match(op))?0:(e.advanceNextNonspace(),e.advanceOffset(t[0].length,!1),e.closeUnmatchedBlocks(),(n=e.addChild("heading",e.nextNonspace)).level=t[0].trim().length,n.headingType="atx",n.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2)},function(e){var t,n,r;return!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(tp))?(n=t[0].length,e.closeUnmatchedBlocks(),(r=e.addChild("codeBlock",e.nextNonspace)).isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2):0},function(e,t){if(!e.indented&&60===Ud(e.currentLine,e.nextNonspace))for(var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,o=void 0,o=1;o<=7;o++){var i=n.match(np[o]);if(i){if(7===o){if("paragraph"===t.type)return 0;if(0<r.length&&new RegExp("</?(?:"+r.join("|")+")","i").test(i[0]))return 0}return e.closeUnmatchedBlocks(),e.addChild("htmlBlock",e.offset).htmlBlockType=o,2}}return 0},function(e,t){var n;if(null===t.stringContent||e.indented||"paragraph"!==t.type||lp(e,t.parent)||!(n=e.currentLine.slice(e.nextNonspace).match(rp)))return 0;e.closeUnmatchedBlocks();for(var r,o=void 0;91===Ud(t.stringContent,0)&&(o=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(o);return 0<t.stringContent.length?((r=w("heading",t.sourcepos)).level="="===n[0][0]?1:2,r.headingType="setext",r.stringContent=t.stringContent,t.insertAfter(r),t.unlink(),e.tip=r,e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e){return!e.indented&&ip.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,t){var n,r,o=t;return e.indented&&"list"!==t.type||!(t=function(e,t){var n,r,o=e.currentLine.slice(e.nextNonspace),i={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(4<=e.indent)return null;if(n=o.match(sp))i.type="bullet",i.bulletChar=n[0][0];else{if(!(n=o.match(ap))||"paragraph"===t.type&&"1"!==n[1])return null;i.type="ordered",i.start=parseInt(n[1],10),i.delimiter=n[2]}if(-1!==(r=Ud(e.currentLine,e.nextNonspace+n[0].length))&&9!==r&&32!==r)return null;if("paragraph"===t.type&&!e.currentLine.slice(e.nextNonspace+n[0].length).match(jd))return null;e.advanceNextNonspace(),e.advanceOffset(n[0].length,!0);for(var s=e.column,o=e.offset;e.advanceOffset(1,!0),r=Ud(e.currentLine,e.offset),e.column-s<5&&Jd(r););var t=-1===Ud(e.currentLine,e.offset),a=e.column-s;return 5<=a||a<1||t?(i.padding=n[0].length+1,e.column=s,e.offset=o,Jd(Ud(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):i.padding=n[0].length+a,i}(e,o))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&(r=t,(n=o.listData).type===r.type)&&n.delimiter===r.delimiter&&n.bulletChar===r.bulletChar||((o=e.addChild("list",e.nextNonspace)).listData=t),(o=e.addChild("item",e.nextNonspace)).listData=t,1)},function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(4,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},function(e,t){var n,r,o,i,s,a,l,c,u,d,p,h,f,m=t.stringContent;return"paragraph"!==t.type||e.indented||e.blank||(n=m.length-1,d=m.lastIndexOf("\n",n-1)+1,n=m.slice(d,n),f=e.currentLine.slice(e.nextNonspace),r=(o=Zd(n))[0],o=o[1],i=(s=Zd(f))[0],s=s[1],a=/^[ \t]*:?-+:?[ \t]*$/,!o.length)||!s.length||s.some(function(e){return!a.test(e)})||1===s.length&&0!==f.indexOf("|")?0:(f=t.lineOffsets,(u=w("table",[[l=e.lineNumber-1,c=vd(f)+1],[e.lineNumber,e.offset]])).columns=s.map(function(){return{align:null}}),t.insertAfter(u),1===f.length?t.unlink():(t.stringContent=m.slice(0,d),m=d-(m.lastIndexOf("\n",d-2)+1)-1,e.lastLineLength=f[f.length-2]+m,e.finalize(t,l-1)),e.advanceOffset(e.currentLine.length-e.offset,!1),d=w("tableHead",[[l,c],[e.lineNumber,e.offset]]),u.appendChild(d),p=w("tableRow",[[l,c],[l,c+n.length-1]]),h=w("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]),d.appendChild(p),d.appendChild(h),Xd("tableCell",o,l,c+r).forEach(function(e){p.appendChild(e)}),(f=Xd("tableDelimCell",s,e.lineNumber,e.nextNonspace+1+i)).forEach(function(e){h.appendChild(e)}),u.columns=f.map(Qd),e.tip=u,2)},function(e,t){var n,r,o;return"table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|")?0:(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank?("tableBody"===(o=t).type&&(o=t.parent,e.finalize(t,e.lineNumber-1)),e.finalize(o,e.lineNumber-1),0):("table"===(o=t).type&&((o=e.addChild("tableBody",e.nextNonspace)).stringContent=null),n=w("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]),o.appendChild(n),r=o.parent,o=(t=Zd(e.currentLine.slice(e.nextNonspace)))[0],Xd("tableCell",t[1],e.lineNumber,e.nextNonspace+1+o).forEach(function(e,t){t>=r.columns.length&&(e.ignored=!0),n.appendChild(e)}),2))},function(e){var t,n;return e.indented||ep.test(e.currentLine)||!(t=e.currentLine.match(Yd))?0:(t=t[1].length,e.closeUnmatchedBlocks(),(n=e.addChild("customBlock",e.nextNonspace)).syntaxLength=t,n.offset=e.indent,e.advanceNextNonspace(),e.advanceOffset(t,!1),2)}],dp=/^(-{3}|\+{3}|;{3})$/,pp={continue:function(e,t){var n=e.currentLine,r=n.match(dp);return"frontMatter"===t.type&&r?(t.stringContent+=n,e.lastLineLength=r[0].length,e.finalize(t,e.lineNumber),2):0},finalize:function(e,t){null!==t.stringContent&&(t.literal=t.stringContent,t.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},hp=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],fp=/^[#`~*+_=<>0-9-;$]/,mp=/\r\n|\n|\r/;function gp(){return w("document",[[1,1],[0,0]])}var vp={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},yp=(bp.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var n,r,o,i=this.currentLine;0<e&&(o=i[this.offset]);)"\t"===o?(n=4-this.column%4,t?(this.partiallyConsumedTab=e<n,this.column+=r=e<n?e:n,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,--e)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,--e)},bp.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},bp.prototype.findNextNonspace=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=4<=this.indent},bp.prototype.addLine=function(){var e;this.partiallyConsumedTab&&(this.offset+=1,e=4-this.column%4,this.tip.stringContent+=gu(" ",e)),this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},bp.prototype.addChild=function(e,t){for(;!Kd[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);t=w(e,[[this.lineNumber,t+1],[0,0]]);return t.stringContent="",this.tip.appendChild(t),this.tip=t},bp.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},bp.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Kd[e.type].finalize(this,e),this.tip=n},bp.prototype.processInlines=function(e){var t=this.options.customParser,n=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;o=n.next();){var r=o.node,o=o.entering,i=r.type;t&&t[i]&&t[i](r,{entering:o,options:this.options}),o||"paragraph"!==i&&"heading"!==i&&("tableCell"!==i||r.ignored)||this.inlineParser.parse(r)}},bp.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"ï¿½")),this.currentLine=e;for(var n,r=!0;(n=t.lastChild)&&n.open;){switch(t=n,this.findNextNonspace(),Kd[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip;for(var o="paragraph"!==(this.lastMatchedContainer=t).type&&Kd[t.type].acceptsLines,i=up.length;!o;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!fp.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<i;){var a=up[s](this,t);if(1===a){t=this.tip;break}if(2===a){t=this.tip,o=!0;break}s++}if(s===i){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var l=t.type,c=this.blank&&!("blockQuote"===l||ld(t)&&t.isFenced||"item"===l&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),u=t;u;)u.lastLineBlank=c,u=u.parent;Kd[l].acceptsLines?(this.addLine(),"htmlBlock"===t.type&&1<=t.htmlBlockType&&t.htmlBlockType<=5&&hp[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},bp.prototype.parse=function(e,t){this.doc=gp(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=e.split(mp),r=n.length;this.lines=t||n,this.options.referenceDefinition&&this.clearRefMaps(),10===e.charCodeAt(e.length-1)&&--r;for(var o=0;o<r;o++)this.incorporateLine(n[o]);for(;this.tip;)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},bp.prototype.partialParseStart=function(e,t){this.doc=gp(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},bp.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},bp.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},bp.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},bp.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){var t=e;Object.keys(t).forEach(function(e){delete t[e]})})},bp);function bp(e){this.options=Oc(Oc({},vp),e),this.doc=gp(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Kd.frontMatter=pp,up.unshift(cp)),this.inlineParser=new qd(this.options)}function wp(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function kp(e,t){for(var n=0,r=t;n<r.length;n++){var o=r[n];e.insertBefore(o)}}function xp(e,t){var n=e[0];return e[1][0]<t?1:n[0]>t?-1:0}function Cp(e,t){for(var n=e.firstChild;n;){var r=xp(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild}function Tp(e){return xu[e]||null}function Mp(e,t,n){if(void 0===n&&(n=null),t)for(var r=t.walker();t&&t!==n;){e(t);var o=r.next();if(!o)break;t=o.node}}var Ep=/\r\n|\n|\r/;function Sp(e){return{id:e.id,title:e.title,sourcepos:e.sourcepos,unlinked:!1,destination:e.dest}}S.prototype.updateLineTexts=function(e,t,n){var r=e[0],e=e[1],o=t[0],t=t[1],n=n.split(Ep),i=n.length,s=this.lineTexts[r-1],a=this.lineTexts[o-1],s=(n[0]=s.slice(0,e-1)+n[0],n[i-1]=n[i-1]+a.slice(t-1),o-r+1);return(e=this.lineTexts).splice.apply(e,Dc([r-1,s],n)),i-s},S.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];else{this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)--t;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]}},S.prototype.replaceRangeNodes=function(e,t,n){if(e){kp(e,n);var r=e,o=t;if(r.parent===o.parent&&r!==o){for(var i=r.next;i&&i!==o;){for(var s=i.next,a=0,l=["parent","prev","next"];a<l.length;a++){var c=l[a];i[c]&&(Cu(i[c].id),i[c]=null)}i=s}r.next=o.next,o.next?o.next.prev=r:r.parent.lastChild=r}[e.id,t.id].forEach(Cu),e.unlink()}else if(t)kp(t,n),Cu(t.id),t.unlink();else for(var u=this.root,d=n,p=d.length-1;0<=p;--p)u.prependChild(d[p])},S.prototype.getNodeRange=function(e,t){var e=Cp(this.root,e[0]),n=Cp(this.root,t[0]);return[e,n=n&&n.next&&t[0]+1===n.next.sourcepos[0][0]?n.next:n]},S.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(e){e(t)})},S.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},S.prototype.parseRange=function(e,t,n,r){var o;e&&e.prev&&(cd(e.prev)&&(o=this.lineTexts[n-1],(i=o.match(/^[ \t]+/))&&(2<=i[0].length||/\t/.test(i[0]))||(i=i?o.slice(i.length):o,sp.test(i))||ap.test(i))||"table"===e.prev.type&&!Wd(o=this.lineTexts[n-1])&&-1!==o.indexOf("|"))&&(n=(e=e.prev).sourcepos[0][0]);for(var i=this.lineTexts.slice(n-1,r),s=this.parser.partialParseStart(n,i),a=t?t.next:this.root.firstChild,n=s.lastChild,l=n&&ld(n)&&n.open,c=n&&dd(n)&&n.open,u=n&&cd(n);(l||c)&&a||u&&a&&("list"===a.type||2<=a.sourcepos[0][1]);){var d=this.extendEndLine(a.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,d)),e=e||t,r=d,a=(t=a).next}return this.parser.partialParseFinish(),{newNodes:function(){for(var e=[],t=s.firstChild;t;)e.push(t),t=t.next;return e}(),extStartNode:e,extEndNode:t}},S.prototype.getRemovedNodeRange=function(e,t){return!e||ud(e)||t&&ud(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},S.prototype.markDeletedRefMap=function(e,t){var n,r=this;wd(this.refMap)||(n=function(e){var t;ud(e)&&(t=r.refMap[e.label])&&e.id===t.id&&(t.unlinked=!0)},e&&Mp(n,e.parent,t),t&&Mp(n,t))},S.prototype.replaceWithNewRefDefState=function(e){var t,r=this;wd(this.refMap)||(t=function(e){var t,n;ud(e)&&(t=e.label,(n=r.refMap[t])&&!n.unlinked||(r.refMap[t]=Sp(e)))},e.forEach(function(e){Mp(t,e)}))},S.prototype.replaceWithRefDefCandidate=function(){var i=this;wd(this.refDefCandidateMap)||bd(this.refDefCandidateMap,function(e,t){var n=t.label,r=t.sourcepos,o=i.refMap[n];(!o||o.unlinked||o.sourcepos[0][0]>r[0][0])&&(i.refMap[n]=Sp(t))})},S.prototype.getRangeWithRefDef=function(e,t,n,r,o){var i,s;return this.referenceDefinition&&!wd(this.refMap)&&(i=Cp(this.root,e-1),s=Cp(this.root,t+1),i&&ud(i)&&i!==n&&i!==r&&(e=(n=i).sourcepos[0][0]),s)&&ud(s)&&s!==n&&s!==r&&(t=this.extendEndLine((r=s).sourcepos[1][0]+o)),[n,r,e,t]},S.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),o=r[0],r=r[1],e=o?Math.min(o.sourcepos[0][0],e[0]):e[0],t=this.extendEndLine((r?Math.max(r.sourcepos[1][0],t[0]):t[0])+n),e=this.parseRange.apply(this,this.getRangeWithRefDef(e,t,o,r,n)),t=e.newNodes,o=e.extStartNode,r=e.extEndNode,n=this.getRemovedNodeRange(o,r),e=r?r.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(o,r),this.replaceRangeNodes(o,r,t),this.replaceWithNewRefDefState(t)):this.replaceRangeNodes(o,r,t),{nodes:t,removedNodeRange:n,nextNode:e}},S.prototype.parseRefLink=function(){var o=this,i=[];return wd(this.refMap)||bd(this.refMap,function(r,e){e.unlinked&&delete o.refMap[r],bd(o.refLinkCandidateMap,function(e,t){var n=t.node;t.refLabel===r&&i.push(o.parse(n.sourcepos[0],n.sourcepos[1]))})}),i},S.prototype.removeUnlinkedCandidate=function(){wd(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){bd(e,function(t){!function(){var e=Tp(t);if(!e)return 1;for(;e&&"document"!==e.type;){if(!e.parent&&!e.prev&&!e.next)return 1;e=e.parent}}()||delete e[t]})})},S.prototype.editMarkdown=function(e,t,n){var n=this.updateLineTexts(e,t,n),e=this.parse(e,t,n),t=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Oc({},e);return t.forEach(function(e){delete r[e]}),r}(e,"nextNode"),e=e.nextNode,r=n;if(e&&e.parent&&0!==r){var o,i=e.parent.walker();for(i.resumeAt(e,!0);o=i.next();){var s=o.node;o.entering&&(s.sourcepos[0][0]+=r,s.sourcepos[1][0]+=r)}}this.updateRootNodeState();n=[t];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),n=n.concat(this.parseRefLink())),this.trigger("change",n),n},S.prototype.getLineTexts=function(){return this.lineTexts},S.prototype.getRootNode=function(){return this.root},S.prototype.findNodeAtPosition=function(e){e=function(e,t){for(var n,r,o=e,i=null;o;){s=o.sourcepos,n=t,r=void 0,r=s[0];var s=1===wp(s[1],n)?1:-1===wp(r,n)?-1:0;if(0==s){if(!o.firstChild)return o;o=(i=o).firstChild}else{if(-1==s)return i;if(!o.next)return i;o=o.next}}return o}(this.root,e);return e&&e!==this.root?e:null},S.prototype.findFirstNodeAtLine=function(e){for(var t=this.root,n=e,r=t.firstChild,o=null;r;){var i=xp(r.sourcepos,n);if(0===i){if(r.sourcepos[0][0]===n||!r.firstChild)return r;r=(o=r).firstChild}else{if(-1===i)break;r=(o=r).next}}if(o){for(var s=function(e){for(;e.lastChild;)e=e.lastChild;return e}(o);s.parent&&"document"!==s.parent.type&&s.parent.sourcepos[0][0]===s.sourcepos[0][0];)s=s.parent;return s}return null},S.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},S.prototype.off=function(e,t){e=this.eventHandlerMap[e],t=e.indexOf(t);e.splice(t,1)},S.prototype.findNodeById=Tp,S.prototype.removeAllNode=function(){xu={}};var Np=S,Op=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");function S(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!(null==t||!t.referenceDefinition),this.parser=new yp(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},this.lineTexts=(e=e||"").split(Ep),this.root=this.parser.parse(e,this.lineTexts)}function Dp(e){return Op.test(e)?e.replace(Op,function(e,t){return"&lt;"+t}):e}var Ap={heading:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){return{type:"html",content:t.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){t=t.entering,e=null==(e=e.parent)?void 0:e.parent;return e&&"list"===e.type&&e.listData.tight?null:{type:t?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var t=t.entering,e=e.listData,n=e.type,e=e.start,n="bullet"===n?"ul":"ol",r={};return"ol"==n&&null!==e&&1!==e&&(r.start=e.toString()),{type:t?"openTag":"closeTag",tagName:n,attributes:r,outerNewLine:!0}},item:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){return{type:"html",content:t.options.tagFilter?Dp(e.literal):e.literal}},htmlBlock:function(e,t){t=t.options,e=t.tagFilter?Dp(e.literal):e.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:e},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:e,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,t=t?t.split(/\s+/):[],n=[];return 0<t.length&&0<t[0].length&&n.push("language-"+mu(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:n},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){return t.entering?(t=e.title,e=e.destination,{type:"openTag",tagName:"a",attributes:Oc({href:mu(e)},t&&{title:mu(t)})}):{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,t=t.skipChildren,r=e.title,o=e.destination;return t(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Oc({src:mu(o),alt:n(e)},r&&{title:mu(r)})}},customBlock:function(e,t,n){var r=e.info.trim().toLowerCase(),n=n[r];if(n)try{return n(e,t)}catch(e){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+e)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(e){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:e.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(e,t,n){var r=e.info,o=e.firstChild,i=r.trim().toLowerCase(),n=n[i],s=t.entering;if(n)try{return n(e,t)}catch(e){console.warn("[@toast-ui/editor] - The error occurred when "+i+" inline node was parsed in markdown renderer: "+e)}return s?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+r+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Lp={strike:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var t=t.entering,e=e.listData,n=e.checked,e=e.task;return t?(t={type:"openTag",tagName:"li",outerNewLine:!0},e?[t,{type:"openTag",tagName:"input",selfClose:!0,attributes:Oc(Oc({},n&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:t):{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){if(t.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(e.lastChild)for(var r=e.parent.parent.columns.length,o=e.lastChild.endIdx+1;o<r;o+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(e,t){var n,r,t=t.entering;return e.ignored?{type:"text",content:""}:(n="tableHead"===(r=e.parent.parent).type?"th":"td",e=null!=(r=r.parent.columns[e.startIdx])&&r.align?{align:r.align}:null,t?Oc({type:"openTag",tagName:n,outerNewLine:!0},e&&{attributes:e}):{type:"closeTag",tagName:n,outerNewLine:!0})}},Ip={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function Rp(e){for(var t=[],n=e.walker();r=n.next();){var r=r.node;"text"===r.type&&t.push(r.literal)}return t.join("")}zp.prototype.createConvertors=function(){var t,e,n,i=Oc({},Ap);return this.options.gfm&&(i=Oc(Oc({},i),Lp)),this.options.convertors&&(t=this.options.convertors,e=Object.keys(t),n=Oc(Oc({},Ap),Lp),e.forEach(function(e){var r=i[e],o=t[e],e=-1===Object.keys(n).indexOf(e)?e.toLowerCase():e;i[e]=r?function(e,t,n){return t.origin=function(){return r(e,t,n)},o(e,t)}:o})),i},zp.prototype.getConvertors=function(){return this.convertors},zp.prototype.getOptions=function(){return this.options},zp.prototype.render=function(e){var o=this;this.buffer=[];for(var i=e.walker(),s=null,a=this;s=i.next();)!function(){var n=s.node,e=s.entering,t=a.convertors[n.type];if(!t)return;var r=!1,e={entering:e,leaf:!wu(n),options:a.options,getChildrenText:Rp,skipChildren:function(){r=!0}},t=dd(n)||"customInline"===n.type?t(n,e,a.convertors):t(n,e);t&&((Array.isArray(t)?t:[t]).forEach(function(e,t){"openTag"===e.type&&o.options.nodeId&&0===t&&(e.attributes||(e.attributes={}),e.attributes["data-nodeid"]=String(n.id)),o.renderHTMLNode(e)}),r)&&(i.resumeAt(n,!1),i.next())}();return this.addNewLine(),this.buffer.join("")},zp.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e)}},zp.prototype.generateOpenTagString=function(e){var n=this,t=e.tagName,r=e.classNames,o=e.attributes;this.buffer.push("<"+t),r&&0<r.length&&this.buffer.push(' class="'+r.join(" ")+'"'),o&&Object.keys(o).forEach(function(e){var t=o[e];n.buffer.push(" "+e+'="'+t+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},zp.prototype.generateCloseTagString=function(e){e=e.tagName;this.buffer.push("</"+e+">")},zp.prototype.addNewLine=function(){this.buffer.length&&"\n"!==vd(vd(this.buffer))&&this.buffer.push("\n")},zp.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},zp.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},zp.prototype.renderTextNode=function(e){this.buffer.push(mu(e.content))},zp.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},zp.prototype.renderElementNode=function(e){"openTag"===e.type?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))};var Pp=zp,l=l0(368),Bp=l0.n(l),Fp=["iframe","embed"],Hp=[];function zp(e){this.buffer=[],this.options=Oc(Oc({},Ip),e),this.convertors=this.createConvertors(),delete this.options.convertors}function qp(e){T(Fp,e)&&Hp.push(e.toLowerCase())}function Vp(e,t){return Bp().sanitize(e,x({ADD_TAGS:Hp,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},t))}function jp(e,t){return e.literal.replace(new RegExp("(<\\s*"+t+"[^>]*>)|(</"+t+"\\s*[>])","ig"),"").trim()}function $p(e){e=(e=e.match(Ls)[0]).match(new RegExp(Os,"g"));return e?e.reduce(function(e,t){var t=t.trim().split("="),n=t[0],t=t.slice(1);return t.length&&(e[n]=t.join("=").replace(/'|"/g,"").trim()),e},{}):{}}function _p(e){return Qo()(e.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function Up(e,t,n,r){n=n(r.getToDOMNode(t)(e).outerHTML),r=document.createElement("div");return r.innerHTML=n,{dom:t=r.firstChild,htmlAttrs:_p(t)}}var Wp={htmlBlock:function(n,r,o){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:n,getAttrs:function(e){return{htmlAttrs:_p(e),childrenHTML:e.innerHTML}}}],toDOM:function(e){var e=Up(e,n,r,o),t=e.dom,e=e.htmlAttrs;return e.class=e.class?e.class+" html-block":"html-block",B([n,e],Qo()(t.childNodes))}}},htmlInline:function(t,n,r){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(e){return{htmlAttrs:_p(e)}}}],toDOM:function(e){e=Up(e,t,n,r).htmlAttrs;return[t,e,0]}}}},Jp=/^\s*<\s*\//,Gp={paragraph:function(e,t){var n=t.entering,r=t.origin;return t.options.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){return{type:"html",content:e.prev&&"htmlInline"===e.prev.type&&/<br ?\/?>/.test(e.prev.literal)?"\n":"<br>\n"}},item:function(e,t){var n;return t.entering?(t={},n=[],e.listData.task&&(t["data-task"]="",n.push("task-list-item"),e.listData.checked)&&(n.push("checked"),t["data-task-checked"]=""),{type:"openTag",tagName:"li",classNames:n,attributes:t,outerNewLine:!0}):{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":String(e.tickCount)}},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.fenceLength,n=e.info,n=n?n.split(/\s+/):[],r=[],o={};return 3<t&&(o["data-backticks"]=t),0<n.length&&0<n[0].length&&(t=n[0],r.push("lang-"+t),o["data-language"]=t),[{type:"openTag",tagName:"pre",classNames:r},{type:"openTag",tagName:"code",attributes:o},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(e,t){var n=t.origin,r=t.entering,t=t.skipChildren,o=e.info;return-1!==o.indexOf("widget")&&r?(t(),[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:ks(o,Ts(e)).outerHTML},{type:"closeTag",tagName:"span"}]):n()}};function Kp(r,t){var n=x({},Gp);return r&&(n.link=function(e,t){var n=t.entering,t=(0,t.origin)();return n&&(t.attributes=x(x({},t.attributes),r)),t}),t&&Object.keys(t).forEach(function(e){var r=n[e],a=t[e];r&&oa()(a)?n[e]=function(e,t){var n=x({},t);return n.origin=function(){return r(e,t)},a(e,n)}:T(["htmlBlock","htmlInline"],e)&&!oa()(a)?n[e]=function(e,t){var n=e.literal.match(Ls);if(n){var r,o=n[0],i=n[1],n=n[3],i=(i||n).toLowerCase(),n=a[i],s=jp(e,i);if(n)return(r=x({},e)).attrs=$p(o),r.childrenHTML=s,r.type=i,t.entering=!Jp.test(e.literal),n(r,t)}return t.origin()}:n[e]=a}),n}var Zp=["list","item","blockQuote"],Xp=["UL","OL","BLOCKQUOTE"];function Qp(e,t,n){var r=ss(t)-1,t=as(t)-1,o=n[r].getBoundingClientRect(),i=n[t].offsetTop-n[r].offsetTop+n[t].clientHeight;return{height:i<=0?n[r].clientHeight:i+function(e,t,n){for(var r=e.childCount-1,o=0;n<=r&&function(e,t){return!(e=e.child(t)).childCount||1===e.childCount&&(null==(t=e.firstChild.text)||!t.trim())}(e,n);)o+=t[n].clientHeight,n+=1;return o}(e,n,Math.min(1+t,e.childCount-1)),rect:o}}function Yp(e,t){for(var n=0;e&&e!==t&&(T(Xp,e.tagName)||(n+=e.offsetTop),e.offsetParent!==t.offsetParent);)e=e.parentElement;return n}function eh(e,t){for(var n,r=e.querySelector('[data-nodeid="'+t.id+'"]');!r||"strike"===(n=(n=t).type)||"strong"===n||"emph"===n||"code"===n||"link"===n||"image"===n;)t=t.parent,r=e.querySelector('[data-nodeid="'+t.id+'"]');for(var o={mdNode:t,el:r},i=o.mdNode,s=o.el;(T(Zp,i.type)||"table"===i.type)&&i.firstChild;)i=i.firstChild,s=s.firstElementChild;return{mdNode:i,el:s}}var th={};function nh(e){e&&(delete th[Number(e.getAttribute("data-nodeid"))],Qo()(e.children).forEach(function(e){nh(e)}))}var rh=h("md-preview-highlight");ih.prototype.initContentSection=function(){this.previewContent=Vs('<div class="'+h("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},ih.prototype.toggleActive=function(e){qs(this.el,"active",e)},ih.prototype.initEvent=function(e){var n=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),this.isViewer||(e&&(this.eventEmitter.listen("changeToolbarState",function(e){var t=e.mdNode,e=e.cursorPos;n.updateCursorNode(t,e)}),this.eventEmitter.listen("blur",function(){n.removeHighlight()})),Ec()(this.el,"scroll",function(e){n.eventEmitter.emit("scroll","preview",function(e,t){for(var n=t,r=null;n;){var o=n.firstElementChild;if(!o)break;n=function e(t,n,r){return t&&n>r+t.offsetTop?e(t.nextElementSibling,n,r)||t:null}(o,e,Yp(r=n,t))}var i=n||r;return i===t?null:i}(e.target.scrollTop,n.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return n.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return n.toggleActive(!1)}))},ih.prototype.removeHighlight=function(){var e;this.cursorNodeId&&(e=this.getElementByNodeId(this.cursorNodeId))&&Be()(e,rh)},ih.prototype.updateCursorNode=function(e,t){e&&("tableRow"===(e=hs(e,function(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!1;default:return!void 0}return!0})).type?e=function(e,t){for(var n=e.firstChild;n&&n.next&&!(ls(n.next)>t+1);)n=n.next;return n}(e,t[1]):"tableBody"===e.type&&(e=null));var n,t=e?e.id:null;this.cursorNodeId!==t&&(e=this.getElementByNodeId(this.cursorNodeId),n=this.getElementByNodeId(t),e&&Be()(e,rh),n&&Pe()(n,rh),this.cursorNodeId=t)},ih.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},ih.prototype.update=function(e){var t=this;e.forEach(function(e){return t.replaceRangeNodes(e)}),this.eventEmitter.emit("afterPreviewRender",this)},ih.prototype.replaceRangeNodes=function(e){var t=this,n=e.nodes,e=e.removedNodeRange,r=this.previewContent,n=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map(function(e){return t.renderer.render(e)}).join("")));if(e){var e=e.id,o=e[0],e=e[1],o=this.getElementByNodeId(o),i=this.getElementByNodeId(e);if(o){o.insertAdjacentHTML("beforebegin",n);for(var s=o;s&&s!==i;){var a=s.nextElementSibling;zs(s),nh(s),s=a}null!=s&&s.parentNode&&(zs(s),nh(s))}}else r.insertAdjacentHTML("afterbegin",n)},ih.prototype.getRenderer=function(){return this.renderer},ih.prototype.destroy=function(){Mc()(this.el,"scroll"),this.el=null},ih.prototype.getElement=function(){return this.el},ih.prototype.getHTML=function(){return Ws(this.previewContent.innerHTML)},ih.prototype.setHTML=function(e){this.previewContent.innerHTML=e},ih.prototype.setHeight=function(e){Re()(this.el,{height:e+"px"})},ih.prototype.setMinHeight=function(e){Re()(this.el,{minHeight:e+"px"})};var oh=ih;function ih(e,t){var n=document.createElement("div"),n=(this.el=n,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=h("md-preview"),t.linkAttributes),e=t.customHTMLRenderer,r=t.sanitizer,t=t.highlight,t=void 0!==t&&t;this.renderer=new Pp({gfm:!0,nodeId:!0,convertors:Kp(n,e)}),this.cursorNodeId=null,this.sanitizer=r,this.initEvent(t),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}function sh(e,t){for(var n=e.depth;n;){var r=e.node(n);if(t(r,n))return{node:r,depth:n,offset:0<n?e.before(n):0};--n}return null}function ah(e){return sh(e,function(e){e=e.type;return"listItem"===e.name||"bulletList"===e.name||"orderedList"===e.name})}function lh(e){return!!sh(e,function(e){e=e.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name})}function ch(e){return sh(e,function(e){return"listItem"===e.type.name})}function uh(e){return{tag:e,getAttrs:function(e){e=e.getAttribute("data-raw-html");return x({},e&&{rawHTML:e})}}}function dh(n){return Object.keys(n).reduce(function(e,t){return"rawHTML"!==t&&n[t]&&(e[t="className"===t?"class":t]=n[t]),e},{})}function ph(e){return{tag:e,getAttrs:function(r){return["rawHTML","colspan","rowspan","extended"].reduce(function(e,t){var n=r.getAttribute("rawHTML"===t?"data-raw-html":t);return n&&(e[t]=T(["rawHTML","extended"],t)?n:Number(n)),e},{})}}}function N(e){var t=e.htmlAttrs,e=e.classNames;return x(x({},t),{class:e?e.join(" "):null})}function hh(e,t,n,r){var a,o,i,s=t.$from,l=t.$to,c=t.depth,u=t,d=!1,u=(2<=c&&s.node(c-1).type.compatibleContent(n)&&0===t.startIndex&&s.index(c-1)&&(o=e.doc.resolve(t.start-2),u=new ne(o,o,c),t.endIndex<t.parent.childCount&&(t=new ne(s,e.doc.resolve(l.end(c)),c)),d=!0),a=t,i=r,s=o=n,c=(l=u).parent,r=l.startIndex,l=l.endIndex,c=(u=c.contentMatchAt(r).findWrapping(s))&&(s=u.length?u[0]:s,c.canReplaceWith(r,l,s))?u:null,r=function(e){var t=a.parent,n=a.startIndex,r=a.endIndex,o=t.child(n),o=e.contentMatch.findWrapping(o.type);if(o){for(var i=(o.length?o[o.length-1]:e).contentMatch,s=n;i&&s<r;s+=1)i=i.matchType(t.child(s).type);if(i&&i.validEnd)return o}return null}(o),c&&r?(l=c.map(function(e){return{type:e}}),s=r.map(function(e){return{type:e,attrs:i}}),l.concat({type:o}).concat(s)):null);if(u){for(var p=e,c=t,h=u,r=d,f=n,l=c.start,s=c.end,m=c.startIndex,t=c.endIndex,g=c.parent,v=C.empty,y=h.length-1;0<=y;--y)v=C.from(h[y].type.create(h[y].attrs,v));p.step(new St(l-(r?2:0),s,l,s,new Z(v,0,0),h.length,!0));for(var b=0,y=0;y<h.length;y+=1)if(h[y].type===f){b=y+1;break}for(var w=h.length-b,k=l+h.length-(r?2:0),x=(y=m,t);y<x;y+=1)y!==m&&At(p.doc,k,w)&&(p.split(k,w),k+=2*w),k+=g.child(y).nodeSize;return p}return e}function fh(e,t){for(var n=e.resolve(t);"paragraph"!==n.node().type.name;)n=e.resolve(t-=2);return ch(n)}function mh(o){return function(e,t){var n=e.selection,e=e.tr,r=n.$from,n=n.$to,c=r.blockRange(n);return!!c&&(t(ah(r)?function(e,t){var n=c.$from,r=c.$to,o=ch(n),i=ch(r);if(o&&i)for(;i;){var s=i.offset,a=i.node,l=i.depth,a=(a.attrs.task&&e.setNodeMarkup(s,null,{task:!1,checked:!1}),e.doc.resolve(s));if(a.parent.type!==t&&(a=a.before(l-1),e.setNodeMarkup(a,t)),s===o.offset)break;i=fh(e.doc,s)}return e}(e,o):hh(e,c,o)),!0)}}function gh(){return function(e,t){var n=e.selection,r=e.tr,e=e.schema,o=n.$from,n=n.$to,a=o.blockRange(n);return!!a&&(t(ah(o)?function(e){var t=a.$from,n=a.$to,r=ch(t),o=ch(n);if(r&&o)for(;o;){var i=o.offset,s={task:!o.node.attrs.task,checked:!1};if(e.setNodeMarkup(i,null,s),i===r.offset)break;o=fh(e.doc,i)}return e}(r):hh(r,a,e.nodes.bulletList,{task:!0})),!0)}}function vh(u){return function(e,t){var n,r,o,i,s,a,l=e.tr,e=e.selection,c=e.$from,e=e.$to,e=c.blockRange(e,function(e){var t=e.childCount,e=e.firstChild;return!!t&&e.type===u});return!!e&&(t(c.node(e.depth-1).type===u?(t=l,c=u,r=(n=e).$from,o=n.$to,i=n.end,s=n.depth,a=n.parent,o=o.end(s),i<o&&(t.step(new St(i-1,o,i,o,new Z(C.from(c.create(null,a.copy())),1,0),1,!0)),n=new ne(t.doc.resolve(r.pos),t.doc.resolve(o),s)),t.lift(n,Ot(n)),t):function(e,t){for(var n=t.parent,r=t.end,o=t.endIndex-1,i=t.startIndex;i<o;--o)r-=n.child(o).nodeSize,e.delete(r-1,r+1);var s=e.doc.resolve(t.start),a=s.nodeAfter,l=0===t.startIndex,t=t.endIndex===n.childCount,c=s.node(-1),u=s.index(-1),c=c.canReplace(u+(l?0:1),u+1,null==a?void 0:a.content.append(t?C.empty:C.from(n)));return a&&c&&(c=(u=s.pos)+a.nodeSize,e.step(new St(u-(l?1:0),c+(t?1:0),u+1,c-1,new Z((l?C.empty:C.from(n.copy(C.empty))).append(t?C.empty:C.from(n.copy(C.empty))),l?0:1,t?0:1),l?0:1))),e}(l,e)),!0)}}function yh(){return function(){return function(e,t){var s,n=e.selection,r=e.schema,o=n.$from,n=n.$to;return!(!o.blockRange(n)||!ah(o))&&(s=r.nodes.listItem,function(e,t){var n,r,o=e.tr,e=e.selection,i=e.$from,e=e.$to,i=i.blockRange(e,function(e){var t=e.childCount,e=e.firstChild;return!!t&&e.type===s});return!!(i&&0<i.startIndex)&&(n=(e=i.parent).child(i.startIndex-1)).type===s&&(r=(n=n.lastChild&&n.lastChild.type===e.type)?C.from(s.create()):null,e=new Z(C.from(s.create(null,C.from(e.type.create(null,r)))),n?3:1,0),r=i.start,i=i.end,o.step(new St(r-(n?3:1),i,r,i,e,1,!0)),t(o),!0)}(e,t))}}}function bh(){return{indent:yh(),outdent:function(){return function(e,t){var n=e.selection,r=e.schema,o=n.$from,n=n.$to;return!(!o.blockRange(n)||!ah(o))&&vh(r.nodes.listItem)(e,t)}}}}var wh=new Map,kh=(O.create=function(e){var t,n,r,o,i,s=sh(e,function(e){return"table"===e.type.name});return s?(t=s.node,r=s.depth,s=s.offset,(null==(i=wh.get(t))?void 0:i.tableStartPos)===s+1?i:(n=[],s=e.start(r),i=t.child(0),e=t.child(1),r=xh(i,s),o=xh(e,s+i.nodeSize),i.forEach(function(e){return n.push(e)}),e.forEach(function(e){return n.push(e)}),i=new O(t,n,s,r.concat(o)),wh.set(t,i),i)):null},Object.defineProperty(O.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),O.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},O.prototype.posAt=function(e,t){for(var n=0,r=this.tableStartPos;;n+=1){var o=r+this.tableRows[n].nodeSize;if(n===e){for(var i=t;i<this.totalColumnCount&&this.rowInfo[n][i].offset<r;)i+=1;return i===this.totalColumnCount?o:this.rowInfo[n][i].offset}r=o}},O.prototype.getNodeAndPos=function(e,t){e=this.rowInfo[e][t];return{node:this.table.nodeAt(e.offset-this.tableStartOffset),pos:e.offset}},O.prototype.extendedRowspan=function(e,t){return!1},O.prototype.extendedColspan=function(e,t){return!1},O.prototype.getRowspanCount=function(e,t){return 0},O.prototype.getColspanCount=function(e,t){return 0},O.prototype.decreaseColspanCount=function(e,t){return 0},O.prototype.decreaseRowspanCount=function(e,t){return 0},O.prototype.getColspanStartInfo=function(e,t){return null},O.prototype.getRowspanStartInfo=function(e,t){return null},O.prototype.getCellStartOffset=function(e,t){var n=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):n},O.prototype.getCellEndOffset=function(e,t){var n=this.rowInfo[e][t],r=n.offset,n=n.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):r+n},O.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var n=this.rowInfo[t],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>e.pos)return[t,r];return[0,0]},O.prototype.getRectOffsets=function(e,t){void 0===t&&(t=e),e.pos>t.pos&&(e=(r=[t,e])[0],t=r[1]);var n,r=this.getCellIndex(e),e=r[0],r=r[1],t=this.getCellIndex(t),o=t[0],t=t[1],e=(n=ft(e,o))[0],o=n[1],r=(n=ft(r,t))[0],t=n[1];return this.getSpannedOffsets({startRowIdx:e,startColIdx:r,endRowIdx:o,endColIdx:t})},O.prototype.getSpannedOffsets=function(e){return e},O),xh=function(e,i){var t=[];return e.forEach(function(e,r){var o={rowspanMap:{},colspanMap:{},length:0};e.forEach(function(e,t){for(var e=e.nodeSize,n=0;o[n];)n+=1;o[n]={offset:i+r+t+2,nodeSize:e},o.length+=1}),t.push(o)}),t};function O(e,t,n,r){this.table=e,this.tableRows=t,this.tableStartPos=n,this.rowInfo=r}function Ch(e,t){return ht(kh.prototype,e),xh=t,kh}r(Eh,Th=g),Eh.prototype.map=function(e,t){var n=this.startCell.pos,r=this.endCell.pos,n=e.resolve(t.map(n)),t=e.resolve(t.map(r)),r=kh.create(n);return this.offsetMap.totalColumnCount>r.totalColumnCount||this.offsetMap.totalRowCount>r.totalRowCount?(r={tableBody:1,tableRow:2,tableCell:3,paragraph:4}[t.parent.type.name],r=t.end(t.depth-r),r=Math.min(r-4,t.pos),y.create(e,r)):new Eh(n,t)},Eh.prototype.eq=function(e){return e instanceof Eh&&e.startCell.pos===this.startCell.pos&&e.endCell.pos===this.endCell.pos},Eh.prototype.content=function(){for(var e=this.startCell.node(-2),t=this.startCell.start(-2),n=e.child(1).firstChild,r=e.child(0).type.create(),o=e.child(1).type.create(),i=kh.create(this.startCell),s=i.getRectOffsets(this.startCell,this.endCell),a=s.startRowIdx,l=s.startColIdx,c=s.endRowIdx,u=s.endColIdx,d=!1,p=a;p<=c;p+=1){for(var h=[],f=l;f<=u;f+=1){var m=i.getCellInfo(p,f).offset,m=e.nodeAt(m-t);m&&(d="tableHeadCell"===m.type.name,i.extendedRowspan(p,f)||i.extendedColspan(p,f)?h.push(m.type.create({extended:!0})):h.push(m.copy(m.content)))}var g=n.copy(C.from(h)),v=d?r:o;v.content=v.content.append(C.from(g))}return new Z((s=o,a=[],r.childCount&&a.push(r),s.childCount&&a.push(s),C.from(a)),1,1)},Eh.prototype.toJSON=function(){return JSON.stringify(this)};var Th,Mh=Eh;function Eh(e,t){void 0===t&&(t=e);var n=this,r=e.node(0),o=kh.create(e),d=o.getRectOffsets(e,t),r=function(e,t){for(var n=d.startRowIdx,r=d.startColIdx,o=d.endRowIdx,i=d.endColIdx,s=[],a=n;a<=o;a+=1)for(var l=r;l<=i;l+=1){var c=t.getCellInfo(a,l),u=c.offset,c=c.nodeSize;s.push(new $t(e.resolve(u+1),e.resolve(u+c-1)))}return s}(r,o);return(n=Th.call(this,r[0].$from,r[0].$to,r)||this).startCell=e,n.endCell=t,n.offsetMap=o,n.isCellSelection=!0,n.visible=!1,n}function Sh(e,t,n,r){for(var o=n.nodes,i=o.tableRow,s=o.tableBodyCell,a=o.paragraph,l=[],c=0;c<e;c+=1){for(var u=[],d=0;d<t;d+=1){var p=r&&r[c*t+d],p=a.create(null,p?n.text(p):[]);u.push(s.create(null,p))}l.push(i.create(null,u))}return l}function Nh(e,t,n,r){void 0===r&&(r=null);for(var n=n.nodes,o=n.tableHeadCell,i=n.tableBodyCell,s=n.paragraph,a=0===t?o:i,l=[],c=0;c<e;c+=1)l.push(a.create(r,s.create()));return l}function Oh(e,t){for(;e&&e!==t;){if("TD"===e.nodeName||"TH"===e.nodeName)return e;e=e.parentNode}return null}function Dh(e){return sh(e,function(e){e=e.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name})}function Ah(e){if(e instanceof y){var t=e.$anchor,n=Dh(t);if(n)return{anchor:t=t.node(0).resolve(t.before(n.depth)),head:t}}return{anchor:e.startCell,head:e.endCell}}function Lh(e){var t;if(e.size){var n=e.content,r=e.openStart,o=e.openEnd;if(1!==n.childCount)return null;for(;1===n.childCount&&(0<r&&0<o||"table"===(null==(t=n.firstChild)?void 0:t.type.name));)--r,--o,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function Ih(e){var t=e.startRowIdx,n=e.startColIdx;return{rowCount:e.endRowIdx-t+1,columnCount:e.endColIdx-n+1}}var Rh=new ln("cellSelection");Fh.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},Fh.prototype.handleMousedown=function(e){var t=Oh(e.target,this.view.dom);2!==e.button?t&&((t=this.getCellPos(e))&&(this.startCellPos=t),this.bindEvent()):e.preventDefault()},Fh.prototype.handleMousemove=function(e){var t,n=Rh.getState(this.view.state),e=this.getCellPos(e),r=this.startCellPos;n?t=this.view.state.doc.resolve(n):r!==e&&(t=r),t&&r&&e&&this.setCellSelection(r,e)},Fh.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==Rh.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(Rh,-1))},Fh.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},Fh.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},Fh.prototype.getCellPos=function(e){var t=e.clientX,e=e.clientY,t=this.view.posAtCoords({left:t,top:e});if(t){var e=this.view.state.doc,t=e.resolve(t.pos),n=Dh(t);if(n)return t=t.before(n.depth),e.resolve(t)}return null},Fh.prototype.setCellSelection=function(e,t){var n=this.view.state,r=n.selection,n=n.tr,o=null===Rh.getState(this.view.state),e=new Mh(e,t);!o&&r.eq(e)||(r=n.setSelection(e),o&&r.setMeta(Rh,t.pos),this.view.dispatch(r))},Fh.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)};var Ph=Fh,Bh=h("cell-selected");function Fh(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}function Hh(e){var n,t=e.selection,e=e.doc;return t instanceof Mh?(n=[],t.ranges.forEach(function(e){var t=e.$from,e=e.$to;n.push(To.node(t.pos-1,e.pos+1,{class:Bh}))}),M.create(e,n)):null}var Pc=l0(928),zh=l0.n(Pc);_h.prototype.getKeyIndex=function(e){return zh()(e,this.keys)},_h.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},_h.prototype.set=function(e,t){var n=this.getKeyIndex(e);return-1<n?this.values[n]=t:(this.keys.push(e),this.values.push(t)),this},_h.prototype.has=function(e){return-1<this.getKeyIndex(e)},_h.prototype.delete=function(e){e=this.getKeyIndex(e);return-1<e&&(this.keys.splice(e,1),this.values.splice(e,1),!0)},_h.prototype.forEach=function(n,r){var o=this;void 0===r&&(r=this),this.values.forEach(function(e,t){e&&o.keys[t]&&n.call(r,e,o.keys[t],o)})},_h.prototype.clear=function(){this.keys=[],this.values=[]};var qh=_h,Vh="en-US";$h.prototype.setCode=function(e){this.code=e||Vh},$h.prototype.setLanguage=function(e,n){var r=this;(e=[].concat(e)).forEach(function(e){var t;r.langs.has(e)?(t=r.langs.get(e),r.langs.set(e,Ie()(t,n))):r.langs.set(e,n)})},$h.prototype.get=function(e,t){t=t||this.code;var n=(this.langs.get(t)||this.langs.get(Vh))[e];if(n)return n;throw new Error('There is no text key "'+e+'" in '+t)};var D=new $h,jh=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function $h(){this.code=Vh,this.langs=new qh}function _h(){this.keys=[],this.values=[]}function Uh(l){return new on({props:{handleDOMEvents:{contextmenu:function(e,t){var n,r,o,i,s,a=Oh(t.target,e.dom);return!!a&&(t.preventDefault(),n=t.clientX,t=t.clientY,r=(e=e.dom.parentNode.getBoundingClientRect()).left,e=e.top,o="TH"===a.nodeName,l.emit("contextmenu",{pos:{left:n-r+10+"px",top:t-e+30+"px"},menuGroups:(i=l,s=o,jh.map(function(e){return e.map(function(e){var t=e.action,n=e.command,r=e.payload,o=e.disableInThead,e=e.className;return{label:D.get(t),onClick:function(){i.emit("command",n,r)},disabled:s&&!!o,className:e}})}).concat()),tableCell:a}),!0)}}}})}var Wh=["image","link","customBlock","frontMatter"],Jh=["strong","strike","emph","code"],Gh=["bulletList","orderedList","taskList"];function Kh(e,t,u){var d=e.$from,p=e.$to,n=e.from,e=e.to,h={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return t.nodesBetween(n,e,function(e,t,n){var r,o,i,s,a,l,c,e="listItem"===(r=e.type.name)?e.attrs.task?"taskList":n.type.name:-1!==r.indexOf("table")?"table":r;T(Wh,e)||(T(Gh,e)?((c=h)[l=e]={active:!0},Gh.filter(function(e){return e!==l}).forEach(function(e){c[e]&&delete c[e]}),h.indent.disabled=!1,h.outdent.disabled=!1):"paragraph"===e||"text"===e?(o=d,i=p,s=u,a=h,Jh.forEach(function(e){var t=s.marks[e],n=o.marksAcross(i)||[];t.isInSet(n)&&(a[e]={active:!0})})):h[e]={active:!0})}),h}lf.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");t.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",function(){return e.openEditor()}),t.appendChild(n),t.appendChild(r),this.wrapper.appendChild(t)},lf.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(e=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);e&&this.wrapper.appendChild(e),this.renderToolArea()}},lf.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=h("custom-block-editor"),this.innerViewContainer.style.display="none"},lf.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},lf.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(b(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},lf.prototype.cancelEditing=function(){var e=function(e){e=Ki.getState(e);return e?e.done.eventCount:0}(this.innerEditorView.state);for(this.canceled=!0;e--;)Qi(this.innerEditorView.state,this.innerEditorView.dispatch),Qi(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(y.create(n.doc,t))),this.editorView.focus(),this.closeEditor()},lf.prototype.dispatchInner=function(e){var e=this.innerEditorView.state.applyTransaction(e),t=e.state,n=e.transactions;if(this.innerEditorView.updateState(t),!this.canceled&&oa()(this.getPos)){for(var r=this.editorView.state.tr,o=yt.offset(this.getPos()+1),i=0;i<n.length;i+=1)for(var s=n[i].steps,a=0;a<s.length;a+=1)r.step(s[a].map(o));r.docChanged&&this.editorView.dispatch(r)}},lf.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0)},lf.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},lf.prototype.ignoreMutation=function(){return!0},lf.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()};var Zh=lf,Xh="image-link",Qh=(af.prototype.createElement=function(){var e,t=this.createImageElement(this.node);return this.imageLink?((e=document.createElement("span")).className=Xh,e.appendChild(t),e):t},af.prototype.createImageElement=function(e){var t=document.createElement("img"),n=e.attrs,r=n.imageUrl,n=n.altText,e=N(e.attrs);return t.src=r,n&&(t.alt=n),Us(e,t),t},af.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},af.prototype.stopEvent=function(){return!0},af.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},af),Yh=(sf.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div"),e=(t.setAttribute("data-language",e||"text"),t.className="toastui-editor-ww-code-block",this.createCodeBlockElement()),n=e.firstChild;t.appendChild(e),this.dom=t,this.contentDOM=n},sf.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),n=this.node.attrs.language,r=N(this.node.attrs);return n&&t.setAttribute("data-language",n),Us(r,e),e.appendChild(t),e},sf.prototype.createLanguageEditor=function(e){var t=this,n=e.top,e=e.right,r=document.createElement("span"),o=(r.className="toastui-editor-ww-code-block-language",document.createElement("input")),i=(o.type="text",o.value=this.node.attrs.language,r.appendChild(o),this.view.dom.parentElement.appendChild(r),r.clientWidth);Re()(r,{top:n+10+"px",left:e-i-10+"px",width:i+"px"}),this.input=o,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},sf.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},sf.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},sf.prototype.changeLanguage=function(){var e,t,n;this.input&&oa()(this.getPos)&&(e=this.input.value,this.reset(),t=this.getPos(),(n=this.view.state.tr).setNodeMarkup(t,null,{language:e}),this.view.dispatch(n))},sf.prototype.reset=function(){var e;null!=(e=this.input)&&e.parentElement&&(e=this.input.parentElement,this.input=null,zs(e))},sf.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},sf.prototype.stopEvent=function(){return!0},sf.prototype.update=function(e){return!!e.sameMarkup(this.node)&&(this.node=e,!0)},sf.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},sf),ef=/MsoListParagraph/,tf=/style=(.|\n)*mso-/,nf=/mso-list:(.*)/,rf=/O:P/,of=/^(n|u|l)/;function sf(e,t,n,r){var o=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(e){var t,e=e.target;"none"!==getComputedStyle(e,":after").backgroundImage&&oa()(o.getPos)&&(t=(e=o.view.coordsAtPos(o.getPos())).top,e=e.right,o.createLanguageEditor({top:t,right:e}))},this.handleKeydown=function(e){"Enter"===e.key&&o.input&&(e.preventDefault(),o.changeLanguage())},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}function af(e,t,n,r){var o=this;this.handleMousedown=function(e){e.preventDefault();var t=e.target,n=e.offsetX,r=e.offsetY;o.imageLink&&oa()(o.getPos)&&Ss()(t,Xh)&&(t=getComputedStyle(t,":before"),e.stopPropagation(),Bs(t,n,r))&&(e=o.view.state.tr,t=o.getPos(),e.setSelection(b(e,t,t+1)),o.view.dispatch(e),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs))},this.node=e,this.view=t,this.getPos=n,this.eventEmitter=r,this.imageLink=null!=(t=e.marks.filter(function(e){return"link"===e.type.name})[0])?t:null,this.dom=this.createElement(),this.bindEvent()}function lf(e,t,n,r){var o=this;this.openEditor=function(){if(o.innerEditorView)throw new Error("The editor is already opened.");o.dom.draggable=!1,o.wrapper.style.display="none",o.innerViewContainer.style.display="block",o.innerEditorView=new Uo(o.innerViewContainer,{state:rn.create({doc:o.node,plugins:[ai({"Mod-z":function(){return Qi(o.innerEditorView.state,o.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Yi(o.innerEditorView.state,o.innerEditorView.dispatch)},Tab:function(e,t){return t(e.tr.insertText("\t")),!0},Enter:hi,Escape:function(){return o.cancelEditing(),!0},"Ctrl-Enter":function(){return o.saveAndFinishEditing(),!0}}),Xi()]}),dispatchTransaction:function(e){return o.dispatchInner(e)},handleDOMEvents:{mousedown:function(){return o.editorView.hasFocus()&&o.innerEditorView.focus(),!0},blur:function(){return o.saveAndFinishEditing(),!0}}}),o.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=h("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=h("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}function cf(e){var s=[];return e.forEach(function(e,t){var n,r=s[t-1],t=(t=t,(n=(e=e).getAttribute("style"))?(n=n.match(nf)[1].trim().split(" ")[1],{id:t,level:parseInt(n.replace("level",""),10),prev:null,parent:null,children:[],unordered:of.test(e.textContent||""),contents:function(e){for(var t=[],n=document.createTreeWalker(e,1,null,!1);n.nextNode();){var r,o,i,s=n.currentNode;Hs(s)&&(i=s.outerHTML,r=s.textContent,o=tf.test(i),i=nf.test(i),o&&!i&&r?t.push([s,!0]):(rf.test(s.nodeName)||o&&!r||i)&&t.push([s,!1]))}return t.forEach(function(e){var t=e[0];(e[1]?function(e){for(var t=[];e.firstChild;)t.push(e.firstChild),e.parentNode&&e.parentNode.insertBefore(e.firstChild,e);zs(e)}:zs)(t)}),e.innerHTML.trim()}(e)}):null);if(t){if(r){var o=t,i=r;if(i.level<o.level)i.children.push(o),o.parent=i;else{for(;i&&i.level!==o.level;)i=i.parent;i&&(o.prev=i,o.parent=i.parent,o.parent)&&o.parent.children.push(o)}}s.push(t)}}),s}function uf(e){return function r(e){var t=e[0].unordered?"ul":"ol",o=document.createElement(t);return e.forEach(function(e){var t=e.children,e=e.contents,n=document.createElement("li");n.innerHTML=e,o.appendChild(n),t.length&&o.appendChild(r(t))}),o}(cf(e).filter(function(e){return!e.parent}))}function df(e){var o=document.createElement("div");o.innerHTML=e;var i=[],e=(e=o,(e=Qo()(e.querySelectorAll("p.MsoListParagraph"))).length?e:[]);return e.forEach(function(e){var t,n,r=function(e){for(;e&&!Hs(e);)e=e.nextSibling;return!e||!ef.test(e.className)}(e.nextSibling);i.push(e),r&&(r=uf(i),(n=e.nextSibling)?(n=n).parentNode&&n.parentNode.insertBefore(r,n):(t=o,n=r,(n=Es()(n)?Qo()(n):[n]).forEach(function(e){t.appendChild(e)})),i=[]),zs(e)}),(e.length?"<p></p>":"")+o.innerHTML}var pf="\x3c!--StartFragment--\x3e";function hf(e){return n=(t=e).indexOf(pf),r=t.lastIndexOf("\x3c!--EndFragment--\x3e"),n=e=(t=-1<n&&-1<r?t.slice(n+pf.length,r):t).replace(/<br[^>]*>/g,Ps),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(n)&&(n="<tr>"+n+"</tr>"),r=e=n=/<\/tr>((?!<\/table>)[\s\S])*$/i.test(n)?"<table>"+n+"</table>":n,e=tf.test(r)?df(e):e;var t,n,r}function ff(e,t,n){for(var r,o=[],i=e.childCount,s=0;s<i;s+=1)e.child(s).attrs.extended||(r=s<i?n.create(e.child(s).attrs,e.child(s).content):n.createAndFill(),o.push(r));return o}function mf(e,t,n){var n=n.nodes,r=n.tableRow,e=ff(e,0,n.tableHeadCell);return r.create(null,e)}function gf(e,t,n){var n=n.nodes,r=n.tableRow,e=ff(e,0,n.tableBodyCell);return r.create(null,e)}function vf(e){var t=[],n=[];return"tableHead"===e.firstChild.type.name&&e.firstChild.forEach(function(e){return t.push(e)}),"tableBody"===e.lastChild.type.name&&e.lastChild.forEach(function(e){return n.push(e)}),B(B([],t),n)}function yf(e,t,a){var n=e.map(function(e){return gf(e,0,a)});return e.length||(e=function(e){for(var t=a.nodes,n=t.tableRow,r=t.tableBodyCell,o=[],i=0;i<e;i+=1){var s=r.createAndFill();o.push(s)}return n.create({dummyRowForPasting:!0},o)}(t),n.push(e)),a.nodes.tableBody.create(null,n)}function bf(e,s,a){var l=[],t=e.content,n=e.openStart,e=e.openEnd;return t.forEach(function(e){var t,n,r,o,i;"table"===e.type.name?(r=Lh(new Z(C.from(e),0,0)))&&(t=vf(r),r="tableBody"===r.firstChild.type.name,n=s,r=r,o=a,i=(t=t).reduce(function(e,t){return e.childCount>t.childCount?e:t}).childCount,t=r&&o?n.nodes.table.create(null,[yf(t,i,n)]):(r=t[0],o=t.slice(1),r=[(t=mf(t=r,0,r=n),r.nodes.tableHead.create(null,t))],o.length&&r.push(yf(o,i,n)),n.nodes.table.create(null,r)),l.push(t)):l.push(e)}),new Z(C.from(l),n,e)}r(Gf,Nf=o),Object.defineProperty(Gf.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(Gf.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0});var A,wf,kf,xf,Cf,Tf,Mf,Ef,Sf,Nf,Of=Gf,Df=(r(Jf,Sf=o),Object.defineProperty(Jf.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(Jf.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:x({},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"p"}],toDOM:function(e){return["p",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),Jf),Af=/\s{1,4}$/,Lf=(r(Wf,Ef=o),Object.defineProperty(Wf.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(Wf.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),Wf.prototype.addSpaces=function(){return function(e,t){var n=e.selection,e=e.tr,r=n.$from,n=n.$to;return!(!r.blockRange(n)||ah(r)||lh(r)||(t(e.insertText("    ",r.pos,n.pos)),0))}},Wf.prototype.removeSpaces=function(){return function(e,t){var n=e.selection,e=e.tr,r=n.$from,o=n.$to,n=n.from;if(r.blockRange(o)&&!ah(r)&&!lh(r)){var o=r.nodeBefore;if(o&&o.isText)return o=(r=o.text).replace(Af,""),r=r.length-o.length,t(e.delete(n-r,n)),!0}return!1}},Wf.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},Wf),If=(r(Uf,Mf=o),Object.defineProperty(Uf.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(Uf.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(Uf.prototype,"schema",{get:function(){var e=this.levels.map(function(t){return{tag:"h"+t,getAttrs:function(e){e=e.getAttribute("data-raw-html");return x({level:t},e&&{rawHTML:e})}}});return{attrs:x({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:e,toDOM:function(e){e=e.attrs;return["h"+e.level,N(e),0]}}},enumerable:!1,configurable:!0}),Uf.prototype.commands=function(){return function(n){return function(e,t){return wi(e.schema.nodes[n.level?"heading":"paragraph"],n)(e,t)}}},Uf),Rf=(r(_f,Tf=o),Object.defineProperty(_f.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(_f.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:x({language:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var t=e.getAttribute("data-raw-html"),e=e.firstElementChild;return x({language:(null==e?void 0:e.getAttribute("data-language"))||null},t&&{rawHTML:t})}}],toDOM:function(e){e=e.attrs;return[e.rawHTML||"pre",["code",x({"data-language":e.language},N(e)),0]]}}},enumerable:!1,configurable:!0}),_f.prototype.commands=function(){return function(){return function(e,t){return wi(e.schema.nodes.codeBlock)(e,t)}}},_f.prototype.moveCursor=function(a){var l=this;return function(e,t){var n=e.tr,r=e.doc,o=e.schema,e=e.selection.$from;if(l.context.view.endOfTextblock(a)&&"codeBlock"===e.node().type.name){var i=e.parent.textContent.split("\n"),s="up"===a?e.start():e.end(),i="up"===a?[s,i[0].length+s]:[s-lt(i).length,s],s=r.resolve("up"===a?e.before():e.after()),r="up"===a?s.nodeBefore:s.nodeAfter,e=e.pos;if(i[0]<=e&&e<=i[1]&&!r){e=ns(n,s,o);if(e)return t(e),!0}}return!1}},_f.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-p":e,"Shift-Mod-P":e,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},_f),Pf=(r($f,Cf=o),Object.defineProperty($f.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty($f.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[uh("ul")],toDOM:function(e){return["ul",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),$f.prototype.changeList=function(){return function(e,t){return mh(e.schema.nodes.bulletList)(e,t)}},$f.prototype.commands=function(){return{bulletList:this.changeList,taskList:gh}},$f.prototype.keymaps=function(){var e=this.changeList(),t=bh(),n=t.indent,t=t.outdent;return{"Mod-u":e,"Mod-U":e,Tab:n(),"Shift-Tab":t()}},$f),Bf=(r(jf,xf=o),Object.defineProperty(jf.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(jf.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:x({order:{default:1},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"ol",getAttrs:function(e){var t=e.getAttribute("start"),n=e.getAttribute("data-raw-html");return x({order:e.hasAttribute("start")?Number(t):1},n&&{rawHTML:n})}}],toDOM:function(e){e=e.attrs;return[e.rawHTML||"ol",x({start:1===e.order?null:e.order},N(e)),0]}}},enumerable:!1,configurable:!0}),jf.prototype.commands=function(){return function(){return function(e,t){return mh(e.schema.nodes.orderedList)(e,t)}}},jf.prototype.keymaps=function(){var e=this.commands()(),t=bh(),n=t.indent,t=t.outdent;return{"Mod-o":e,"Mod-O":e,Tab:n(),"Shift-Tab":t()}},jf),Ff=(r(Vf,kf=o),Object.defineProperty(Vf.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(Vf.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(e){var t=e.getAttribute("data-raw-html");return x({task:e.hasAttribute("data-task"),checked:e.hasAttribute("data-task-checked")},t&&{rawHTML:t})}}],toDOM:function(e){var t,e=e.attrs,n=e.task,r=e.checked;return n?(t=["task-list-item"],r&&t.push("checked"),[e.rawHTML||"li",x({class:t.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]):[e.rawHTML||"li",0]}}},enumerable:!1,configurable:!0}),Vf.prototype.liftToPrevListItem=function(){return function(e,t){var n=e.selection,r=e.tr,e=e.schema,o=n.$from,n=n.empty,e=e.nodes.listItem,i=o.parent,s=o.node(-1);if(n&&!i.childCount&&s.type===e){if(1<=o.index(-2))return r.delete(o.start(-1)-1,o.end(-1)),t(r),!0;if(o.node(-3).type===e)return r.delete(o.start(-2)-1,o.end(-1)),t(r),!0}return!1}},Vf.prototype.keymaps=function(){return{Backspace:this.liftToPrevListItem(),Enter:function(e,t){o=e.schema.nodes.listItem;var n=(e=e).tr,r=(e=e.selection).$from,e=e.$to;if(r.depth<2||!r.sameParent(e))return!1;var o,i=r.node(-1);if(i.type!==o)return!1;if(0!==r.parent.content.size||r.node(-1).childCount!==r.indexAfter(-1))return i=(s=e.pos===r.end()?i.contentMatchAt(0).defaultType:null)&&[null,{type:s}],n.delete(r.pos,e.pos),!!At(n.doc,r.pos,2,i)&&(n.split(r.pos,2,i),t(n),!0);if(2===r.depth||r.node(-3).type!==o||r.index(-2)!==r.node(-2).childCount-1)return!1;for(var s=0<r.index(-1),a=C.empty,l=r.depth-(s?1:2);l>=r.depth-3;--l)a=C.from(r.node(l).copy(a));return a=a.append(C.from(o.createAndFill())),n.replace(s?r.before():r.before(-1),r.after(-3),new Z(a,s?3:2,2)),n.setSelection(g.near(n.doc.resolve(r.pos+(s?3:2)))),t(n),!0}}},Vf),Hf=(r(qf,wf=o),Object.defineProperty(qf.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(qf.prototype,"schema",{get:function(){return{attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"block+",group:"block",parseDOM:[uh("blockquote")],toDOM:function(e){return["blockquote",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),qf.prototype.commands=function(){return function(){return function(e,t){return bi(e.schema.nodes.blockQuote)(e,t)}}},qf.prototype.keymaps=function(){var e=this.commands()();return{"Alt-q":e,"Alt-Q":e}},qf),zf={left:function(e,t){var n=e[0],e=e[1],r=t.totalColumnCount,o=0===e;return 0===n&&o?null:(--e,o&&(--n,e=r-1),(o=t.getCellInfo(n,e)).offset+o.nodeSize-2)},right:function(e,t){var n=e[0],e=e[1],r=t.totalRowCount,o=t.totalColumnCount,i=e===o-1;return n===r-1&&i?null:(r=e+1,1<(null==(e=t.getColspanStartInfo(n,e))?void 0:e.count)&&(r+=e.count-1),!i&&r!==o||(n+=1,r=0),t.getCellInfo(n,r).offset+2)},up:function(e,t){var n=e[0],e=e[1];return 0<n?(t=t.getCellInfo(n-1,e)).offset+t.nodeSize-2:null},down:function(e,t){var n,r=e[0],e=e[1];return r<t.totalRowCount-1?(n=r+1,1<(null==(r=t.getRowspanStartInfo(r,e))?void 0:r.count)&&(n+=r.count-1),t.getCellInfo(n,e).offset+2):null}};function qf(){return null!==wf&&wf.apply(this,arguments)||this}function Vf(){return null!==kf&&kf.apply(this,arguments)||this}function jf(){return null!==xf&&xf.apply(this,arguments)||this}function $f(){return null!==Cf&&Cf.apply(this,arguments)||this}function _f(){return null!==Tf&&Tf.apply(this,arguments)||this}function Uf(){return null!==Mf&&Mf.apply(this,arguments)||this}function Wf(){return null!==Ef&&Ef.apply(this,arguments)||this}function Jf(){return null!==Sf&&Sf.apply(this,arguments)||this}function Gf(){return null!==Nf&&Nf.apply(this,arguments)||this}function Kf(s,e,t,n){var r=e[0],e=e[1],o=r+3,a=o<=e,r=a?r+1:e,e=function(e,t,n){var r,o,i=e[2];if(s===A.LEFT||s===A.UP){if(a&&(o=(e=[e[0],e[1]])[0],e=e[1],r=(r=n).resolve(t.before(o-1)),e!==o||r.nodeBefore))return!1;e=t.before(i);if(n.resolve(e).nodeBefore)return!1}return!0}([e,o,r],t,n),o=function(e,t,n){if(s===A.RIGHT||s===A.DOWN){if(a&&!function(e){for(var t,n,r,o=e.depth;o&&"tableBodyCell"!==(t=e.node(o)).type.name;){if("listItem"===t.type.name)return n=e.node(o-1).lastChild===t,r="paragraph"!==(null==(r=t.lastChild)?void 0:r.type.name),n&&!r;--o}}(t))return!1;t=t.after(e);if(n.resolve(t).nodeAfter)return!1}return!0}(r,t,n);return e&&o}function Zf(e,t,n){var r=n[0],n=n[1],n=t.getRowspanStartInfo(r,n),o=e===A.UP&&0===r,e=e===A.DOWN&&(1<(null==n?void 0:n.count)?r+n.count-1:r)===t.totalRowCount-1;return o||e}function Xf(e,t,n,r){void 0===r&&(r=!1);t=e.doc.resolve(t.tableEndOffset);return r||!t.nodeAfter?ns(e,t,n):e.setSelection(g.near(t,1))}function Qf(e,t,n,r){n=(0,zf[e])(n,r);return n?(r=e===A.RIGHT||e===A.DOWN?1:-1,t.setSelection(g.near(t.doc.resolve(n),r))):null}(c=A=A||{}).LEFT="left",c.RIGHT="right",c.UP="up",c.DOWN="down";r(Wm,fm=o),Object.defineProperty(Wm.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(Wm.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[uh("table")],toDOM:function(e){return["table",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),Wm.prototype.addTable=function(){return function(c){return void 0===c&&(c={rowCount:2,columnCount:1,data:[]}),function(e,t){var n=c.rowCount,r=c.columnCount,o=c.data,i=e.schema,s=e.selection,e=e.tr,a=s.from,l=s.to,s=s.$from;return a===l&&!lh(s)&&(l=(a=i.nodes).tableHead,s=a.tableBody,a=null==o?void 0:o.slice(0,r),o=null==o?void 0:o.slice(r,o.length),a=function(e,t,n){for(var r=t.nodes,o=r.tableRow,i=r.tableHeadCell,s=r.paragraph,a=[],l=0;l<e;l+=1){var c=n&&n[l],c=s.create(null,c?t.text(c):[]);a.push(i.create(null,c))}return[o.create(null,a)]}(r,i,a),n=Sh(n-1,r,i,o),r=i.nodes.table.create(null,[l.create(null,a),s.create(null,n)]),t(e.replaceSelectionWith(r)),!0)}}},Wm.prototype.removeTable=function(){return function(){return function(e,t){var n,r=e.selection,e=e.tr,r=kh.create(r.$anchor);return!!r&&(n=r.tableStartOffset,r=r.tableEndOffset,r=b(e.delete(n=n-1,r),n),t(e.setSelection(r)),!0)}}},Wm.prototype.addColumn=function(d){return function(){return function(e,t){var n=e.selection,r=e.tr,o=e.schema,e=Ah(n),n=e.anchor,e=e.head;if(n&&e){for(var i=kh.create(n),n=i.getRectOffsets(n,e),s=d===A.LEFT?n.startColIdx:n.endColIdx+1,a=Ih(n).columnCount,l=i.totalRowCount,c=0;c<l;c+=1){var u=Nh(a,c,o);r.insert(r.mapping.map(i.posAt(c,s)),u)}return t(r),!0}return!1}}},Wm.prototype.removeColumn=function(){return function(){return function(e,t){var n=e.selection,r=e.tr,e=Ah(n),n=e.anchor,e=e.head;if(n&&e){var o=kh.create(n),n=o.getRectOffsets(n,e),e=o.totalColumnCount,i=o.totalRowCount;if(Ih(n).columnCount===e)return!1;for(var s=n.startColIdx,a=n.endColIdx,l=r.mapping.maps.length,c=0;c<i;c+=1)for(var u=a;s<=u;--u){var d=o.getCellInfo(c,u),p=d.offset,d=d.nodeSize,p=r.mapping.slice(l).map(p);r.delete(p,p+d)}return t(r),!0}return!1}}},Wm.prototype.addRow=function(m){return function(){return function(e,t){var n=e.selection,r=e.schema,e=e.tr,n=Ah(n),o=n.anchor,n=n.head;if(o&&n){var i=kh.create(o),s=i.totalColumnCount,o=i.getRectOffsets(o,n),a=Ih(o).rowCount,o=(n=i,n=m===A.UP?(c=o.startRowIdx,d=0,-1):(c=o.endRowIdx,d=n.totalColumnCount-1,n.getCellInfo(c,d).nodeSize+1),{targetRowIdx:c,insertColIdx:d,nodeSize:n}),l=o.targetRowIdx,c=o.nodeSize;if(0!==l){for(var u=[],d=e.mapping.map(i.posAt(l,o.insertColIdx))+c,p=[],h=0;h<s;h+=1)p=p.concat(Nh(1,l,r));for(var f=0;f<a;f+=1)u.push(r.nodes.tableRow.create(null,p));return t(e.insert(d,u)),!0}}return!1}}},Wm.prototype.removeRow=function(){return function(){return function(e,t){var n,r,o,i=e.selection,s=e.tr,e=Ah(i),i=e.anchor,e=e.head;if(i&&e){var a=kh.create(i),l=a.totalRowCount,c=a.totalColumnCount,i=a.getRectOffsets(i,e),e=Ih(i).rowCount,u=i.startRowIdx,i=i.endRowIdx;if(e===l-1||0===u)return!1;for(var d=i;u<=d;--d){p=d,r=c,o=void 0,o=(n=a).getCellInfo(p,0).offset,n=n.getCellInfo(p,r-1);var p={from:o,to:n.offset+n.nodeSize};s.delete(p.from-1,p.to+1)}return t(s),!0}return!1}}},Wm.prototype.alignColumn=function(){return function(f){return void 0===f&&(f={align:"center"}),function(e,t){var n,r=f.align,o=e.selection,i=e.tr,e=Ah(o),o=e.anchor,e=e.head;if(o&&e){for(var s,a,l=kh.create(o),c=l.totalRowCount,o=l.getRectOffsets(o,e),u=o.startColIdx,d=o.endColIdx,p=0;p<c;p+=1)for(var h=u;h<=d;h+=1)l.extendedRowspan(p,h)||l.extendedColspan(p,h)||(s=l.getNodeAndPos(p,h),a=s.node,s=s.pos,n={align:r},a=x(x({},a.attrs),n),i.setNodeMarkup(s,null,a));return t(i),!0}return!1}}},Wm.prototype.moveToCell=function(i){return function(e,t){var n=e.selection,r=e.tr,e=e.schema,n=Ah(n),o=n.anchor,n=n.head;if(o&&n){n=kh.create(o),o=n.getCellIndex(o);if(e=Zf(i,n,o)?Xf(r,n,e):Qf(i,r,o,n))return t(e),!0}return!1}},Wm.prototype.moveInCell=function(u){var d=this;return function(e,t){var n=e.selection,r=e.tr,o=e.doc,e=e.schema,i=n.$from;if(d.context.view.endOfTextblock(u)){var s=sh(i,function(e){e=e.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name});if(s){var a=sh(i,function(e){return"paragraph"===e.type.name}),l=s.depth;if(a&&Kf(u,[l,a.depth],i,o)){var s=Ah(n).anchor,a=kh.create(s),c=a.getCellIndex(s),o=void 0;if(function(e,t){var n,r,o=c[0],i=c[1];if(e!==A.UP&&e!==A.DOWN)return n=t.tableStartOffset,r=t.tableEndOffset,o=(t=t.getCellInfo(o,i)).offset,i=t.nodeSize,(e===A.LEFT?n:r)===(e===A.LEFT?o-2:o+i+3)}(u,a)?o=function(e,t){t=e.doc.resolve(t.before(l-3));return e.setSelection(new p(t))}(r,i):Zf(u,a,c)?u===A.UP?(n=e,o=(i=(s=r).doc.resolve(a.tableStartOffset-1)).nodeBefore?s.setSelection(g.near(i,-1)):ns(s,i,n)):u===A.DOWN&&(o=Xf(r,a,e)):o=Qf(u,r,c,a),o)return t(o),!0}}}return!1}},Wm.prototype.deleteCells=function(){return function(e,t){var n=e.schema,r=e.selection,o=e.tr,e=Ah(r),i=e.anchor,e=e.head;if(!i||!e||r instanceof y)return!1;for(var s,a,l,c=kh.create(i),r=c.getRectOffsets(i,e),i=r.startRowIdx,u=r.startColIdx,d=r.endRowIdx,p=r.endColIdx,h=i;h<=d;h+=1)for(var f=u;f<=p;f+=1)c.extendedRowspan(h,f)||c.extendedColspan(h,f)||(s=(a=c.getNodeAndPos(h,f)).node,a=a.pos,l=Nh(1,h,n,s.attrs),o.replaceWith(o.mapping.map(a),o.mapping.map(a+s.nodeSize),l));return t(o),!0}},Wm.prototype.exitTable=function(){return function(e,t){var n=e.selection,r=e.tr,e=e.schema,o=n.$from;return!(!sh(o,function(e){e=e.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name})||!sh(o,function(e){return"paragraph"===e.type.name})||(o=Ah(n).anchor,t(Xf(r,kh.create(o),e,!0)),0))}},Wm.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn(A.LEFT),addColumnToRight:this.addColumn(A.RIGHT),removeColumn:this.removeColumn(),addRowToUp:this.addRow(A.UP),addRowToDown:this.addRow(A.DOWN),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},Wm.prototype.keymaps=function(){var e=this.deleteCells();return{Tab:this.moveToCell(A.RIGHT),"Shift-Tab":this.moveToCell(A.LEFT),ArrowUp:this.moveInCell(A.UP),ArrowDown:this.moveInCell(A.DOWN),ArrowLeft:this.moveInCell(A.LEFT),ArrowRight:this.moveInCell(A.RIGHT),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e,"Mod-Enter":this.exitTable()}};var Yf,em,tm,nm,rm,om,im,sm,am,lm,cm,um,dm,pm,hm,fm,mm=Wm,gm=(r(Um,hm=o),Object.defineProperty(Um.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(Um.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[uh("thead")],toDOM:function(e){return["thead",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),Um),vm=(r(_m,pm=o),Object.defineProperty(_m.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(_m.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tbody",getAttrs:function(e){var t=e.querySelectorAll("tr")[0].children.length,e=e.getAttribute("data-raw-html");return!!t&&x({},e&&{rawHTML:e})}}],toDOM:function(e){return["tbody",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),_m),ym=(r($m,dm=o),Object.defineProperty($m.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty($m.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tr",getAttrs:function(e){var t=e.children.length,e=e.getAttribute("data-raw-html");return!!t&&x({},e&&{rawHTML:e})}}],toDOM:function(e){return["tr",N(e.attrs),0]}}},enumerable:!1,configurable:!0}),$m),bm=(r(jm,um=o),Object.defineProperty(jm.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(jm.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:x({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),isolating:!0,parseDOM:[ph("th")],toDOM:function(e){var e=e.attrs,t=dh(e);return["th",x(x({},t),N(e)),0]}}},enumerable:!1,configurable:!0}),jm),wm=(r(Vm,cm=o),Object.defineProperty(Vm.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(Vm.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[ph("td")],toDOM:function(e){return["td",dh(e.attrs),0]}}},enumerable:!1,configurable:!0}),Vm),km=(r(qm,lm=o),Object.defineProperty(qm.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(qm.prototype,"schema",{get:function(){return{inline:!0,attrs:x({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(e){var e=Vp(e,{RETURN_DOM_FRAGMENT:!0}).firstChild,t=e.getAttribute("src")||"",n=e.getAttribute("data-raw-html"),e=e.getAttribute("alt");return x({imageUrl:t,altText:e},n&&{rawHTML:n})}}],toDOM:function(e){e=e.attrs;return[e.rawHTML||"img",x(x({src:Qe(e.imageUrl)},e.altText&&{alt:e.altText}),N(e))]}}},enumerable:!1,configurable:!0}),qm.prototype.addImage=function(){return function(i){return function(e,t){var n=e.schema,e=e.tr,r=i.imageUrl,o=i.altText;return!!r&&(n=n.nodes.image.createAndFill(x({imageUrl:r},o&&{altText:o})),t(e.replaceSelectionWith(n).scrollIntoView()),!0)}}},qm.prototype.commands=function(){return{addImage:this.addImage()}},qm),xm=(r(zm,am=o),Object.defineProperty(zm.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(zm.prototype,"schema",{get:function(){return{attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(e){e=e.attrs;return["div",N(e),[e.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),zm.prototype.hr=function(){var a=this;return function(){return function(e,t){var n,r,o,i=e.selection,s=i.$from;return s===i.$to&&(i=e.doc,r=(n=e.schema.nodes).thematicBreak,n=n.paragraph,r=[r.create()],o=s.node(1),o=i.child(i.childCount-1)===o,i=i.resolve(s.after(1)),s=(null==(s=s.nodeAfter)?void 0:s.type.name)===a.name,(o||s)&&r.push(n.create()),t(e.tr.insert(i.pos,r).scrollIntoView()),!0)}}},zm.prototype.commands=function(){return{hr:this.hr()}},zm.prototype.keymaps=function(){var e=this.hr()();return{"Mod-l":e,"Mod-L":e}},zm),Cm=(r(Hm,sm=n),Object.defineProperty(Hm.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(Hm.prototype,"schema",{get:function(){var e=["b","strong"].map(function(e){return{tag:e,getAttrs:function(e){e=e.getAttribute("data-raw-html");return x({},e&&{rawHTML:e})}}});return{attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:e,toDOM:function(e){e=e.attrs;return[e.rawHTML||"strong",N(e)]}}},enumerable:!1,configurable:!0}),Hm.prototype.bold=function(){return function(){return function(e,t){return ki(e.schema.marks.strong)(e,t)}}},Hm.prototype.commands=function(){return{bold:this.bold()}},Hm.prototype.keymaps=function(){var e=this.bold()();return{"Mod-b":e,"Mod-B":e}},Hm),Tm=(r(Fm,im=n),Object.defineProperty(Fm.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(Fm.prototype,"schema",{get:function(){var e=["i","em"].map(function(e){return{tag:e,getAttrs:function(e){e=e.getAttribute("data-raw-html");return x({},e&&{rawHTML:e})}}});return{attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:e,toDOM:function(e){e=e.attrs;return[e.rawHTML||"em",N(e)]}}},enumerable:!1,configurable:!0}),Fm.prototype.italic=function(){return function(){return function(e,t){return ki(e.schema.marks.emph)(e,t)}}},Fm.prototype.commands=function(){return{italic:this.italic()}},Fm.prototype.keymaps=function(){var e=this.italic()();return{"Mod-i":e,"Mod-I":e}},Fm),Mm=(r(Bm,om=n),Object.defineProperty(Bm.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(Bm.prototype,"schema",{get:function(){var e=["s","del"].map(function(e){return{tag:e,getAttrs:function(e){e=e.getAttribute("data-raw-html");return x({},e&&{rawHTML:e})}}});return{attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:e,toDOM:function(e){e=e.attrs;return[e.rawHTML||"del",N(e)]}}},enumerable:!1,configurable:!0}),Bm.prototype.commands=function(){return function(){return function(e,t){return ki(e.schema.marks.strike)(e,t)}}},Bm.prototype.keymaps=function(){var e=this.commands()();return{"Mod-s":e,"Mod-S":e}},Bm),Em=(r(Pm,rm=n),Object.defineProperty(Pm.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(Pm.prototype,"schema",{get:function(){var t=this;return{attrs:x({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var e=Vp(e,{RETURN_DOM_FRAGMENT:!0}).firstChild,t=e.getAttribute("href")||"",n=e.getAttribute("title")||"",e=e.getAttribute("data-raw-html");return x({linkUrl:t,title:n},e&&{rawHTML:e})}}],toDOM:function(e){e=e.attrs;return[e.rawHTML||"a",x(x({href:Qe(e.linkUrl)},t.linkAttributes),N(e))]}}},enumerable:!1,configurable:!0}),Pm.prototype.addLink=function(){return function(l){return function(e,t){var n=l.linkUrl,r=l.linkText,r=void 0===r?"":r,o=e.schema,i=e.tr,e=e.selection,s=e.empty,a=e.from,e=e.to;return!!(a&&e&&n)&&(n=o.mark("link",{linkUrl:n}),s&&r?(s=ts(o,r,n),i.replaceRangeWith(a,e,s)):i.addMark(a,e,n),t(i.scrollIntoView()),!0)}}},Pm.prototype.toggleLink=function(){return function(n){return function(e,t){return ki(e.schema.marks.link,n)(e,t)}}},Pm.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},Pm),Sm=(r(Rm,nm=n),Object.defineProperty(Rm.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(Rm.prototype,"schema",{get:function(){return{attrs:x({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"code",getAttrs:function(e){e=e.getAttribute("data-raw-html");return x({},e&&{rawHTML:e})}}],toDOM:function(e){e=e.attrs;return[e.rawHTML||"code",N(e)]}}},enumerable:!1,configurable:!0}),Rm.prototype.commands=function(){return function(){return function(e,t){return ki(e.schema.marks.code)(e,t)}}},Rm.prototype.keymaps=function(){var e=this.commands()();return{"Shift-Mod-c":e,"Shift-Mod-C":e}},Rm),Nm=(r(Im,tm=o),Object.defineProperty(Im.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(Im.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(e){return{info:e.getAttribute("data-custom-info")}}}],toDOM:function(e){return["div",{"data-custom-info":e.attrs.info||null},0]}}},enumerable:!1,configurable:!0}),Im.prototype.commands=function(){return function(n){return function(e,t){return!(null==n||!n.info)&&wi(e.schema.nodes.customBlock,n)(e,t)}}},Im),Om=(r(Lm,em=o),Object.defineProperty(Lm.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(Lm.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),Lm.prototype.commands=function(){return function(){return function(e,t,n){var r=e.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&mi(e,t)}}},Lm.prototype.keymaps=function(){return{Enter:this.commands()()}},Lm),Dm=(r(Am,Yf=o),Object.defineProperty(Am.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(Am.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),Am.prototype.commands=function(){return function(){return function(e,t,n){var r=e.selection.$from;return!(!n.endOfTextblock("down")||"htmlComment"!==r.node().type.name)&&mi(e,t)}}},Am.prototype.keymaps=function(){return{Enter:this.commands()()}},Am);function Am(){return null!==Yf&&Yf.apply(this,arguments)||this}function Lm(){return null!==em&&em.apply(this,arguments)||this}function Im(){return null!==tm&&tm.apply(this,arguments)||this}function Rm(){return null!==nm&&nm.apply(this,arguments)||this}function Pm(e){var t=rm.call(this)||this;return t.linkAttributes=e,t}function Bm(){return null!==om&&om.apply(this,arguments)||this}function Fm(){return null!==im&&im.apply(this,arguments)||this}function Hm(){return null!==sm&&sm.apply(this,arguments)||this}function zm(){return null!==am&&am.apply(this,arguments)||this}function qm(){return null!==lm&&lm.apply(this,arguments)||this}function Vm(){return null!==cm&&cm.apply(this,arguments)||this}function jm(){return null!==um&&um.apply(this,arguments)||this}function $m(){return null!==dm&&dm.apply(this,arguments)||this}function _m(){return null!==pm&&pm.apply(this,arguments)||this}function Um(){return null!==hm&&hm.apply(this,arguments)||this}function Wm(){return null!==fm&&fm.apply(this,arguments)||this}var Jm=h("contents");r(L,Qm=e),L.prototype.createSpecs=function(){return e=this.linkAttributes,new la([new Of,new Df,new Lf,new If,new Rf,new Pf,new Bf,new Ff,new Hf,new mm,new gm,new vm,new ym,new bm,new wm,new km,new xm,new Cm,new Tm,new Mm,new Em(e),new Sm,new Nm,new Om,new na,new Dm]);var e},L.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},L.prototype.createSchema=function(e){return new be({nodes:x(x({},this.specs.nodes),e.nodes),marks:x(x({},this.specs.marks),e.marks)})},L.prototype.createPlugins=function(){return B([new on({key:Rh,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(Rh);return n?-1===n?null:n:qe()(t)||!e.docChanged?t:(e=(n=e.mapping.mapResult(t)).deleted,t=n.pos,e?null:t)}},props:{decorations:Hh,createSelectionBetween:function(e){e=e.state;return qe()(Rh.getState(e))?null:e.selection}},view:function(e){return new Ph(e)}}),Uh(this.eventEmitter),new on({props:{handleDOMEvents:{mousedown:function(e,t){var n=t.clientX,r=t.clientY,n=e.posAtCoords({left:n,top:r});if(n){var r=e.state,o=r.doc,r=r.tr,o=o.resolve(n.pos),n=ch(o),i=t.target,i=getComputedStyle(i,":before"),s=t.offsetX,a=t.offsetY;if(!n||!Bs(i,s,a))return!1;t.preventDefault();i=o.before(n.depth),s=n.node.attrs;return r.setNodeMarkup(i,null,x(x({},s),{checked:!s.checked})),e.dispatch(r),!0}return!1}}}}),(r=this.eventEmitter,new on({view:function(){return{update:function(e){var e=e.state,t=e.selection,n=e.doc,e=e.schema;r.emit("changeToolbarState",{toolbarState:Kh(t,n,e)})}}}}))],this.createPluginProps()).concat(this.defaultPlugins);var r},L.prototype.createPluginNodeViews=function(){var o=this.eventEmitter,i=this.pluginNodeViews,e={};return i&&Object.keys(i).forEach(function(r){e[r]=function(e,t,n){return i[r](e,t,n,o)}}),e},L.prototype.createView=function(){var r=this,o=this.toDOMAdaptor,i=this.eventEmitter;return new Uo(this.el,{state:this.createState(),attributes:{class:Jm},nodeViews:x({customBlock:function(e,t,n){return new Zh(e,t,n,o)},image:function(e,t,n){return new Qh(e,t,n,i)},codeBlock:function(e,t,n){return new Yh(e,t,n,i)},widget:ea},this.createPluginNodeViews()),dispatchTransaction:function(e){var t=r.view.state.applyTransaction(e).state;r.view.updateState(t),r.emitChangeEvent(e.scrollIntoView()),r.eventEmitter.emit("setFocusedNode",t.selection.$from.node(1))},transformPastedHTML:hf,transformPasted:function(e){return bf(e,r.schema,lh(r.view.state.selection.$from))},handlePaste:function(e,B,t){var s,a,l,c,n,r,o=(u=e.state).selection,i=u.schema,u=u.tr,d=(o=Ah(o)).anchor,o=o.head;if(d&&o){t=Lh(t);if(t){var p=kh.create(d),h=p.getRectOffsets(d,o),t=(d=h,n=i,r=[],(o=vf(t))[0].childCount,t=o.length,d=0===d.startRowIdx,o=o.slice(0,t),d&&(t=o.shift())&&(d=mf(t,0,n).content,r.push(d)),o.forEach(function(e){e.attrs.dummyRowForPasting||(e=gf(e,0,n).content,r.push(e))}),r),d=function(e,n){for(var t=h.startRowIdx,r=h.startColIdx,o=n.length,i=0,s=0;s<o;s+=1)!function(e){var t=n[e].childCount;n[e].forEach(function(e){e=e.attrs.colspan;1<e&&(t+=e-1)}),i=Math.max(i,t)}(s);var a=t+o-1,l=r+i-1;return{startRowIdx:t,startColIdx:r,endRowIdx:a,endColIdx:l,addedRowCount:Math.max(1+a-e.totalRowCount,0),addedColumnCount:Math.max(1+l-e.totalColumnCount,0)}}(p,t),o=[];if(I=d,L=Ih(p.getSpannedOffsets(I)),m=L.rowCount,L=L.columnCount,I=Ih(I),E=I.rowCount,I=I.columnCount,m===E&&L===I){{var f=o;for(var m=d.startRowIdx,g=d.startColIdx,F=d.endRowIdx,H=d.endColIdx,z=d.addedRowCount,q=d.addedColumnCount,v=m;v<=F-z;v+=1)f.push({rowIdx:v,startColIdx:g,endColIdx:H-q})}if(d.addedColumnCount){var y=u;var V=i;var b=p;var j=o;for(var $=d.startRowIdx,_=d.startColIdx,U=d.endRowIdx,w=d.endColIdx,W=d.addedRowCount,k=d.addedColumnCount,J=b.totalRowCount,x=0,C=0;C<J;C+=1){var T=b.getCellInfo(C,w-k),M=T.offset,T=T.nodeSize,M=y.mapping.map(M+T),T=Nh(k,C,V);y.insert(M,T),$<=C&&C<=U-W&&(T=b.getCellInfo(C,w-k),T=y.mapping.map(T.offset),j[x]={rowIdx:C,startColIdx:_,endColIdx:w,dummyOffsets:[T,M+4*k]},x+=1)}}if(d.addedRowCount){var E=u;var S=p;var G=o;var N=d.addedRowCount,O=d.addedColumnCount,D=d.startColIdx,A=d.endColIdx,L=E.mapping.maps.length,I=S.tableEndOffset-2,m=Sh(N,S.totalColumnCount+O,i),R=I;E.insert(E.mapping.slice(L).map(R),m);for(var P=0;P<N;P+=1){var K=R+4*(S.totalColumnCount+O)+2;G.push({rowIdx:P+S.totalRowCount,startColIdx:D,endColIdx:A,dummyOffsets:[R+4*D+1,R+4*(A+1)+1]}),R=K}}s=u,a=t,d=o,l=p,c=s.mapping.maps.length,d.forEach(function(e,t){var n=e.rowIdx,r=e.startColIdx,o=e.endColIdx,e=e.dummyOffsets,i=s.mapping.slice(c),t=new Z(a[t],0,0),r=e?e[0]:l.getCellStartOffset(n,r),e=e?e[1]:l.getCellEndOffset(n,o);s.replace(i.map(r),i.map(e),t)}),e.dispatch(u),i=e,I=o,E=p.getCellInfo(0,0).offset,L=i.state,m=L.tr,L=L.doc,E=kh.create(L.resolve(E)),t=I[0],d=t.rowIdx,t=t.startColIdx,I=lt(I),u=I.rowIdx,I=I.endColIdx,d=E.getCellInfo(d,t).offset,t=E.getCellInfo(u,I).offset,i.dispatch(m.setSelection(new Mh(L.resolve(d),L.resolve(t))))}return!0}}else;return!1},handleKeyDown:function(e,t){return r.eventEmitter.emit("keydown",r.editorType,t),!1},handleDOMEvents:{paste:function(e,t){var n=t.clipboardData||window.clipboardData,n=null==n?void 0:n.items;return n&&!Qo()(n).some(function(e){return"string"===e.kind&&"text/rtf"===e.type})&&(n=Qs(n))&&(t.preventDefault(),Xs(r.eventEmitter,n,t.type)),!1},keyup:function(e,t){return r.eventEmitter.emit("keyup",r.editorType,t),!1},scroll:function(){return r.eventEmitter.emit("scroll","editor"),!0}}})},L.prototype.createCommands=function(){return this.specs.commands(this.view,bh())},L.prototype.getHTML=function(){return Ws(this.view.dom.innerHTML)},L.prototype.getModel=function(){return this.view.state.doc},L.prototype.getSelection=function(){var e=this.view.state.selection;return[e.from,e.to]},L.prototype.getSchema=function(){return this.view.state.schema},L.prototype.replaceSelection=function(e,t,n){var r=this.view.state,o=r.schema,r=r.tr,e=e.split("\n").map(function(e){return es(o,Cs(e,o))}),e=new Z(C.from(e),1,1),t=He()(t)&&He()(n)?r.replaceRange(t,n,e):r.replaceSelection(e);this.view.dispatch(t),this.focus()},L.prototype.deleteSelection=function(e,t){var n=this.view.state.tr,e=He()(e)&&He()(t)?n.deleteRange(e,t):n.deleteSelection();this.view.dispatch(e.scrollIntoView())},L.prototype.getSelectedText=function(e,t){var n=this.view.state,r=n.doc,n=n.selection,o=n.from,n=n.to;return He()(e)&&He()(t)&&(o=e,n=t),r.textBetween(o,n,"\n")},L.prototype.setModel=function(e,t){void 0===t&&(t=!1);var n=this.view.state,r=n.tr,n=n.doc;this.view.dispatch(r.replaceWith(0,n.content.size,e)),t&&this.moveCursorToEnd(!0)},L.prototype.setSelection=function(e,t){var n=this.view.state.tr,e=b(n,e,t=void 0===t?e:t);this.view.dispatch(n.setSelection(e).scrollIntoView())},L.prototype.addWidget=function(e,t,n){var r=this.view,o=r.dispatch,r=r.state;o(r.tr.setMeta("widget",{pos:null!=n?n:r.selection.to,node:e,style:t}))},L.prototype.replaceWithWidget=function(e,t,n){var r=this.view.state,o=r.tr,n=Cs(n,r.schema);this.view.dispatch(o.replaceWith(e,t,n))},L.prototype.getRangeInfoOfNode=function(e){var i,t=this.view.state,n=t.doc,t=t.selection,s=e?n.resolve(e):t.$from,n=s.marks(),e=s.node(),a=s.start(),l=s.end(),t=e.type.name;return!n.length&&"paragraph"!==t||(t=(i=n[n.length-1])?i.type.name:"text",e.forEach(function(e,t){var n=e.isText,r=e.nodeSize,e=e.marks,o=s.pos-a;n&&t<=o&&o<=t+r&&(!e.length||T(e,i))&&(l=(a+=t)+r)})),{range:[a,l],type:t}};var Gm=L,Fc=l0(404),Km=l0.n(Fc),Zm=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"];tg.prototype.listen=function(e,t){var e=this.getTypeInfo(e),n=this.events.get(e.type)||[];if(!this.hasEventType(e.type))throw new Error("There is no event type "+e.type);e.namespace&&(t.namespace=e.namespace),n.push(t),this.events.set(e.type,n)},tg.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var e=this.getTypeInfo(e),e=this.events.get(e.type),r=[];return!this.hold&&e&&e.forEach(function(e){e=e.apply(void 0,t);ze()(e)||r.push(e)}),r},tg.prototype.emitReduce=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e=this.events.get(e);return!this.hold&&e&&e.forEach(function(e){e=e.apply(void 0,B([t],n));Km()(e)||(t=e)}),t},tg.prototype.getTypeInfo=function(e){e=e.split(".");return{type:e[0],namespace:e[1]}},tg.prototype.hasEventType=function(e){return!ze()(this.eventTypes[this.getTypeInfo(e).type])},tg.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},tg.prototype.removeEventHandler=function(e,t){var n=this,e=this.getTypeInfo(e),r=e.type,o=e.namespace;r&&t?this.removeEventHandlerWithHandler(r,t):r&&!o?this.events.delete(r):!r&&o?this.events.forEach(function(e,t){n.removeEventHandlerWithTypeInfo(t,o)}):r&&o&&this.removeEventHandlerWithTypeInfo(r,o)},tg.prototype.removeEventHandlerWithHandler=function(e,t){var n,e=this.events.get(e);e&&(n=e.indexOf(t),0<=e.indexOf(t))&&e.splice(n,1)},tg.prototype.removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map(function(e){return e.namespace!==t&&n.push(e),null}),this.events.set(e,n))},tg.prototype.getEvents=function(){return this.events},tg.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1};var Xm=tg;eg.prototype.initEvent=function(){var n=this;this.eventEmitter.listen("command",function(e,t){n.exec(e,t)})},eg.prototype.addCommand=function(e,t,n){"markdown"===e?this.mdCommands[t]=n:this.wwCommands[t]=n},eg.prototype.deleteCommand=function(e,t){"markdown"===e?delete this.mdCommands[t]:delete this.wwCommands[t]},eg.prototype.exec=function(e,t){("markdown"===this.getEditorType()?this.mdCommands:this.wwCommands)[e](t)};var Qm,Ym=eg;function eg(e,t,n,r){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=n,this.getEditorType=r,this.initEvent()}function tg(){var t=this;this.events=new qh,this.eventTypes=Zm.reduce(function(e,t){return x(x({},e),{type:t})},{}),this.hold=!1,Zm.forEach(function(e){t.addEventType(e)})}function L(e,t){var e=Qm.call(this,e)||this,n=t.toDOMAdaptor,r=t.htmlSchemaMap,r=void 0===r?{}:r,o=t.linkAttributes,o=void 0===o?{}:o,i=t.useCommandShortcut,i=void 0===i||i,s=t.wwPlugins,s=void 0===s?[]:s,t=t.wwNodeViews,t=void 0===t?{}:t;return e.editorType="wysiwyg",e.el.classList.add("ww-mode"),e.toDOMAdaptor=n,e.linkAttributes=o,e.extraPlugins=s,e.pluginNodeViews=t,e.specs=e.createSpecs(),e.schema=e.createSchema(r),e.context=e.createContext(),e.keymaps=e.createKeymaps(i),e.view=e.createView(),e.commands=e.createCommands(),e.specs.setContext(x(x({},e.context),{view:e.view})),e.initEvent(),e}function ng(e){return"\n"===e[e.length-1]?e.slice(0,e.length-1):e}function rg(e,t){var n,e=e.schema,r=t.literal.match(Ls);return!(!r||(n=r[1],r=r[3],n=(n||r).toLowerCase(),"htmlInline"!==t.type)||!e.marks[n]&&!e.nodes[n])}function og(e){return T(["text","strong","emph","strike","image","link","code"],e.type)}function ig(e){return"softbreak"===(null==e?void 0:e.type)}function sg(e){var t=e.type,e=e.literal,t="htmlInline"===t&&e.match(Ls);if(t){e=t[1],t=t[3],e=e||t;if(e)return T(["ul","ol","li"],e.toLowerCase())}}function ag(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=document.createElement("div"),o=(r.innerHTML=Vp(e),r.firstChild);return t.map(function(e){return o.getAttribute(e)||""})}lg={"b, strong":function(e,t,n){var r=e.schema.marks.strong;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"i, em":function(e,t,n){var r=e.schema.marks.emph;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},"s, del":function(e,t,n){var r=e.schema.marks.strike;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},code:function(e,t,n){var r=e.schema.marks.code;n?e.openMark(r.create({rawHTML:n})):e.closeMark(r)},a:function(e,t,n){var t=t.literal,r=e.schema.marks.link;n?(t=ag(t,"href")[0],e.openMark(r.create({linkUrl:t,rawHTML:n}))):e.closeMark(r)},img:function(e,t,n){var r,o,t=t.literal;n&&(r=(t=ag(t,"src","alt"))[0],t=t[1],o=e.schema.nodes.image,e.addNode(o,x({rawHTML:n,imageUrl:r},t&&{altText:t})))},hr:function(e,t,n){e.addNode(e.schema.nodes.thematicBreak,{rawHTML:n})},br:function(e,t){var n=e.schema.nodes.paragraph,r=t.parent,o=t.prev,t=t.next;"paragraph"===(null==r?void 0:r.type)?(ig(o)&&e.openNode(n),ig(t)?e.closeNode():t&&(e.closeNode(),e.openNode(n))):"tableCell"===(null==r?void 0:r.type)&&(o&&(og(o)||rg(e,o))&&e.closeNode(),t)&&(og(t)||rg(e,t))&&e.openNode(n)},pre:function(e,t,n){var r=document.createElement("div"),t=(r.innerHTML=t.literal,null==(r=null==(t=r.firstChild)?void 0:t.firstChild)?void 0:r.textContent);e.openNode(e.schema.nodes.codeBlock,{rawHTML:n}),e.addText(ng(t)),e.closeNode()},"ul, ol":function(e,t,n){var r,o,i;"tableCell"===t.parent.type&&(i=(o=e.schema.nodes).bulletList,r=o.orderedList,o=o.paragraph,i="ul"===n?i:r,n?(t.prev&&!sg(t.prev)&&e.closeNode(),e.openNode(i,{rawHTML:n})):(e.closeNode(),t.next&&!sg(t.next)&&e.openNode(o)))},li:function(e,t,n){var r,o,i;"tableCell"===(null==(o=t.parent)?void 0:o.type)&&(r=(o=e.schema.nodes).listItem,o=o.paragraph,n?(i=t.literal,i={task:/data-task/.test(i),checked:/data-task-checked/.test(i)},t.prev&&!sg(t.prev)&&e.closeNode(),e.openNode(r,x({rawHTML:n},i)),t.next&&!sg(t.next)&&e.openNode(o)):(t.prev&&!sg(t.prev)&&e.closeNode(),e.closeNode()))}},cg={},Object.keys(lg).forEach(function(t){t.split(", ").forEach(function(e){e=e.toLowerCase();cg[e]=lg[t]})});var lg,cg,ug=cg;function dg(e){return"htmlInline"===e.type&&Is.test(e.literal)}var pg={text:function(e,t){e.addText(t.literal||"")},paragraph:function(e,t,n,r){n.entering?(n=e.schema.nodes.paragraph,"paragraph"===(null==(t=t.prev)?void 0:t.type)&&(e.openNode(n,r),e.closeNode()),e.openNode(n,r)):e.closeNode()},heading:function(e,t,n,r){n.entering?(n=t.level,t=t.headingType,e.openNode(e.schema.nodes.heading,x({level:n,headingType:t},r))):e.closeNode()},codeBlock:function(e,t,n){var r=e.schema.nodes.codeBlock,o=t.info,t=t.literal;e.openNode(r,x({language:o},n)),e.addText(ng(t||"")),e.closeNode()},list:function(e,t,n,r){var o,i;n.entering?(o=(n=e.schema.nodes).bulletList,n=n.orderedList,i=(t=t.listData).type,t=t.start,"bullet"===i?e.openNode(o,r):e.openNode(n,x({order:t},r))):e.closeNode()},item:function(e,t,n,r){var n=n.entering,o=e.schema.nodes.listItem,t=t.listData,i=t.task,t=t.checked;n?(n=x(x(x({},i&&{task:i}),t&&{checked:t}),r),e.openNode(o,n)):e.closeNode()},blockQuote:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.blockQuote,r):e.closeNode()},image:function(e,t,n,r){var o=n.entering,n=n.skipChildren,i=e.schema.nodes.image,s=t.destination,t=t.firstChild;o&&n&&n(),e.addNode(i,x(x({imageUrl:s},t&&{altText:t.literal}),r))},thematicBreak:function(e,t,n,r){e.addNode(e.schema.nodes.thematicBreak,r)},strong:function(e,t,n,r){var n=n.entering,o=e.schema.marks.strong;n?e.openMark(o.create(r)):e.closeMark(o)},emph:function(e,t,n,r){var n=n.entering,o=e.schema.marks.emph;n?e.openMark(o.create(r)):e.closeMark(o)},link:function(e,t,n,r){var n=n.entering,o=e.schema.marks.link,i=t.destination,t=t.title;n?(n=x({linkUrl:i,title:t},r),e.openMark(o.create(n))):e.closeMark(o)},softbreak:function(e,t){var n;"paragraph"===t.parent.type&&(n=t.prev,t=t.next,n&&!dg(n)&&e.closeNode(),t)&&!dg(t)&&e.openNode(e.schema.nodes.paragraph)},table:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.table,r):e.closeNode()},tableHead:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.tableHead,r):e.closeNode()},tableBody:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.tableBody,r):e.closeNode()},tableRow:function(e,t,n,r){n.entering?e.openNode(e.schema.nodes.tableRow,r):e.closeNode()},tableCell:function(t,e,n){var r,o,i,s,n=n.entering;e.ignored||(r=function(e){return e&&(og(e)||rg(t,e))},n?(o=(n=t.schema.nodes).tableHeadCell,i=n.tableBodyCell,n=n.paragraph,o="tableHead"===(s=e.parent.parent).type?o:i,i=(s.parent.columns[e.startIdx]||{}).align,s=x({},e.attrs),i&&(s.align=i),t.openNode(o,s),r(e.firstChild)&&t.openNode(n)):(r(e.lastChild)&&t.closeNode(),t.closeNode()))},strike:function(e,t,n,r){var n=n.entering,o=e.schema.marks.strike;n?e.openMark(o.create(r)):e.closeMark(o)},code:function(e,t,n,r){var o=e.schema.marks.code;e.openMark(o.create(r)),e.addText(ng(t.literal||"")),e.closeMark(o)},customBlock:function(e,t){var n=e.schema.nodes,r=n.customBlock,n=n.paragraph,o=t.info,i=t.literal;e.openNode(r,{info:o}),e.addText(ng(i||"")),e.closeNode(),t.next||(e.openNode(n),e.closeNode())},frontMatter:function(e,t){e.openNode(e.schema.nodes.frontMatter),e.addText(t.literal),e.closeNode()},htmlInline:function(e,t){var n=t.literal,r=n.match(Ls),o=r[1],r=r[3],r=(o||r).toLowerCase(),i=e.schema.marks[r],n=Vp(n);null!=i&&i.spec.attrs.htmlInline?o?(n=$p(n),e.openMark(i.create({htmlAttrs:n}))):e.closeMark(i):(n=ug[r])&&n(e,t,o)},htmlBlock:function(e,t){var n,r,o,i=t.literal,s=document.createElement("div");Rs.test(i)?(e.openNode(e.schema.nodes.htmlComment),e.addText(t.literal),e.closeNode()):(n=(r=i.match(Ls))[1],r=r[3],n=(n||r).toLowerCase(),r=e.schema.nodes[n],i=Vp(i),null!=r&&r.spec.attrs.htmlBlock?(o=$p(i),t=jp(t,n),e.addNode(r,{htmlAttrs:o,childrenHTML:t})):(s.innerHTML=i,function n(e){Qo()(e.childNodes).forEach(function(e){var t;Hs(e)&&(t=e.nodeName.toLowerCase(),e.setAttribute("data-raw-html",t),e.childNodes)&&n(e)})}(s),e.convertByDOMParser(s)))},customInline:function(e,t,n){var r=n.entering,n=n.skipChildren,o=t.info,i=t.firstChild,s=e.schema;-1!==o.indexOf("widget")&&r?(t=Ts(t),n(),e.addNode(s.nodes.widget,{info:o},[s.text(ws(o,t))])):(n="$$",r&&(n+=i?o+" ":o),e.addText(n))}};fg.prototype.top=function(){return lt(this.stack)},fg.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},fg.prototype.addText=function(e){var t,n,r;e&&(n=lt(t=this.top().content),e=this.schema.text(e,this.marks),(n=n&&(r=e,!!((n=n).isText&&r.isText&&v.sameSet(n.marks,r.marks)))&&n.withText(n.text+r.text))?t[t.length-1]=n:t.push(e))},fg.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},fg.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},fg.prototype.addNode=function(e,t,n){e=e.createAndFill(t,n,this.marks);return e?(this.push(e),e):null},fg.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},fg.prototype.closeNode=function(){this.marks.length&&(this.marks=v.none);var e=this.stack.pop(),t=e.type,n=e.attrs,e=e.content;return this.addNode(t,n,e)},fg.prototype.convertByDOMParser=function(e){var t=this;ke.fromSchema(this.schema).parse(e).content.forEach(function(e){return t.push(e)})},fg.prototype.closeUnmatchedHTMLInline=function(e,t){var n;if(!t&&"htmlInline"!==e.type)for(var r=this.stack.length-1;0<=r;--r){var o=this.stack[r];if(null==(n=o.attrs)||!n.rawHTML)break;o.content.length?this.closeNode():this.stack.pop()}},fg.prototype.convert=function(e,i){for(var s=e.walker(),a=s.next(),l=this;a;)!function(){var e,t=a.node,n=a.entering,r=l.convertors[t.type],o=!1;r&&(e={entering:n,leaf:!function(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return 1;default:return}}(t),getChildrenText:ms,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){o=!0}},l.closeUnmatchedHTMLInline(t,n),r(l,t,e),(null==i?void 0:i.node)===t)&&(n=l.stack.reduce(function(e,t){return e+t.content.reduce(function(e,t){return e+t.nodeSize},0)},0)+1,i.setMappedPos(n)),o&&(s.resumeAt(t,!1),s.next()),a=s.next()}()},fg.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null};var hg=fg;function fg(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=v.none}var mg={text:function(e,t){var t=t.node,n=null!=(n=t.text)?n:"";(t.marks||[]).some(function(e){return"link"===e.type.name})?e.text(ot(n),!1):e.text(n)},paragraph:function(e,t){var n,r,o,i=t.node,s=t.parent,t=t.index,t=void 0===t?0:t;e.stopNewline?e.convertInline(i):(r=(r=!(n=0===t)&&s.child(t-1))&&0===r.childCount,t=(t=t<s.childCount-1&&s.child(t+1))&&"paragraph"===t.type.name,(o=0===i.childCount)&&r?e.write("<br>\n"):!o||r||n?(e.convertInline(i),t?e.write("\n"):e.closeBlock(i)):("listItem"===(null==s?void 0:s.type.name)&&(o=e.getDelim(),e.setDelim(""),e.write("<br>"),e.setDelim(o)),e.write("\n")))},heading:function(e,t,n){t=t.node,n=n.delim;"atx"===t.attrs.headingType?(e.write(n+" "),e.convertInline(t)):(e.convertInline(t),e.ensureNewLine(),e.write(n)),e.closeBlock(t)},codeBlock:function(e,t,n){var t=t.node,r=n.delim,n=n.text,o=r[0],r=r[1];e.write(o),e.ensureNewLine(),e.text(n,!1),e.ensureNewLine(),e.write(r),e.closeBlock(t)},blockQuote:function(e,t,n){var r=t.node,t=t.parent,n=n.delim;(null==t?void 0:t.type.name)===r.type.name&&e.flushClose(1),e.wrapBlock(n,null,r,function(){return e.convertNode(r)})},bulletList:function(e,t,n){var t=t.node,r=n.delim;e.convertList(t,rt(" ",4),function(){return r+" "})},orderedList:function(e,t){var t=t.node,n=t.attrs.order||1;e.convertList(t,rt(" ",4),function(e){return String(n+e)+". "})},listItem:function(e,t){var t=t.node,n=t.attrs,r=n.task,n=n.checked;r&&e.write("["+(n?"x":" ")+"] "),e.convertNode(t)},image:function(e,t,n){n=n.attrs;e.write("!["+(null==n?void 0:n.altText)+"]("+(null==n?void 0:n.imageUrl)+")")},thematicBreak:function(e,t,n){t=t.node,n=n.delim;e.write(n),e.closeBlock(t)},table:function(e,t){t=t.node;e.convertNode(t),e.closeBlock(t)},tableHead:function(e,t,n){var t=t.node,n=n.delim,r=t.firstChild,o=(e.convertNode(t),null!=n?n:"");!n&&r&&r.forEach(function(e){t=e.textContent,e=e.attrs.align,t=t.length,r=n="","left"===e?(n=":",--t):"right"===e?(r=":",--t):"center"===e&&(r=n=":",t-=2);var t,n,r,e=""+n+rt("-",Math.max(t,3))+r;o+="| "+e+" "}),e.write(o+"|"),e.ensureNewLine()},tableBody:function(e,t){t=t.node;e.convertNode(t)},tableRow:function(e,t){t=t.node;e.convertNode(t),e.write("|"),e.ensureNewLine()},tableHeadCell:function(e,t,n){t=t.node,n=n.delim;e.write(void 0===n?"| ":n),e.convertTableCell(t),e.write(" ")},tableBodyCell:function(e,t,n){t=t.node,n=n.delim;e.write(void 0===n?"| ":n),e.convertTableCell(t),e.write(" ")},customBlock:function(e,t,n){var t=t.node,r=n.delim,n=n.text,o=r[0],r=r[1];e.write(o),e.ensureNewLine(),e.text(n,!1),e.ensureNewLine(),e.write(r),e.closeBlock(t)},frontMatter:function(e,t,n){t=t.node,n=n.text;e.text(n,!1),e.closeBlock(t)},widget:function(e,t,n){n=n.text;e.write(n)},html:function(e,t,n){t=t.node,n=n.text;e.write(n),t.attrs.htmlBlock&&e.closeBlock(t)},htmlComment:function(e,t,n){t=t.node,n=n.text;e.write(n),e.closeBlock(t)}};function gg(e,t){var n=e.text,r=/`+/g,o=0;if(e.isText&&n)for(var i=r.exec(n);i;)o=Math.max(o,i[0].length),i=r.exec(n);for(var s=0<o&&0<t?" `":"`",a=0;a<o;a+=1)s+="`";return 0<o&&t<0&&(s+=" "),s}function vg(e){return e?["<"+e+">","</"+e+">"]:null}function yg(e){return e?"<"+e+">":null}function bg(e){return e?"</"+e+">":null}var wg={heading:function(e){var e=e.node.attrs,t=e.level,n=rt("#",t);return{delim:n="setext"===e.headingType?1===t?"===":"---":n,rawHTML:vg(e.rawHTML)}},codeBlock:function(e){var e=e.node,t=e.attrs,e=e.textContent;return{delim:["```"+(t.language||""),"```"],rawHTML:vg(t.rawHTML),text:e}},blockQuote:function(e){return{delim:"> ",rawHTML:vg(e.node.attrs.rawHTML)}},bulletList:function(e,t){e=e.node,t=t.inTable,e=e.attrs.rawHTML;return{delim:"*",rawHTML:vg(e=t?e||"ul":e)}},orderedList:function(e,t){e=e.node,t=t.inTable,e=e.attrs.rawHTML;return{rawHTML:vg(e=t?e||"ol":e)}},listItem:function(e,t){var e=e.node,t=t.inTable,n=e.attrs,r=n.task,n=n.checked,e=e.attrs.rawHTML;return{rawHTML:(e=t?e||"li":e)?["<"+e+(r?' class="task-list-item'+(n?" checked":"")+'"':"")+(r?" data-task"+(n?" data-task-checked":""):"")+">","</"+e+">"]:null}},table:function(e){return{rawHTML:vg(e.node.attrs.rawHTML)}},tableHead:function(e){return{rawHTML:vg(e.node.attrs.rawHTML)}},tableBody:function(e){return{rawHTML:vg(e.node.attrs.rawHTML)}},tableRow:function(e){return{rawHTML:vg(e.node.attrs.rawHTML)}},tableHeadCell:function(e){return{rawHTML:vg(e.node.attrs.rawHTML)}},tableBodyCell:function(e){return{rawHTML:vg(e.node.attrs.rawHTML)}},image:function(e){var e=e.node.attrs,t=e.rawHTML,n=e.altText,e=e.imageUrl.replace(/&amp;/g,"&"),r=n?' alt="'+Qe(n)+'"':"";return{rawHTML:t?"<"+t+' src="'+Qe(e)+'"'+r+">":null,attrs:{altText:ot(n||""),imageUrl:e}}},thematicBreak:function(e){return{delim:"***",rawHTML:yg(e.node.attrs.rawHTML)}},customBlock:function(e){var e=e.node,t=e.attrs,e=e.textContent;return{delim:["$$"+t.info,"$$"],text:e}},frontMatter:function(e){return{text:e.node.textContent}},widget:function(e){return{text:e.node.textContent}},strong:function(e,t){e=e.node,t=t.entering,e=e.attrs.rawHTML;return{delim:"**",rawHTML:(t?yg:bg)(e)}},emph:function(e,t){e=e.node,t=t.entering,e=e.attrs.rawHTML;return{delim:"*",rawHTML:(t?yg:bg)(e)}},strike:function(e,t){e=e.node,t=t.entering,e=e.attrs.rawHTML;return{delim:"~~",rawHTML:(t?yg:bg)(e)}},link:function(e,t){var e=e.node,t=t.entering,e=e.attrs,n=e.title,r=e.rawHTML,e=e.linkUrl.replace(/&amp;/g,"&"),o=n?' title="'+Qe(n)+'"':"";return t?{delim:"[",rawHTML:r?"<"+r+' href="'+Qe(e)+'"'+o+">":null}:{delim:"]("+e+(n?" "+((o=-1===(t=ot(n)).indexOf('"')?'""':-1===t.indexOf("'")?"''":"()")[0]+t+o[1]):"")+")",rawHTML:bg(r)}},code:function(e,t){var n=e.node,r=e.parent,e=e.index,e=void 0===e?0:e,t=t.entering;return{delim:t?gg(r.child(e),-1):gg(r.child(e-1),1),rawHTML:(t?yg:bg)(n.attrs.rawHTML)}},htmlComment:function(e){return{text:e.node.textContent}},html:function(e,t){var e=e.node,t=t.entering,n=e.type.name,r=e.attrs.htmlAttrs,o="<"+n,n="</"+n+">";return Object.keys(r).forEach(function(e){o+=" "+e+'="'+r[e].replace(/"/g,"'")+'"'}),o+=">",e.attrs.htmlInline?{rawHTML:t?o:n}:{text:""+o+e.attrs.childrenHTML+n}}},kg={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function xg(u){var e={};return Object.keys(mg).forEach(function(c){e[c]=function(e,t){var n,r,o,i,s,a,l;mg[c]&&(a=u[c],a=a?a(t,{inTable:e.inTable}):{},n=c,t=(e={state:e,nodeInfo:t,params:a}).state,a=e.nodeInfo,(l=(e=e.params).rawHTML)?-1<zh()(n,["heading","codeBlock"])?(r=t,o=a.node,i=l[0],s=l[1],r.write(i),r.convertInline(o),r.write(s)):-1<zh()(n,["image","thematicBreak"])?t.write(l):(i=t,o=a.node,r=a.parent,s=l[0],l=l[1],i.stopNewline=!0,i.write(s),i.convertNode(o),i.write(l),"doc"===(null==r?void 0:r.type.name)&&(i.closeBlock(o),i.stopNewline=!1)):mg[n](t,a,e))}}),e}Eg.prototype.getMarkConvertor=function(e){e=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[e]},Eg.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},Eg.prototype.markText=function(e,t,n,r){var o=this.getMarkConvertor(e);return o?(e=(o=o({node:e,parent:n,index:r},t)).delim,o.rawHTML||e):""},Eg.prototype.setDelim=function(e){this.delim=e},Eg.prototype.getDelim=function(){return this.delim},Eg.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),1<(e=e||2)){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var r=1;r<e;r+=1)this.result+=t+"\n"}this.closed=!1}},Eg.prototype.wrapBlock=function(e,t,n,r){var o=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),r(),this.setDelim(o),this.closeBlock(n)},Eg.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},Eg.prototype.write=function(e){void 0===e&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},Eg.prototype.closeBlock=function(e){this.closed=e},Eg.prototype.text=function(e,t){void 0===t&&(t=!0);for(var n=e.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=t?it(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},Eg.prototype.convertBlock=function(e,t,n){var r=e.type.name,r=this.nodeTypeConvertors[r],t={node:e,parent:t,index:n};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,t):r&&r(this,t)},Eg.prototype.convertInline=function(m){function e(e,t,n){var r,o=e?e.marks:[],i=y;y="",e&&e.isText&&o.some(function(e){e=g.getMarkConvertor(e),e=e&&e();return e&&e.removedEnclosingWhitespace})&&e&&e.text&&(s=(l=/^(\s*)(.*?)(\s*)$/m.exec(e.text))[1],r=l[2],l=l[3],i+=s,y=l,!s&&!l||(e=r?e.withText(r):null)||(o=v));for(var s=o.length&&lt(o),a=(l=s&&g.getMarkConvertor(s))&&l(),l=a&&!1===a.escape,c=o.length-(l?1:0),u=0;u<c&&(r=o[u],!a||a.mixable);u+=1)for(var d=0;d<v.length;d+=1){var p=v[d];if(a&&!a.mixable)break;if(r.eq(p)){d<u?o=o.slice(0,d).concat(r).concat(o.slice(d,u)).concat(o.slice(u+1,c)):u<d&&(o=o.slice(0,u).concat(o.slice(u+1,d)).concat(r).concat(o.slice(d,c)));break}}for(var h=0;h<Math.min(v.length,c)&&o[h].eq(v[h]);)h+=1;for(;h<v.length;){var f=v.pop();f&&g.text(g.markText(f,!1,m,n),!1)}if(i&&g.text(i),e){for(;v.length<c;)r=o[v.length],v.push(r),g.text(g.markText(r,!0,m,n),!1);l&&e.isText?g.text(g.markText(s,!0,m,n)+e.text+g.markText(s,!1,m,n+1),!1):g.convertBlock(e,m,n)}}var g=this,v=[],y="";m.forEach(e),e(null,0,m.childCount)},Eg.prototype.convertList=function(r,o,i){var s=this,a=(this.closed&&this.closed.type===r.type?this.flushClose(3):this.tightList&&this.flushClose(1),null==(e=r.attrs.tight)||e),e=this.tightList;this.tightList=a,r.forEach(function(e,t,n){n&&a&&s.flushClose(1),s.wrapBlock(o,i(n),r,function(){return s.convertBlock(e,r,n)})}),this.tightList=e},Eg.prototype.convertTableCell=function(r){var o=this;this.stopNewline=!0,this.inTable=!0,r.forEach(function(e,t,n){T(["bulletList","orderedList"],e.type.name)?(o.convertBlock(e,r,n),o.closed=!1):(o.convertInline(e),n<r.childCount-1&&"paragraph"===r.child(n+1).type.name&&o.write("<br>"))}),this.stopNewline=!1,this.inTable=!1},Eg.prototype.convertNode=function(r,o){var i=this;return r.forEach(function(e,t,n){i.convertBlock(e,r,n),(null==o?void 0:o.node)===e&&(n=i.result.split("\n"),o.setMappedPos([n.length,lt(n).length+1]))}),this.result};var Cg=Eg;Mg.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},Mg.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},Mg.prototype.toWysiwygModel=function(e){return new hg(this.schema,this.toWwConvertors).convertNode(e,this.getInfoForPosSync())},Mg.prototype.toMarkdownText=function(e){e=new Cg(this.toMdConvertors).convertNode(e,this.getInfoForPosSync());return this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",e)};var Tg=Mg;function Mg(e,t,n,r){var o,i,s,a,l,c,u=this;this.setMappedPos=function(e){u.mappedPosWhenConverting=e},this.schema=e,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=(a=n,e=Object.keys(a),l=x({},pg),c=new Pp({gfm:!0,nodeId:!0,convertors:a}).getConvertors(),e.forEach(function(i){var s=pg[i];s&&!T(["htmlBlock","htmlInline"],i)&&(l[i]=function(e,t,n){n.origin=function(){return c[i](t,n,c)};var r,o=a[i](t,n);o&&(r={htmlAttrs:(o=Array.isArray(o)?o[0]:o).attributes,classNames:o.classNames}),s(e,t,n,r)})}),l),this.toMdConvertors=(o=t||{},Object.keys(o).forEach(function(e){var n=wg[e],r=o[e];wg[e]=n?function(e,t){return t.origin=function(){return n(e,t)},r(e,t)}:r,delete o[e]}),r=xg(wg),i=wg,s={},Object.keys(kg).forEach(function(o){s[o]=function(e,t){var n=kg[o],r=i[o],r=r&&e&&!ze()(t)?r(e,{entering:t}):{};return x(x({},r),n)}}),{nodeTypeConvertors:r,markTypeConvertors:s}),this.eventEmitter.listen("setFocusedNode",function(e){return u.focusedNode=e})}function Eg(e){var t=e.nodeTypeConvertors,e=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=e,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}function Sg(e){var t=e.plugins,d=e.eventEmitter,p=e.usageStatistics,h=e.instance;return d.listen("mixinTableOffsetMapPrototype",Ch),(null!=t?t:[]).reduce(function(e,t){n=(t={plugin:t,eventEmitter:d,usageStatistics:p,instance:h}).plugin,t={eventEmitter:t.eventEmitter,usageStatistics:t.usageStatistics,instance:t.instance,pmState:{Plugin:on,PluginKey:ln,Selection:g,TextSelection:y},pmView:{Decoration:To,DecorationSet:M},pmModel:{Fragment:C},pmRules:{InputRule:Si,inputRules:Ni,undoInputRule:Di},pmKeymap:{keymap:ai},i18n:D};var n,r,o,i,s,a,l,c,u=Es()(n)?(0,n[0])(t,void 0===(u=n[1])?{}:u):n(t);if(u)return n=u.markdownParsers,t=u.toHTMLRenderers,r=u.toMarkdownRenderers,o=u.markdownPlugins,i=u.wysiwygPlugins,s=u.wysiwygNodeViews,a=u.markdownCommands,l=u.wysiwygCommands,c=u.toolbarItems,t&&(e.toHTMLRenderers=ut(e.toHTMLRenderers,t)),r&&(e.toMarkdownRenderers=ut(e.toMarkdownRenderers,r)),o&&(e.mdPlugins=e.mdPlugins.concat(o)),i&&(e.wwPlugins=e.wwPlugins.concat(i)),s&&(e.wwNodeViews=x(x({},e.wwNodeViews),s)),a&&(e.mdCommands=x(x({},e.mdCommands),a)),l&&(e.wwCommands=x(x({},e.wwCommands),l)),c&&(e.toolbarItems=e.toolbarItems.concat(c)),n&&(e.markdownParsers=x(x({},e.markdownParsers),n)),e;throw new Error("The return value of the executed plugin is empty.")},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}Og.prototype.toggleTask=function(e){var t=e.target,n=getComputedStyle(t,":before");!t.hasAttribute("data-task-disabled")&&t.hasAttribute("data-task")&&Bs(n,e.offsetX,e.offsetY)&&(qs(t,"checked"),this.eventEmitter.emit("change",{source:"viewer",date:e}))},Og.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),t=[t.length,lt(t).length+1],t=this.toastMark.editMarkdown([1,1],t,e||"");this.eventEmitter.emit("updatePreview",t)},Og.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},Og.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},Og.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},Og.prototype.destroy=function(){Mc()(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},Og.prototype.isViewer=function(){return!0},Og.prototype.isMarkdownMode=function(){return!1},Og.prototype.isWysiwygMode=function(){return!1};var Ng=Og;function Og(e){var n=this;this.options=Ie()({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new Xm;var e=nt(this.options.linkAttributes),t=Sg({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},r=t.toHTMLRenderers,t=t.markdownParsers,o=this.options,i=o.customHTMLRenderer,s=o.extendedAutolinks,a=o.referenceDefinition,l=o.frontMatter,o=o.customHTMLSanitizer,e={linkAttributes:e,customHTMLRenderer:x(x({},r),i),extendedAutolinks:s,referenceDefinition:a,frontMatter:l,sanitizer:o||Vp},c=e.customHTMLRenderer,r=(["htmlBlock","htmlInline"].forEach(function(e){c[e]&&Object.keys(c[e]).forEach(qp)}),this.options.events&&Le()(this.options.events,function(e,t){n.on(t,e)}),this.options),i=r.el,o=r.initialValue,r=r.theme,u=i.innerHTML;"light"!==r&&i.classList.add(h(r)),i.innerHTML="",this.toastMark=new Np("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:s,referenceDefinition:a,disallowDeepHeading:!0,frontMatter:l,customParser:t}),this.preview=new oh(this.eventEmitter,x(x({},e),{isViewer:!0})),Ec()(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),o?this.setMarkdown(o):u&&this.preview.setHTML(u),i.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}function Dg(e){return e instanceof oe}function Ag(e){return T(["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"],e)}var Lg={openTag:function(e,t){var n=e.tagName,r=e.classNames,e=e.attributes,n=document.createElement(n),o={};r&&(n.className=r.join(" ")),Us(o=e?x(x({},o),e):o,n),t.push(n)},closeTag:function(e,t){var n;1<t.length&&(n=t.pop(),lt(t).appendChild(n))},html:function(e,t){lt(t).insertAdjacentHTML("beforeend",e.content)},text:function(e,t){e=document.createTextNode(e.content);lt(t).appendChild(e)}},Ig=(Bg.prototype.generateTokens=function(e){n=(r=e).attrs,o=r.type.name,t={type:o,wysiwygNode:!0,literal:!Ag(o)&&Dg(r)?r.textContent:null},n={heading:{level:n.level},link:{destination:n.linkUrl,title:n.title},image:{destination:n.imageUrl},codeBlock:{info:n.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:n.order}},listItem:{type:"item",listData:{task:n.task,checked:n.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:n.align},tableBodyCell:{type:"tableCell",cellType:"body",align:n.align},customBlock:{info:n.info}}[o],o=x(x({},t),n),t=r.attrs,n=t.htmlAttrs,r=t.childrenHTML;var t=n?x(x({},o),{attrs:n,childrenHTML:r}):o,n={entering:!0,leaf:!!Dg(e)&&e.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return Dg(e)?e.textContent:""},skipChildren:function(){return!1}},r=this.convertors[e.type.name],o=r(t,n,this.convertors),o=Es()(o)?o:[o];return(Ag(e.type.name)||e.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:Dg(e)?e.textContent:""}),o=o.concat(r(t,n,this.convertors))),o},Bg.prototype.toDOMNode=function(e){var e=this.generateTokens(e),t=[];return e.forEach(function(e){return Lg[e.type](e,t)}),t[0]},Bg.prototype.getToDOMNode=function(e){return T(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},Bg),Rg=null,Pg=null;function Bg(e,t){var e=Kp(e,t),n=x(x({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(n)),this.renderer=new Pp({gfm:!0,convertors:x(x({},e),n)}),this.convertors=this.renderer.getConvertors()}function Fg(e,t){var n=t.syncScrollTop,r=t.releaseEventBlock;Pg&&clearTimeout(Pg),n(e),Pg=setTimeout(function(){r()},15)}qg.prototype.addScrollSyncEvent=function(){var n=this;this.eventEmitter.listen("afterPreviewRender",function(){n.clearTimer(),n.timer=setTimeout(function(){n.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(e,t){n.active&&("editor"===e&&"editor"!==n.blockedScroll?n.syncPreviewScrollTop():"preview"===e&&"preview"!==n.blockedScroll&&n.syncEditorScrollTop(t))}),this.eventEmitter.listen("toggleScrollSync",function(e){n.active=e})},qg.prototype.getMdNodeAtPos=function(e,t){e=e.content.findIndex(t.pos).index;return this.toastMark.findFirstNodeAtLine(e+1)},qg.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),e=this.toastMark.findFirstNodeAtLine(e[0][0]),t=this.previewEl.clientHeight,e=eh(this.previewRoot,e).el,n=(Yp(e,this.previewRoot)||e.offsetTop)+e.clientHeight-.5*t;return this.latestEditorScrollTop=null,e.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top<t?null:n},qg.prototype.syncPreviewScrollTop=function(e){void 0===e&&(e=!1);var t=this.editorView,n=this.previewEl,r=this.previewRoot,o=t.dom.getBoundingClientRect(),i=o.left,o=o.top,i=t.posAtCoords({left:i,top:o}),s=t.state.doc,i=this.getMdNodeAtPos(s,i);if(i&&"htmlBlock"!==(a=i.type)&&"htmlInline"!==a){var a=n.scrollTop,t=t.dom,l=t.scrollTop,c=t.scrollHeight,u=t.clientHeight,t=t.children,c=c-l<=u+18,u=c?n.scrollHeight:0;if(l&&!c){if(e){n=this.getScrollTopByCaretPos();if(!n)return;u=n}else c=eh(this.previewRoot,i),e=c.el,n=Qp(s,c.mdNode,t),i=n.height,s=n.rect,u=(Yp(e,r)||e.offsetTop)+e.clientHeight*(o>s.top?Math.min((o-s.top)/i,1):0);u=this.getResolvedScrollTop("editor",l,u,a),this.latestEditorScrollTop=l}u!==a&&this.run("editor",u,a)}},qg.prototype.syncEditorScrollTop=function(e){var t,n=this.toastMark,r=this.editorView,o=this.previewRoot,i=this.previewEl,s=r.dom,r=r.state,a=i.scrollTop,l=i.clientHeight,i=i.scrollHeight-a<=l,l=s.scrollTop,c=i?s.scrollHeight:0;if(a&&e&&!i){if(!(e=function(e,t){for(;!e.getAttribute("data-nodeid")&&e.parentElement!==t;)e=e.parentElement;return e}(e,o)).getAttribute("data-nodeid"))return;var i=s.children,s=Number(e.getAttribute("data-nodeid")),e=eh(this.previewRoot,n.findNodeById(s)),n=e.mdNode,e=e.el,c=i[ss(n)-1].offsetTop,r=Qp(r.doc,n,i).height,s=(n=e,i=o,o=th[o=e=s]&&th[o].height,s=th[e]&&th[e].offsetTop,t=o||n.clientHeight,i=s||Yp(n,i)||n.offsetTop,o||(n=t,th[o=e]=th[o]||{},th[o].height=n),s||(o=i,th[n=e]=th[n]||{},th[n].offsetTop=o),{nodeHeight:t,offsetTop:i}),e=s.nodeHeight;c+=(n=r,Math.min((a-s.offsetTop)/e,1)*n),c=this.getResolvedScrollTop("preview",a,c,l),this.latestPreviewScrollTop=a}c!==l&&this.run("preview",c,l)},qg.prototype.getResolvedScrollTop=function(e,t,n,r){e="editor"===e?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===e?n:e<t?Math.max(n,r):Math.min(n,r)},qg.prototype.run=function(e,t,n){var r,o,i,s,a,l,c=this;function u(){var e=(Date.now()-l)/100;Rg&&clearTimeout(Rg),Rg=e<1?(e=o+a*Math.cos((1-e)*Math.PI/2),Fg(Math.ceil(e),s),setTimeout(u,1)):(Fg(i,s),null)}"editor"===e?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor"),s={syncScrollTop:function(e){return r.scrollTop=e},releaseEventBlock:function(){return c.blockedScroll=null}},a=(i=t)-(o=n),l=Date.now(),u()},qg.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},qg.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")};var Hg=qg,zg={getPopupInitialValues:function(e,t){return"link"===t.popupName?{linkText:e.getSelectedText()}:{}}};function qg(e,t,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var r=t.previewContent,t=t.el;this.previewRoot=r,this.previewEl=t,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}I.prototype.addInitEvent=function(){var t=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){var e;"auto"!==t.height&&(e=Math.min(parseInt(t.minHeight,10),parseInt(t.height,10)-75)+"px",t.setMinHeight(e))}),this.eventEmitter.listen("addImageBlobHook",function(e,t){var n=new FileReader;n.onload=function(e){e=e.target;return t(e.result)},n.readAsDataURL(e)})},I.prototype.addInitCommand=function(e,t){function n(t,n){Object.keys(n).forEach(function(e){r.addCommand(t,e,n[e])})}var r=this;this.addCommand("markdown","toggleScrollSync",function(e){return r.eventEmitter.emit("toggleScrollSync",e.active),!0}),n("markdown",e),n("wysiwyg",t)},I.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},I.factory=function(e){return new(e.viewer?Ng:I)(e)},I.setLanguage=function(e,t){D.setLanguage(e,t)},I.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},I.prototype.exec=function(e,t){this.commandManager.exec(e,t)},I.prototype.addCommand=function(n,e,r){var o=this;this.commandManager.addCommand(n,e,function(e){var t=("markdown"===n?o.mdEditor:o.wwEditor).view;r(e=void 0===e?{}:e,t.state,t.dispatch,t)})},I.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},I.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},I.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},I.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},I.prototype.focus=function(){this.getCurrentModeEditor().focus()},I.prototype.blur=function(){this.getCurrentModeEditor().blur()},I.prototype.moveCursorToEnd=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},I.prototype.moveCursorToStart=function(e){void 0===e&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},I.prototype.setMarkdown=function(e,t){this.mdEditor.setMarkdown(e=void 0===e?"":e,t=void 0===t?!0:t),this.isWysiwygMode()&&(e=this.toastMark.getRootNode(),e=this.convertor.toWysiwygModel(e),this.wwEditor.setModel(e,t))},I.prototype.setHTML=function(e,t){void 0===e&&(e=""),void 0===t&&(t=!0);var n,r,o=document.createElement("div"),e=(o.innerHTML=(n=e.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),e=new RegExp(As,"ig"),null!=(r=n.match(e))&&r.forEach(function(e,t){Is.test(e)&&(e=Ps,t&&(t=r[t-1].match(Ds))&&!/br/i.test(t[1])&&(e="</"+(t=t[1])+"><"+t+">"),n=n.replace(Is,e))}),n),ke.fromSchema(this.wwEditor.schema).parse(o));this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(e),t):this.wwEditor.setModel(e,t)},I.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},I.prototype.getHTML=function(){var e,t=this,n=(this.eventEmitter.holdEventInvoke(function(){var e;t.isMarkdownMode()&&(e=t.toastMark.getRootNode(),e=t.convertor.toWysiwygModel(e),t.wwEditor.setModel(e))}),Ws(this.wwEditor.view.dom.innerHTML));return this.placeholder?(e=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i"),n.replace(e,"")):n},I.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},I.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},I.prototype.replaceSelection=function(e,t,n){this.getCurrentModeEditor().replaceSelection(e,t,n)},I.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},I.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},I.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},I.prototype.addWidget=function(e,t,n){this.getCurrentModeEditor().addWidget(e,t,n)},I.prototype.replaceWithWidget=function(e,t,n){this.getCurrentModeEditor().replaceWithWidget(e,t,n)},I.prototype.setHeight=function(e){var t=this.options.el;Fe()(e)&&(("auto"===e?Pe:Be)()(t,"auto-height"),this.setMinHeight(this.getMinHeight())),Re()(t,{height:e}),this.height=e},I.prototype.getHeight=function(){return this.height},I.prototype.setMinHeight=function(e){var t;e!==this.minHeight&&("auto"!==(t=this.height||this.options.height)&&this.options.el.querySelector("."+h("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px"),t=parseInt(e,10),this.minHeight=e,this.wwEditor.setMinHeight(t),this.mdEditor.setMinHeight(t),this.preview.setMinHeight(t))},I.prototype.getMinHeight=function(){return this.minHeight},I.prototype.isMarkdownMode=function(){return"markdown"===this.mode},I.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},I.prototype.isViewer=function(){return!1},I.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},I.prototype.changeMode=function(e,t){var n;this.mode!==e&&(this.mode=e,this.isWysiwygMode()?(n=this.toastMark.getRootNode(),n=this.convertor.toWysiwygModel(n),this.wwEditor.setModel(n)):(n=this.wwEditor.getModel(),this.mdEditor.setMarkdown(this.convertor.toMarkdownText(n),!t)),this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),t||(n=this.convertor.getMappedPos(),this.focus(),this.isWysiwygMode()&&He()(n)?this.wwEditor.setSelection(n):Array.isArray(n)&&this.mdEditor.setSelection(n)))},I.prototype.destroy=function(){var n=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(e,t){return n.off(t)})},I.prototype.hide=function(){this.eventEmitter.emit("hide")},I.prototype.show=function(){this.eventEmitter.emit("show")},I.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},I.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},I.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},I.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},I.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},I.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},I.prototype.convertPosToMatchEditorMode=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=this.mode);var r=this.mdEditor.view.state.doc,o=Array.isArray(e),i=Array.isArray(t),s=e,a=t;if(o!==i)throw new Error("Types of arguments must be same");return"markdown"!==n||o||i?"wysiwyg"===n&&o&&i&&(s=(n=ma(r,e,t))[0],a=n[1]):(s=(o=ha(r,e,t))[0],a=o[1]),[s,a]};Bc=I;function I(e){var t,r,o,i,n,s=this,e=(this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Ie()({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e),this.options),a=e.customHTMLRenderer,l=e.extendedAutolinks,c=e.referenceDefinition,u=e.frontMatter,d=e.customMarkdownRenderer,p=e.useCommandShortcut,h=e.initialEditType,f=e.widgetRules,e=e.customHTMLSanitizer,h=(this.mode=h||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=D,this.i18n.setCode(this.options.language),this.eventEmitter=new Xm,(gs=f).forEach(function(e,t){vs["widget"+t]=e}),nt(this.options.linkAttributes)),f=(this.pluginInfo=Sg({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this}),this.pluginInfo),m=f.toHTMLRenderers,g=f.toMarkdownRenderers,v=f.mdPlugins,y=f.wwPlugins,b=f.wwNodeViews,w=f.mdCommands,k=f.wwCommands,f=f.markdownParsers,m={linkAttributes:h,customHTMLRenderer:ut(m,a),extendedAutolinks:l,referenceDefinition:c,frontMatter:u,sanitizer:e||Vp},a=new Ig(h,m.customHTMLRenderer),e=(t=m.customHTMLRenderer,r=m.sanitizer,o=a,i={nodes:{},marks:{}},["htmlBlock","htmlInline"].forEach(function(n){t[n]&&Object.keys(t[n]).forEach(function(e){var t="htmlBlock"===n?"nodes":"marks";qp(e),i[t][e]=Wp[n](e,r,o)})}),i);this.toastMark=new Np("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:l,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:u,customParser:f}),this.mdEditor=new Tc(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:p,mdPlugins:v}),this.preview=new oh(this.eventEmitter,x(x({},m),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Gm(this.eventEmitter,{toDOMAdaptor:a,useCommandShortcut:p,htmlSchemaMap:e,linkAttributes:h,wwPlugins:y,wwNodeViews:b}),this.convertor=new Tg(this.wwEditor.getSchema(),x(x({},g),d),Kp(h,m.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Ym(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return s.mode}),this.options.usageStatistics&&Ve()("editor","UA-129966929-1"),this.scrollSync=new Hg(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(w,k),(n=this).eventEmitter.listen("query",function(e,t){return zg[e](n,t)}),this.options.hooks&&Le()(this.options.hooks,function(e,t){return s.addHook(t,e)}),this.options.events&&Le()(this.options.events,function(e,t){return s.on(t,e)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}var Hc=l0(326),Vg=l0.n(Hc),jg=(Ug.prototype.walk=function(){var e=this.entering,t=this.current;return t?(e?t.firstChild?(this.current=t.firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:t.next?(this.current=t.next,this.entering=!0):(this.current=t.parent,this.entering=!1),{vnode:t,entering:e}):null},Ug),$g=(_g.prototype.walker=function(){return new jg(this)},_g.removalNodes=[],_g);function _g(e,t,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=n,this.props.children=n,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}function Ug(e){this.current=e,this.root=e,this.entering=!0}function Wg(e,t){var n=e;Vg()(e)||null==e?n=null:(Fe()(e)||He()(e))&&(e=String(e),n=new $g("TEXT_NODE",{nodeValue:e},[])),n&&t.push(n)}var R=function(e){for(var t,n,r=arguments,o=1,i="",s="",a=[0],l=function(e){1===o&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(e?r[e]:i):3===o&&(e||i)?(a[1]=e?r[e]:i,o=2):2===o&&"..."===i&&e?a[2]=ht(a[2]||{},r[e]):2===o&&i&&!e?(a[2]=a[2]||{})[i]=!0:5<=o&&(5===o?((a[2]=a[2]||{})[n]=e?i?i+r[e]:r[e]:i,o=6):(e||i)&&(a[2][n]+=e?i+r[e]:i)),i=""},c=0;c<e.length;c++){c&&(1===o&&l(),l(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===o?"<"===t?(l(),a=[a,"",null],o=3):i+=t:4===o?i="--"===i&&">"===t?(o=1,""):t+i[0]:s?t===s?s="":i+=t:'"'===t||"'"===t?s=t:">"===t?(l(),o=1):o&&("="===t?(o=5,n=i,i=""):"/"===t&&(o<5||">"===e[c][u+1])?(l(),3===o&&(a=a[0]),(a=(o=a)[0]).push(this.apply(null,o.slice(1))),o=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),o=2):i+=t),3===o&&"!--"===i&&(o=4,a=a[0])}return l(),2<a.length?a.slice(1):a[1]}.bind(function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=[];return n.forEach(function(e){Array.isArray(e)?e.forEach(function(e){Wg(e,o)}):Wg(e,o)}),new $g(e,t||{},o)}),t=l0(73),Jg=l0.n(t);var Gg=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Kg(o,i,s,a){Object.keys(s).forEach(function(e){var n,t,r;a&&!a(e)||(/^on/.test(e)?(t=e.slice(2).toLowerCase(),o.addEventListener(t,s[e])):"nodeValue"===e?o[e]=s[e]:"style"===e&&Jg()(s[e])?(n=o,t=i[e],r=s[e],t&&Object.keys(t).forEach(function(e){n.style[e]=""}),Object.keys(r).forEach(function(e){var t=r[e];n.style[e]=He()(t)&&!Gg.test(e)?t+"px":t})):"children"!==e&&(!1===s[e]?o.removeAttribute(e):o.setAttribute(e,s[e])))})}function Zg(e){if($g.removalNodes.forEach(Qg),e)for(var t=e.walker();n=t.walk();){var n,r;e=n.vnode,n.entering?Qg(e):oa()(e.type)&&(n=e.component,!e.old&&n.mounted&&n.mounted(),e.old)&&n.updated&&(r=n.prevProps||{},n.updated(r))}}function Xg(e){for(var t=e.parent;!t.node;)t=t.parent;return t.node}function Qg(e){if(e&&e.parent){var t;if(e.node&&(t=Xg(e),"A"===e.effect?t.appendChild(e.node):"U"===e.effect&&(o=e.node,i=e.old.props,s=e.props,Object.keys(i).forEach(function(e){var t;/^on/.test(e)?s[e]&&i[e]===s[e]||(t=e.slice(2).toLowerCase(),o.removeEventListener(t,i[e])):"children"===e||s[e]||(null==o?void 0:o.nodeType)===Node.TEXT_NODE||o.removeAttribute(e)}),Kg(o,i,s,function(e){return!at(i[e],s[e])}))),"D"===e.effect)for(var n,r=e.walker();n=r.walk();)e=n.vnode,n.entering||(oa()(e.type)?(n=e.component).beforeDestroy&&n.beforeDestroy():function e(t,n){t.node?n.removeChild(t.node):e(t.firstChild,n)}(e,t=Xg(e)));e.ref&&(e.component?e.ref(e.component):e.node&&e.ref(e.node))}var o,i,s}function Yg(e){for(var t,n,r,o,i=e;e&&!e.skip;)if(oa()(e.type)?(t=e.type,o=r=void 0,r=(n=e).props,((n=(o=n.component)?(o.prevProps=o.props,o.props=n.props,o):new t(r)).vnode=e).component=n,e.props.children=e.children=[n.render()]):e.node||(e.node=(o=void 0,"TEXT_NODE"===(t=e).type?o=document.createTextNode(t.props.nodeValue):Kg(o=document.createElement(t.type),{},t.props),o)),ev(e),e.firstChild)e=e.firstChild;else{for(;e&&e.parent&&!e.next&&(e=e.parent)!==i;);e=e.next}}function ev(r){var e=r.children,o=r.old?r.old.firstChild:null,i=null,t=(e.forEach(function(e,t){var n=(n=o)&&e&&e.type===n.type&&(!e.key||e.key===n.key);n&&(e.old=o,e.parent=r,e.node=o.node,e.component=o.component,e.effect="U"),e&&!n&&(e.old=null,e.parent=r,e.node=null,e.effect="A"),o&&!n&&($g.removalNodes.push(o),o.effect="D"),o=o&&o.next,0===t?r.firstChild=e:e&&(i.next=e),i=e}),lt(e));if(!e.length)for(;o;)$g.removalNodes.push(o),o.effect="D",o=o.next;for(;o&&t;)o&&t.old!==o&&($g.removalNodes.push(o),o.effect="D",o=o.next)}function tv(e,t){var n=new $g(e.tagName.toLowerCase(),{},[t]);return n.node=e,$g.removalNodes=[],Yg(n),Zg(n),function(){var e;(e=n.firstChild).effect="D",$g.removalNodes=[e],Zg(),$g.removalNodes=[]}}fv.prototype.setState=function(e){var e=x(x({},this.state),e);at(this.state,e)||(this.state=e,(e=(e=this).vnode).effect="U",(e.old=e).next&&(e.next.skip=!0),$g.removalNodes=[],Yg(e),Zg(e),e.next&&(e.next.skip=!1))};var nv,rv,ov=fv,iv=(r(hv,rv=ov),hv.prototype.show=function(){this.setState({hide:!1})},hv.prototype.hide=function(){this.setState({hide:!0})},hv.prototype.render=function(){var e=this.props,t=e.editorType,n=e.eventEmitter;return R(nv=nv||d(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "]),h("mode-switch"),this.state.hide?"none":"block","markdown"===t?" active":"",function(){n.emit("needChangeMode","markdown")},D.get("Markdown"),"wysiwyg"===t?" active":"",function(){n.emit("needChangeMode","wysiwyg")},D.get("WYSIWYG"))},hv),l=l0(423),sv=l0.n(l),av="undefined"!=typeof Map?Map:(Object.defineProperty(dv.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),dv.prototype.get=function(e){e=pv(this.__entries__,e),e=this.__entries__[e];return e&&e[1]},dv.prototype.set=function(e,t){var n=pv(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},dv.prototype.delete=function(e){var t=this.__entries__,e=pv(t,e);~e&&t.splice(e,1)},dv.prototype.has=function(e){return!!~pv(this.__entries__,e)},dv.prototype.clear=function(){this.__entries__.splice(0)},dv.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},dv),lv="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,cv=void 0!==l0.g&&l0.g.Math===Math?l0.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),uv="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(cv):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};function dv(){this.__entries__=[]}function pv(e,n){var r=-1;return e.some(function(e,t){return e[0]===n&&(r=t,!0)}),r}function hv(e){e=rv.call(this,e)||this;return e.state={hide:!1},e}function fv(e){this.props=e,this.state={},this.refs={}}function mv(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}}var gv=["top","right","bottom","left","width","height","size","weight"],vv="undefined"!=typeof MutationObserver,yv=(kv.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},kv.prototype.removeObserver=function(e){var t=this.observers_,e=t.indexOf(e);~e&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},kv.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},kv.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),0<e.length},kv.prototype.connect_=function(){lv&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vv?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},kv.prototype.disconnect_=function(){lv&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},kv.prototype.onTransitionEnd_=function(e){var e=e.propertyName,t=void 0===e?"":e;gv.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},kv.getInstance=function(){return this.instance_||(this.instance_=new kv),this.instance_},kv.instance_=null,kv),bv=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||cv},wv=Ev(0,0,0,0);function kv(){function e(){i&&(i=!1,r()),s&&n()}function t(){uv(e)}function n(){var e=Date.now();if(i){if(e-a<2)return;s=!0}else s=!(i=!0),setTimeout(t,o);a=e}var r,o,i,s,a;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(r=this.refresh.bind(this),s=i=!(o=20),a=0,n)}function xv(e){return parseFloat(e)||0}function Cv(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(e,t){return e+xv(n["border-"+t+"-width"])},0)}var Tv="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof bv(e).SVGGraphicsElement}:function(e){return e instanceof bv(e).SVGElement&&"function"==typeof e.getBBox};function Mv(e){return lv?Tv(e)?Ev(0,0,(l=e.getBBox()).width,l.height):(e=(l=e).clientWidth,a=l.clientHeight,e||a?(n=(t=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=xv(i)}return t}(s=bv(l).getComputedStyle(l))).left+t.right,r=t.top+t.bottom,o=xv(s.width),i=xv(s.height),"border-box"===s.boxSizing&&(Math.round(o+n)!==e&&(o-=Cv(s,"left","right")+n),Math.round(i+r)!==a)&&(i-=Cv(s,"top","bottom")+r),l!==bv(l).document.documentElement&&(s=Math.round(o+n)-e,l=Math.round(i+r)-a,1!==Math.abs(s)&&(o-=s),1!==Math.abs(l))&&(i-=l),Ev(t.left,t.top,o,i)):wv):wv;var t,n,r,o,i,s,a,l}function Ev(e,t,n,r){return{x:e,y:t,width:n,height:r}}function Sv(e,t){var n,r,o,i;n=t.x,r=t.y,o=t.width,t=t.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(i.prototype),mv(i,{x:n,y:r,width:o,height:t,top:r,right:n+o,bottom:t+r,left:n}),mv(this,{target:e,contentRect:i})}function Nv(e){if(!(this instanceof Nv))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=yv.getInstance(),e=new Dv(e,t,this);Av.set(this,e)}Iv.prototype.isActive=function(){var e=Mv(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},Iv.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var Ov=Iv,Dv=(Lv.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof bv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ov(e)),this.controller_.addObserver(this),this.controller_.refresh())}},Lv.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof bv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},Lv.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},Lv.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},Lv.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new Sv(e.target,e.broadcastRect())}),this.callback_.call(e,t,e),this.clearActive())},Lv.prototype.clearActive=function(){this.activeObservations_.splice(0)},Lv.prototype.hasActive=function(){return 0<this.activeObservations_.length},Lv),Av=new("undefined"!=typeof WeakMap?WeakMap:av);function Lv(e,t,n){if(this.activeObservations_=[],this.observations_=new av,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}function Iv(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ev(0,0,0,0),this.target=e}["observe","unobserve","disconnect"].forEach(function(t){Nv.prototype[t]=function(){var e;return(e=Av.get(this))[t].apply(e,arguments)}});var Rv,Pv,Bv,Fv,Hv,zv,qv,Vv,jv,$v,_v,Uv,Wv,Jv,Gv,Kv,Zv,Xv,Qv,Yv,ey,ty,ny=void 0!==cv.ResizeObserver?cv.ResizeObserver:Nv,ry=(r(fy,ty=ov),fy.prototype.execCommand=function(e){e=$s(e.target,"li");this.props.execCommand("heading",{level:Number(e.getAttribute("data-level"))})},fy.prototype.render=function(){var t=this;return R(Pv=Pv||d(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "]),function(e){return t.execCommand(e)},D.get("Headings"),[1,2,3,4,5,6].map(function(e){return R(Rv=Rv||d(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "]),e,"h"+e,D.get("Heading"),e)}),D.get("Paragraph"))},fy),oy=(r(hy,ey=ov),hy.prototype.toggleTab=function(e,t){this.props.onClick(e,t)},hy.prototype.render=function(){var r=this;return R(Fv=Fv||d(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "]),h("tabs"),this.props.tabs.map(function(e){var t=e.name,e=e.text,n=r.props.activeTab===t;return R(Bv=Bv||d(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "]),n?" active":"",function(e){return r.toggleTab(e,t)},D.get(e),n?"true":"false",n?"0":"-1",D.get(e))}))},hy),iy=(r(py,Yv=ov),py.prototype.emitAddImageBlob=function(){var n=this,e=this.refs.file.files,r=this.refs.altText,t=" wrong";null!=e&&e.length&&(t="",e=e.item(0),this.props.eventEmitter.emit("addImageBlobHook",e,function(e,t){return n.props.execCommand("addImage",{imageUrl:e,altText:t||r.value})},"ui")),this.setState({fileNameElClassName:t})},py.prototype.emitAddImage=function(){var e=this.refs.url,t=this.refs.altText,n=e.value,t=t.value||"image";Be()(e,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:t}):Pe()(e,"wrong")},py.prototype.preventSelectStart=function(e){e.preventDefault()},py.prototype.updated=function(){this.props.show||this.initialize()},py.prototype.render=function(){var t=this,e=this.state,n=e.activeTab,r=e.file,e=e.fileNameElClassName;return R(Hv=Hv||d(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "]),D.get("Insert image"),oy,this.tabs,n,this.toggleTab,"url"===n?"block":"none",D.get("Image URL"),function(e){return t.refs.url=e},"file"===n?"block":"none",D.get("Select image file"),h("file-name"),r?" has-file":e,this.showFileSelectBox,this.preventSelectStart,r?r.name:D.get("No file"),h("file-select-button"),this.showFileSelectBox,D.get("Choose a file"),this.changeFile,function(e){return t.refs.file=e},D.get("Description"),function(e){return t.refs.altText=e},h("button-container"),h("close-button"),this.props.hidePopup,D.get("Cancel"),h("ok-button"),this.execCommand,D.get("OK"))},py),sy=(r(dy,Qv=ov),dy.prototype.initialize=function(){var e=this.props.initialValues,t=e.linkUrl,e=e.linkText,n=this.refs.url,r=this.refs.text;Be()(n,"wrong"),Be()(r,"wrong","disabled"),r.removeAttribute("disabled"),t&&(Pe()(r,"disabled"),r.setAttribute("disabled","disabled")),n.value=t||"",r.value=e||""},dy.prototype.mounted=function(){this.initialize()},dy.prototype.updated=function(e){!e.show&&this.props.show&&this.initialize()},dy.prototype.render=function(){var t=this;return R(zv=zv||d(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "]),D.get("Insert link"),D.get("URL"),function(e){return t.refs.url=e},D.get("Link text"),function(e){return t.refs.text=e},h("button-container"),h("close-button"),this.props.hidePopup,D.get("Cancel"),h("ok-button"),this.execCommand,D.get("OK"))},dy),ay=(r(uy,Xv=ov),uy.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},uy.prototype.getBoundByRange=function(e,t){return{width:20*(e+1),height:20*(t+1)}},uy.prototype.getRangeByOffset=function(e,t){return{colIdx:Math.floor(e/20),rowIdx:Math.floor(t/20)}},uy.prototype.getTableRange=function(){var e=this.state,t=e.colIdx,e=e.rowIdx,n=Math.max(t,5),r=Math.max(e,5);return 5<=t&&n<9&&(n+=1),5<=e&&r<14&&(r+=1),{colIdx:n+1,rowIdx:r+1}},uy.prototype.getSelectionAreaBound=function(){var e=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),t=e.width,e=e.height;return t||e?{width:t-1,height:e-1,display:"block"}:{display:"none"}},uy.prototype.getSelectionRangeByOffset=function(e,t){e=this.getRangeByOffset(e,t);return e.rowIdx=Math.min(Math.max(e.rowIdx,1),14),e.colIdx=Math.min(Math.max(e.colIdx,1),9),e},uy.prototype.updated=function(){var e,t;this.props.show?-1===this.state.colIdx&&-1===this.state.rowIdx&&(e=(t=this.refs.tableEl.getBoundingClientRect()).left,t=t.top,this.offsetRect={left:window.pageXOffset+e,top:window.pageYOffset+t}):this.setState({colIdx:-1,rowIdx:-1})},uy.prototype.createTableArea=function(e){for(var t=e.colIdx,n=e.rowIdx,r=[],o=0;o<n;o+=1){for(var i=[],s=0;s<t;s+=1){var a=h("table-cell")+(0<o?"":" header");i.push(R(qv=qv||d(['<div class="','"></div>'],['<div class="','"></div>']),a))}r.push(R(Vv=Vv||d(['<div class="','">',"</div>"],['<div class="','">',"</div>"]),h("table-row"),i))}return R(jv=jv||d(['<div class="','">',"</div>"],['<div class="','">',"</div>"]),h("table"),r)},uy.prototype.render=function(){var t=this,e=this.getTableRange(),n=this.getSelectionAreaBound();return R($v=$v||d(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "]),D.get("Insert table"),h("table-selection"),function(e){return t.refs.tableEl=e},this.extendSelectionRange,this.execCommand,this.createTableArea(e),h("table-selection-layer"),n,h("table-description"),this.getDescription())},uy),ly=(r(cy,Zv=ov),cy.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},cy.prototype.updated=function(e){this.refs.el.replaceChild(this.props.body,e.body)},cy.prototype.render=function(){var t=this;return R(_v=_v||d(["<div ref=","></div>"],["<div ref=","></div>"]),function(e){return t.refs.el=e})},cy);function cy(){return null!==Zv&&Zv.apply(this,arguments)||this}function uy(e){var n=Xv.call(this,e)||this;return n.extendSelectionRange=function(e){var t=e.pageX,e=e.pageY,t=t-n.offsetRect.left,e=e-n.offsetRect.top,t=n.getSelectionRangeByOffset(t,e);n.setState(x({},t))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}function dy(){var n=null!==Qv&&Qv.apply(this,arguments)||this;return n.execCommand=function(){var e=n.refs.url,t=n.refs.text;Be()(e,"wrong"),Be()(t,"wrong"),e.value.length<1?Pe()(e,"wrong"):ze()(n.props.initialValues.linkUrl)&&t.value.length<1?Pe()(t,"wrong"):n.props.execCommand("addLink",{linkUrl:e.value,linkText:t.value})},n}function py(e){var n=Yv.call(this,e)||this;return n.initialize=function(e){void 0===e&&(e="file");var t=n.refs.url;t.value="",n.refs.altText.value="",n.refs.file.value="",Be()(t,"wrong"),n.setState({activeTab:e,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(e,t){t!==n.state.activeTab&&n.initialize(t)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(e){e=e.target.files;null!=e&&e.length&&n.setState({file:e[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}function hy(){return null!==ey&&ey.apply(this,arguments)||this}function fy(){return null!==ty&&ty.apply(this,arguments)||this}function my(e){if(Fe()(e)){var t;switch(e){case"heading":t={name:"heading",className:"heading",tooltip:D.get("Headings"),state:"heading"};break;case"bold":t={name:"bold",className:"bold",command:"bold",tooltip:D.get("Bold"),state:"strong"};break;case"italic":t={name:"italic",className:"italic",command:"italic",tooltip:D.get("Italic"),state:"emph"};break;case"strike":t={name:"strike",className:"strike",command:"strike",tooltip:D.get("Strike"),state:"strike"};break;case"hr":t={name:"hr",className:"hrline",command:"hr",tooltip:D.get("Line"),state:"thematicBreak"};break;case"quote":t={name:"quote",className:"quote",command:"blockQuote",tooltip:D.get("Blockquote"),state:"blockQuote"};break;case"ul":t={name:"ul",className:"bullet-list",command:"bulletList",tooltip:D.get("Unordered list"),state:"bulletList"};break;case"ol":t={name:"ol",className:"ordered-list",command:"orderedList",tooltip:D.get("Ordered list"),state:"orderedList"};break;case"task":t={name:"task",className:"task-list",command:"taskList",tooltip:D.get("Task"),state:"taskList"};break;case"table":t={name:"table",className:"table",tooltip:D.get("Insert table"),state:"table"};break;case"image":t={name:"image",className:"image",tooltip:D.get("Insert image")};break;case"link":t={name:"link",className:"link",tooltip:D.get("Insert link")};break;case"code":t={name:"code",className:"code",command:"code",tooltip:D.get("Code"),state:"code"};break;case"codeblock":t={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:D.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":t={name:"indent",className:"indent",command:"indent",tooltip:D.get("Indent"),state:"indent"};break;case"outdent":t={name:"outdent",className:"outdent",command:"outdent",tooltip:D.get("Outdent"),state:"outdent"};break;case"scrollSync":t=function(){var n=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");n.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";return n.appendChild(e),n.appendChild(t),{name:"scrollSync",el:n,onMounted:function(t){return e.addEventListener("change",function(e){e=e.target.checked;(e?Pe:Be)()(n,"active"),t("toggleScrollSync",{active:e})})}}}();break;case"more":t={name:"more",className:"more",tooltip:D.get("More")}}return"scrollSync"!==t.name&&(t.className+=" "+h("toolbar-icons")),t}return e}function gy(e,t){var n=t.el,r=t.pos,o=t.popup,i=t.initialValues;switch(e){case"heading":return{render:function(e){return R(Uv=Uv||d(["<"," ..."," />"],["<"," ..."," />"]),ry,e)},className:h("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(e){return R(Wv=Wv||d(["<"," ..."," />"],["<"," ..."," />"]),sy,e)},className:h("popup-add-link"),fromEl:n,pos:r,initialValues:i};case"image":return{render:function(e){return R(Jv=Jv||d(["<"," ..."," />"],["<"," ..."," />"]),iy,e)},className:h("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(e){return R(Gv=Gv||d(["<"," ..."," />"],["<"," ..."," />"]),ay,e)},className:h("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return o?x({render:function(e){return R(Kv=Kv||d(["<"," ..."," body="," />"],["<"," ..."," body="," />"]),ly,e,o.body)},fromEl:n,pos:r},o):null;default:return null}}function vy(e){e.hidden=e.length===e.filter(function(e){return e.hidden}).length}r(By,wy=ov),By.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},By.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},By.prototype.updated=function(e){var t=this.props,n=t.show,t=t.info;n&&t.pos&&e.show!==n&&(e=x({},t.pos),n=this.refs.el.offsetWidth,t=$s(this.refs.el,"."+h("toolbar")).offsetWidth,e.left+n>=t&&(e.left=t-n-20),at(this.state.popupPos,e)||this.setState({popupPos:e}))},By.prototype.render=function(){var t=this,e=this.props,n=e.info,r=e.show,o=e.hidePopup,i=e.eventEmitter,e=e.execCommand,n=n||{},s=n.className,s=void 0===s?"":s,a=n.style,l=n.render,n=n.initialValues,n=void 0===n?{}:n,a=x(x({display:r?"block":"none"},a),this.state.popupPos);return R(yy=yy||d(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "]),h("popup"),s,a,function(e){return t.refs.el=e},h("popup-body"),l&&l({eventEmitter:i,show:r,hidePopup:o,execCommand:e,initialValues:n}))};var yy,by,wy,ky,xy,Cy,Ty,My,Ey,Sy,Ny,Oy,Dy,Ay,Ly,Iy,Ry,Py=By;function By(){var t=null!==wy&&wy.apply(this,arguments)||this;return t.handleMousedown=function(e){$s(e.target,"."+h("popup"))||$s(e.target,t.props.info.fromEl)||t.props.hidePopup()},t}function Fy(e){return r(t,n=ov),t.prototype.addEvent=function(){var n=this,e=this.props,r=e.item,e=e.eventEmitter;r.state&&e.listen("changeToolbarState",function(e){var e=null!=(e=e.toolbarState[r.state])?e:{},t=e.active,e=e.disabled;n.setState({active:!!t,disabled:null!=e?e:n.props.disabled})})},t.prototype.getBound=function(e){var t=_s(e,$s(e,"."+h("toolbar"))),n=t.offsetLeft,t=t.offsetTop;return{left:n,top:e.offsetHeight+t}},t.prototype.render=function(){return R(by=by||d(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n          disabled=","\n        />\n      "]),e,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t;function t(e){var r=n.call(this,e)||this;return r.showTooltip=function(e){var t,n=r.props.item.tooltip;!r.props.disabled&&n&&(t=(e=r.getBound(e)).left+6+"px",e=e.top+6+"px",Re()(r.props.tooltipRef.current,{display:"block",left:t,top:e}),r.props.tooltipRef.current.querySelector(".text").textContent=n)},r.hideTooltip=function(){Re()(r.props.tooltipRef.current,"display","none")},r.state={active:!1,disabled:e.disabled},r.addEvent(),r}var n}r(s0,Qy=ov),s0.prototype.mounted=function(){this.setItemWidth()},s0.prototype.updated=function(e){e.item.name!==this.props.item.name&&this.setItemWidth()},s0.prototype.setItemWidth=function(){var e=this.props,t=e.setItemWidth,e=e.item;t&&t(e.name,js(this.refs.el)+(e.hidden?80:0))},s0.prototype.render=function(){var t=this,e=this.props,n=e.hideTooltip,r=e.disabled,o=e.item,e=e.active,i=x({display:o.hidden?"none":null},o.style),e=(o.className||"")+(e?" active":"");return R(ky=ky||d(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "]),function(e){return t.refs.el=e},i,e,this.execCommand,this.showTooltip,n,!!r,o.text||o.tooltip||"",o.text||"")};var Hy=Fy(s0);r(i0,Xy=ov),i0.prototype.mounted=function(){var e=this.props,t=e.setItemWidth,e=e.item;this.refs.el.appendChild(e.el),t&&t(e.name,js(this.refs.el)),e.onMounted&&e.onMounted(this.props.execCommand)},i0.prototype.updated=function(e){var t=this.props,n=t.item,r=t.active,t=t.disabled;e.active===r&&e.disabled===t||null==(e=n.onUpdated)||e.call(n,{active:r,disabled:t})},i0.prototype.render=function(){function e(e){return r?null:e}var t=this,n=this.props,r=n.disabled,n={display:n.item.hidden?"none":"inline-block"};return R(xy=xy||d(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "]),function(e){return t.refs.el=e},n,h("toolbar-item-wrapper"),e(this.showPopup),e(this.showTooltip),e(this.props.hideTooltip))};var zy=Fy(i0),qy=(r(o0,Zy=ov),o0.prototype.render=function(){var n=this,e=this.props,t=e.group,e=e.hiddenDivider,r=t.hidden?{display:"none"}:null,e=e?{display:"none"}:null;return R(Ty=Ty||d(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "]),h("toolbar-group"),r,t.map(function(e){var t=e.el?zy:Hy;return R(Cy=Cy||d(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"]),t,e.name,n.props,e)}),h("toolbar-divider"),e)},o0);r(r0,Ky=ov),r0.prototype.getBound=function(){var e=this.props.getBound(this.refs.el);return e.top+=4,x(x({},e),{left:null,right:10})},r0.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},r0.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},r0.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},r0.prototype.render=function(){var n=this,e=this.state,t=e.showDropdown,e=e.dropdownPos,r=this.props,o=r.disabled,i=r.item,s=r.items,r=r.hideTooltip,a=s.filter(function(e){return!e.hidden}),s=a.length?null:{display:"none"},t=t?null:{display:"none"};return R(Ey=Ey||d(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "]),h("toolbar-group"),s,function(e){return n.refs.el=e},i.className,function(){return n.setState({showDropdown:!0})},this.showTooltip,r,o,h("dropdown-toolbar"),x(x({},t),e),function(e){return n.refs.dropdownEl=e},a.length?a.map(function(e,t){return R(My=My||d(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "]),qy,e,t===a.length-1||(null==(e=a[t+1])?void 0:e.hidden),n.props)}):null)};var Vy=Fy(r0),jy=(r(n0,Gy=ov),n0.prototype.insertToolbarItem=function(e,t){var n=e.groupIndex,e=e.itemIndex,n=this.initialItems[n];t=my(t),n?n.splice(e,0,t):this.initialItems.push([t]),this.setState(this.classifyToolbarItems())},n0.prototype.removeToolbarItem=function(o){var i=this;Zs()(this.initialItems,function(n){var r=!1;return Zs()(n,function(e,t){return e.name!==o||(r=!0,n.splice(t,1),i.setState(i.classifyToolbarItems()),!1)}),!r})},n0.prototype.addEvent=function(){var e=this,t=this.props.eventEmitter;this.handleResize=sv()(function(){e.setState({items:e.initialItems,dropdownItems:[]}),e.setState(e.classifyToolbarItems())},200),t.listen("openPopup",this.openPopup)},n0.prototype.appendTooltipToRoot=function(){var e='<div class="'+h("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=Vs(e,this.refs.el)},n0.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},n0.prototype.movePrevItemToDropdownToolbar=function(e,t,n,r){function o(e){(e=e.pop())&&r.push(e)}1<e?o(n):(e=lt(t))&&o(e)},n0.prototype.classifyToolbarItems=function(){var o=this,i=0,s=this.refs.el.clientWidth,e=this.refs.el.querySelector("."+h("toolbar-divider")),a=e?js(e):0,l=[],c=[],u=!1;return this.initialItems.forEach(function(e,t){var n=[],r=[];e.forEach(function(e,t){e.hidden||((i+=o.itemWidthMap[e.name])>s-50?(u||(o.movePrevItemToDropdownToolbar(t,l,n,r),u=!0),r):n).push(e)}),n.length&&(vy(n),l.push(n)),r.length&&(vy(r),c.push(r)),t<o.state.items.length-1&&(i+=a)}),{items:l,dropdownItems:c}},n0.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},n0.prototype.updated=function(e){var t,n=this.props,r=n.editorType,o=n.previewStyle,n=n.eventEmitter,i=o!==e.previewStyle,e=r!==e.editorType;(i||e)&&(e=this.initialItems,t=this.hiddenScrollSync(),e.forEach(function(e){e.forEach(function(e){return e.hidden="scrollSync"===e.name&&t}),vy(e)}),e=this.classifyToolbarItems(),(i||"tab"===o&&"markdown"===r)&&(n.emit("changePreviewTabWrite"),e.activeTab="write"),this.setState(e))},n0.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),zs(this.tooltipRef.current)},n0.prototype.render=function(){var n=this,e=this.props,t=e.previewStyle,r=e.eventEmitter,e=e.editorType,o=this.state,i=o.popupInfo,s=o.showPopup,a=o.activeTab,l=o.items,o=o.dropdownItems,c={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===e&&"tab"===t&&"preview"===a,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},u="tab"===t?{borderTopLeftRadius:0}:null;return R(Ny=Ny||d(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "]),h("toolbar"),h("md-tab-container"),"wysiwyg"===e||"vertical"===t?"none":"block",oy,this.tabs,a,this.toggleTab,h("defaultUI-toolbar"),function(e){return n.refs.el=e},u,l.map(function(e,t){return R(Sy=Sy||d(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "]),qy,e,t===l.length-1||(null==(e=l[t+1])?void 0:e.hidden),n.setItemWidth,c)}),Vy,my("more"),o,c,Py,i,s,r,this.hidePopup,this.execCommand)},n0),$y=(r(t0,Jy=ov),t0.prototype.addEvent=function(){var n=this;this.props.eventEmitter.listen("contextmenu",function(e){var t=e.pos,e=e.menuGroups;n.setState({pos:t,menuGroups:e})})},t0.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},t0.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},t0.prototype.getMenuGroupElements=function(){var s=this,e=this.state,t=e.pos,e=e.menuGroups;return t?e.reduce(function(e,t){var i=[];return t.forEach(function(e){var t=e.label,n=e.className,n=void 0!==n&&n,r=e.disabled,o=e.onClick;i.push(R(Oy=Oy||d(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "]),function(){r||(o(),s.setState({pos:null}))},r?" disabled":"",n,t))}),e.push(R(Dy=Dy||d(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"]),i)),e},[]):[]},t0.prototype.render=function(){var e=x({display:this.state.pos?"block":"none"},this.state.pos);return R(Ay=Ay||d(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"]),h("context-menu"),e,this.getMenuGroupElements())},t0),_y=(r(e0,Wy=ov),e0.prototype.mounted=function(){var e=this.props.slots,t=e.wwEditor,n=e.mdEditor,e=e.mdPreview;this.refs.wwContainer.appendChild(t),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(e)},e0.prototype.insertToolbarItem=function(e,t){this.toolbar.insertToolbarItem(e,t)},e0.prototype.removeToolbarItem=function(e){this.toolbar.removeToolbarItem(e)},e0.prototype.render=function(){var t=this,e=this.props,n=e.eventEmitter,r=e.hideModeSwitch,o=e.toolbarItems,e=e.theme,i=this.state,s=i.hide,a=i.previewStyle,i=i.editorType,s=s?" hidden":"",l=h("markdown"===i?"md-mode":"ww-mode"),c=h("md")+"-"+a+"-style",e=h(["light"!==e,e+" "]);return R(Iy=Iy||d(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "]),e,h("defaultUI"),s,function(e){return t.refs.el=e},jy,function(e){return t.toolbar=e},n,a,o,i,h("main"),l,function(e){return t.refs.editorSection=e},h("main-container"),h("md-container"),c,function(e){return t.refs.mdContainer=e},h("md-splitter"),h("ww-container"),function(e){return t.refs.wwContainer=e},!r&&R(Ly=Ly||d(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"]),iv,n,i),$y,n)},e0.prototype.addEvent=function(){var e=this.props.eventEmitter;e.listen("hide",this.hide),e.listen("show",this.show),e.listen("changeMode",this.changeMode),e.listen("changePreviewStyle",this.changePreviewStyle)},e0);r(Yy,Uy=Bc),Yy.factory=function(e){return new(e.viewer?Ng:Yy)(e)},Yy.prototype.insertToolbarItem=function(e,t){this.defaultUI.insertToolbarItem(e,t)},Yy.prototype.removeToolbarItem=function(e){this.defaultUI.removeToolbarItem(e)},Yy.prototype.destroy=function(){Uy.prototype.destroy.call(this),this.defaultUI.destroy()};var Uy,Wy,Jy,Gy,Ky,Zy,Xy,Qy,Pc=Yy;function Yy(e){var t,r=Uy.call(this,e)||this,e=tv(r.options.el,R(Ry=Ry||d(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "]),_y,function(e){return t=e},r.eventEmitter,r.getEditorElements(),r.options.hideModeSwitch,r.options.toolbarItems,r.options.previewStyle,r.options.initialEditType,r.options.theme));return r.setMinHeight(r.options.minHeight),r.setHeight(r.options.height),r.defaultUI={insertToolbarItem:t.insertToolbarItem.bind(t),removeToolbarItem:t.removeToolbarItem.bind(t),destroy:e},null!=(e=r.pluginInfo.toolbarItems)&&e.forEach(function(e){var t=e.groupIndex,n=e.itemIndex,e=e.item;r.defaultUI.insertToolbarItem({groupIndex:t,itemIndex:n},e)}),r.eventEmitter.emit("loadUI",r),r}function e0(e){var t=Wy.call(this,e)||this,n=(t.changeMode=function(e){e!==t.state.editorType&&t.setState({editorType:e})},t.changePreviewStyle=function(e){e!==t.state.previewStyle&&t.setState({previewStyle:e})},t.hide=function(){t.setState({hide:!0})},t.show=function(){t.setState({hide:!1})},e.editorType),e=e.previewStyle;return t.state={editorType:n,previewStyle:e,hide:!1},t.addEvent(),t}function t0(e){var t=Jy.call(this,e)||this;return t.handleClickDocument=function(e){$s(e.target,"."+h("context-menu"))||t.setState({pos:null})},t.state={pos:null,menuGroups:[]},t.addEvent(),t}function n0(e){var n,i=Gy.call(this,e)||this;return i.toggleTab=function(e,t){var n=i.props.eventEmitter;i.state.activeTab!==t&&(n.emit("write"===t?"changePreviewTabWrite":"changePreviewTabPreview"),i.setState({activeTab:t}))},i.setItemWidth=function(e,t){i.itemWidthMap[e]=t},i.setPopupInfo=function(e){i.setState({showPopup:!0,popupInfo:e})},i.openPopup=function(e,t){void 0===t&&(t={});var n,r,o=i.refs.el.querySelector("."+h("toolbar-group")+" ."+e);o&&(n=(r=_s(o,$s(o,"."+h("toolbar")))).offsetLeft,r=r.offsetTop,e=gy(e,{el:o,pos:{left:n,top:o.offsetHeight+r},initialValues:t}))&&i.setPopupInfo(e)},i.hidePopup=function(){i.state.showPopup&&i.setState({showPopup:!1})},i.execCommand=function(e,t){i.props.eventEmitter.emit("command",e,t),i.hidePopup()},i.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],i.itemWidthMap={},i.initialItems=(e=e.toolbarItems||[],n=i.hiddenScrollSync(),e.reduce(function(e,t){e.push(t.map(function(e){return(e=my(e)).hidden="scrollSync"===e.name&&n,e}));t=e[(e.length||1)-1];return t&&vy(t),e},[])),i.state={items:i.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},i.tooltipRef={current:null},i.resizeObserver=new ny(function(){return i.handleResize()}),i.addEvent(),i}function r0(e){var t=Ky.call(this,e)||this;return t.handleClickDocument=function(e){e=e.target;$s(e,"."+h("dropdown-toolbar"))||$s(e,".more")||t.setState({showDropdown:!1,dropdownPos:null})},t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.state={showDropdown:!1,dropdownPos:null},t}function o0(){return null!==Zy&&Zy.apply(this,arguments)||this}function i0(){var t=null!==Xy&&Xy.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var e=gy("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});e&&t.props.setPopupInfo(e)},t}function s0(){var a=null!==Qy&&Qy.apply(this,arguments)||this;return a.showTooltip=function(){a.props.showTooltip(a.refs.el)},a.execCommand=function(){var e=a.props,t=e.item,n=e.execCommand,r=e.setPopupInfo,o=e.getBound,e=e.eventEmitter,i=t.command,s=t.name,t=t.popup;i?n(i):(i=e.emit("query","getPopupInitialValues",{popupName:n=t?"customPopupBody":s})[0],(e=gy(n,{el:a.refs.el,pos:o(a.refs.el),popup:t,initialValues:i}))&&r(e))},a}Bc.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});var a0=Pc}(),c0.default;function l0(e){var t=r[e];return void 0!==t||(t=r[e]={exports:{}},n[e].call(t.exports,t,t.exports,l0)),t.exports}var n,r,c0});