<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="https://image.payple.kr/common/favicon.ico" sizes="32x32">
    <link rel="stylesheet" href="./../../css/payple_component.css?v1.4">
    <link rel="stylesheet" href="./../../css/payple_pages.css?v1.4">
    <script src="../../js/bundle.js?v1.4"></script>
    <script src="../../js/common.js?v1.4"></script>
    <title>페이플 관리자 페이지</title>
</head>

<body>
<div class="slide-modal-wrap _slide-modal-wrap _slide-modal-wrap-cancel show">
    <div class="slide-modal slide-modal-xl">
        <div class="slide-modal-header">
            <h3 class="font-h1 mb0 font-weight-bold">이메일 발송하기</h3>
            <i class="ico_close_btn _close-slide-modal-btn"></i>
        </div>
        <div class="slide-modal-body h-auto">
            <div class="position-relative email-container">
                <p class="title"><span>결제수단 선택</span></p>
                <div class="checkbox-wrap">
                    <div class="checkbox-list-area">
                        <span class="sub-title">서비스</span>
                        <ul>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="" class="custom-checkbox _check-all">
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>전체</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="global" class="custom-checkbox _domestic-all">
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>국내</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="global" class="custom-checkbox _overseas-all">
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>해외</span>
                                </label>
                            </li>
                        </ul>
                    </div>
                    <div class="domestic-checkbox-list-area">
                        <div class="checkbox-list-area">
                            <span class="sub-title">국내 카드</span>
                            <ul>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" class="custom-checkbox _domestic-card-all" name="domestic">
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>전체</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticCard" class="custom-checkbox">
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>앱카드</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticCard" class="custom-checkbox">
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>키인</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticCard" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>빌링</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticCard" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>비밀번호 간편</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                        <div class="checkbox-list-area">
                            <span class="sub-title">국내 계좌</span>
                            <ul>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" class="custom-checkbox _domestic-account-all"
                                               name="domestic"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>전체</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticAccount" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>빌링</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticAccount" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>비밀번호 간편</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                        <div class="checkbox-list-area">
                            <span class="sub-title">국내 페이</span>
                            <ul>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox"
                                               class="custom-checkbox _domestic-pay-all"
                                               name="domestic"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>전체</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticPay" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>네이버페이</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticPay" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>카카오페이</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticPay" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>애플페이</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                        <div class="checkbox-list-area">
                            <span class="sub-title">국내 허브</span>
                            <ul>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox"
                                               class="custom-checkbox _domestic-hub-all"
                                               name="domestic"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>전체</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticHub" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>인증+이체</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticHub" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>인증</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                        <div class="checkbox-list-area">
                            <span class="sub-title">국내 기타</span>
                            <ul>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox"
                                               class="custom-checkbox _domestic-etc-all"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>전체</span>
                                    </label>
                                </li>
                                <li>
                                    <label class="mb0 pointer-cursor">
                                        <input type="checkbox" name="domesticEtc" class="custom-checkbox"
                                        >
                                        <i class="icon ico_checkbox">체크박스</i>
                                        <span>가상계좌</span>
                                    </label>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="checkbox-list-area">
                        <span class="sub-title">해외 카드</span>
                        <ul>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox"
                                           name="overseas"
                                           class="custom-checkbox _overseas-card-all"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>전체</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="overseasCard" class="custom-checkbox _domestic-card"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>키인</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="overseasCard" class="custom-checkbox"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>빌링</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="overseasCard" class="custom-checkbox"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>비밀번호 간편</span>
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
                <p class="title"><span>이메일 발송 대상자 선택</span></p>
                <div class="checkbox-wrap mb0">
                    <div class="checkbox-list-area email">
                        <ul>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" class="custom-checkbox _email_all">
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>전체</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="email" class="custom-checkbox"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>회사공식. 고객센터</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="email" class="custom-checkbox"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>개발 담당자</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="email" class="custom-checkbox"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>정산 담당자</span>
                                </label>
                            </li>
                            <li>
                                <label class="mb0 pointer-cursor">
                                    <input type="checkbox" name="email" class="custom-checkbox"
                                    >
                                    <i class="icon ico_checkbox">체크박스</i>
                                    <span>계약 담당자</span>
                                </label>
                            </li>
                        </ul>
                    </div>
                </div>
                <p class="caption text">
                    <i class="icon ico_danger_gray"></i>
                    선택한 발송 대상자들의 이메일 중복시 중복을 제거한 뒤 1건만 발송됩니다.
                </p>
            </div>
        </div>
        <div class="slide-modal-footer clearfix">
            <div class="float-right">
                <button class="btn btn-primary btn-md" disabled>선택완료</button>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    /*
    * 각각의 라인에 전체를 클릭시 한줄씩 체크됨
    * 서비스에서 국내 클릭시 국내 전체 해외 클릭시 해외전체가 체크가 되야함
    * 서비스에서 전체 클릭시 전체가 체크가 되야함.
    * 개발시 name 값만 개발코드랑 동일 하게 수정 요청
    * */

    $(document).ready(function(){
        /*변수 선언*/
        let paymentMethods = [
            { allCheckbox: "._domestic-card-all", checkboxGroup: "input[name=domesticCard]" },
            { allCheckbox: "._domestic-account-all", checkboxGroup: "input[name=domesticAccount]" },
            { allCheckbox: "._domestic-pay-all", checkboxGroup: "input[name=domesticPay]" },
            { allCheckbox: "._domestic-hub-all", checkboxGroup: "input[name=domesticHub]" },
            { allCheckbox: "._domestic-etc-all", checkboxGroup: "input[name=domesticEtc]" },
            { allCheckbox: "._overseas-card-all", checkboxGroup: "input[name=overseasCard]" },
        ];


        function handleAllCheckboxChange(checkboxAll, checkboxGroup) {
            if (checkboxAll.is(":checked")) {
                checkboxGroup.prop("checked", true);
            } else {
                checkboxGroup.prop("checked", false);
            }
        }
        function handleCheckboxGroupChange(checkboxAll, checkboxGroup) {
            let total = checkboxGroup.length;
            let checked = checkboxGroup.filter(":checked").length;
            if (total !== checked) {
                checkboxAll.prop("checked", false);
            } else {
                checkboxAll.prop("checked", true);
            }
        }

        paymentMethods.forEach(function (method) {
            $(method.allCheckbox).on('change', function() {
                handleAllCheckboxChange($(method.allCheckbox), $(method.checkboxGroup));
            });

            $(method.checkboxGroup).on('change', function() {
                handleCheckboxGroupChange($(method.allCheckbox), $(method.checkboxGroup));
            });
        });


        /*이메일 */
        $('._email_all').on('change', function() {
            handleAllCheckboxChange($("._email_all"), $("input[name=email]"));
        });
        $("input[name=email]").on('change', function() {
            handleCheckboxGroupChange($("._email_all"), $("input[name=email]"));
        });
    })
</script>
</html>